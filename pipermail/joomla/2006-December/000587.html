<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [joomla] writing a module need some help getting user id
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/joomla/2006-December/index.html" >
   <LINK REL="made" HREF="mailto:joomla%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bjoomla%5D%20writing%20a%20module%20need%20some%20help%20getting%20user%20id&In-Reply-To=%3C4576EBF9.2070509%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000588.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[joomla] writing a module need some help getting user id</H1>
    <B>Seizo Mazer</B> 
    <A HREF="mailto:joomla%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bjoomla%5D%20writing%20a%20module%20need%20some%20help%20getting%20user%20id&In-Reply-To=%3C4576EBF9.2070509%40gmail.com%3E"
       TITLE="[joomla] writing a module need some help getting user id">seizo.mazer at gmail.com
       </A><BR>
    <I>Wed Dec  6 11:12:41 EST 2006</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000588.html">[joomla] adding rating system
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#587">[ date ]</a>
              <a href="thread.html#587">[ thread ]</a>
              <a href="subject.html#587">[ subject ]</a>
              <a href="author.html#587">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Everyone,

My name is Seizo and I run a music licensing site and I look forward to 
working with this community.

I'm putting together a module and would love some help. I have joomla 
1.0.11, and Community Builder 1.0.2. I am surprised how difficult it has 
been to find a module to do a simple file upload with a few added fields.

The module is in a music licensing site and it needs to take the 
following information:
1) user name
2) first name
3) Type of license they want (exclusive, non-exclusive)
4) The fee they would like to charge.
5) The name of the file to upload.

Only registered members (and I'm going to implement a tiered membership, 
silver, gold etc) may upload files and see the upload form.

The module also needs to confirm that all the information is there, 
match the user name and first name filled in by user (for security 
reasons), validate the form, validate the upload, send an email to the 
administrator that a new upload has been received with all the relevant 
details and send an email to the user that the upload has been received.

I have this sort of working but I know it's not the most elegant 
solution. mod_fileupload (my module) calls an external php script to 
actually handle the uploading and the email generation, and prints to 
the screen, on a blank page the success of the upload. The user then has 
to hit the back button to return to the website or else if I redirect 
them to the home page, it appears as if they are logged out. However 
since I don't know how to get the user information to verify I have to 
take it on faith that the user actually typed in their real username and 
first name. The reason is it's important is that the file they send me, 
then gets reviewed by my staff, and if approved, added as a product to 
the licensing store, and the user gets paid if the product gets 
licensed, but I need to verify that the user is who they are and that 
they do not abuse the site, or the upload section to cause harm.

Does anyone know how to get the user name and first name from within a 
module on a system using community builder? If I can get that 
information I should be able to verify and be much happier with the 
module. Thanks for your help.

Seizo

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000588.html">[joomla] adding rating system
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#587">[ date ]</a>
              <a href="thread.html#587">[ thread ]</a>
              <a href="subject.html#587">[ subject ]</a>
              <a href="author.html#587">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/joomla">More information about the Joomla
mailing list</a><br>
</body></html>

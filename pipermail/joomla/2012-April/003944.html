<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [joomla] Pre-Announcement: Crafty CMS
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/joomla/2012-April/index.html" >
   <LINK REL="made" HREF="mailto:joomla%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bjoomla%5D%20Pre-Announcement%3A%20Crafty%20CMS&In-Reply-To=%3C4F88331D.6030301%40wolpow.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003943.html">
   <LINK REL="Next"  HREF="003945.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[joomla] Pre-Announcement: Crafty CMS</H1>
    <B>Scott Wolpow</B> 
    <A HREF="mailto:joomla%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bjoomla%5D%20Pre-Announcement%3A%20Crafty%20CMS&In-Reply-To=%3C4F88331D.6030301%40wolpow.com%3E"
       TITLE="[joomla] Pre-Announcement: Crafty CMS">scott at wolpow.com
       </A><BR>
    <I>Fri Apr 13 10:07:25 EDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="003943.html">[joomla] Pre-Announcement: Crafty CMS
</A></li>
        <LI>Next message: <A HREF="003945.html">[joomla] Pre-Announcement: Crafty CMS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3944">[ date ]</a>
              <a href="thread.html#3944">[ thread ]</a>
              <a href="subject.html#3944">[ subject ]</a>
              <a href="author.html#3944">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Gary,
UCM is already done for CLI from eBay

<A HREF="https://groups.google.com/forum/#!topic/joomla-dev-platform/sqdZ0B_WCiQ">https://groups.google.com/forum/#!topic/joomla-dev-platform/sqdZ0B_WCiQ</A>

SW
On 4/13/2012 9:38 AM, Gary Mort wrote:
&gt;<i> I wanted to gauge interest here.  I'm setting up my own personal 
</I>&gt;<i> websites and I find:
</I>&gt;<i> Joomla! is 60% of what I want
</I>&gt;<i> 20% of what I want can be handled with custom components, templates, 
</I>&gt;<i> modules, and plugins
</I>&gt;<i> 5% of what I want is either in the next platform or cms release
</I>&gt;<i> 10% of what I want can be handled with autoloaders and overrides
</I>&gt;<i> 5% of what I want requires hacking core code
</I>&gt;<i>
</I>&gt;<i> Now, if I was my client, I'd tell myself to focus on what I /need/ not 
</I>&gt;<i> what I want and try to eliminate any core hacks and most of the 
</I>&gt;<i> overrides..
</I>&gt;<i>
</I>&gt;<i> But I'm not a client, I'm me.  And everytime I start setting this up I 
</I>&gt;<i> get frustrated because it doesn't meet my artistic vision - and I'm 
</I>&gt;<i> not willing to compromise my vision[wow, I sound like a silly 
</I>&gt;<i> *artiste* don't I?]
</I>&gt;<i>
</I>&gt;<i> So the solution is simple, fork Joomla!
</I>&gt;<i> Not in a competitive way, but in the way I've seen done on countless 
</I>&gt;<i> client projects where they have some custom code they use in house and 
</I>&gt;<i> no one else ever see's the code.
</I>&gt;<i>
</I>&gt;<i> My plan is to create a fork of the Joomla! repository.  Then in that 
</I>&gt;<i> fork create 2 new branches, one for dev/hacks and one for 
</I>&gt;<i> releases...ideally 80% of released code could be pulled right back 
</I>&gt;<i> into Joomla!...and if it's pulled properly, when I update my fork from 
</I>&gt;<i> their it will integrate seamlessly and override my own code.
</I>&gt;<i>
</I>&gt;<i> My question is, how many people are truly interested in playing around 
</I>&gt;<i> with it?  Not just a cursory glance, but truly looking it over and 
</I>&gt;<i> testing it out?  Because my early code will often have stuff I don't 
</I>&gt;<i> want publicly available, I'll be placing it all in a private github 
</I>&gt;<i> repository...and I'm not willing to pay for that so it means charging 
</I>&gt;<i> a nominal annual fee for repository access[say 24$/year to make sure 
</I>&gt;<i> people are serious and make sure I don't end up losing money to 
</I>&gt;<i> Github].  Almost everything there will....eventually make it out into 
</I>&gt;<i> the public either as an installable Joomla! extension, or pull 
</I>&gt;<i> requests back to the source.
</I>&gt;<i>
</I>&gt;<i> As a quick summary of what I &quot;want&quot;:
</I>&gt;<i> Multi-site single installation codebase: All Joomla needs is 2 changes 
</I>&gt;<i> to support multiple domains from the same codebase.  It needs a 
</I>&gt;<i> hook/plugin for the query builder so a domain filter can be added to 
</I>&gt;<i> when using specific tables[for example, where DOMAIN='mydomain.com'] 
</I>&gt;<i> and a pre-system setup call to set the domain.  That is it.  
</I>&gt;<i> Everything else is in there, plugins for editors can add the domain 
</I>&gt;<i> selector.  Plugins for forms can filter out domain specific info, etc.
</I>&gt;<i>
</I>&gt;<i> Unified Content: Taking a leaf from Drupal, instead of storing raw 
</I>&gt;<i> content in the content table, I'd much rather store content that has 
</I>&gt;<i> already been formatted for display and is searchable.  All it requires 
</I>&gt;<i> is adding an content type mapping to map content to different 
</I>&gt;<i> components for editing and in one swell fwoop you get rid of 90% of 
</I>&gt;<i> the SEF headaches...SEF now can almost /always/ use content sef 
</I>&gt;<i> mapping.  Other components augment content rather then display 
</I>&gt;<i> different content.  It also solves 75% of searching issues as all 
</I>&gt;<i> searching can be done on the content itself, not different searches.
</I>&gt;<i>
</I>&gt;<i> Null Storage engine for Caching:  Over and over in the codebase there 
</I>&gt;<i> are all these components that store objects they retrieve so they 
</I>&gt;<i> don't retrieve them over and over.  But we already have a class that 
</I>&gt;<i> does this, Cache....the only problem is that cache is for storing data 
</I>&gt;<i> TO somewhere.  But in this case, we only want to store data in 
</I>&gt;<i> memory.  So use cache.
</I>&gt;<i>
</I>&gt;<i> Caching priorities:  TTL SUCKS as a caching strategy.  Basically it 
</I>&gt;<i> says 'save this for 15 minutes, then throw it away'.   As long as I am 
</I>&gt;<i> caching data, I want it to be intelligent!
</I>&gt;<i>
</I>&gt;<i> A typical Joomla! Caching snippet:
</I>&gt;<i>   $cache = JFactory::getCache(&quot;com_mycomponent&quot;, &quot;&quot;);
</I>&gt;<i>   $cacheKey = $this-&gt;getId();
</I>&gt;<i>   $item = $cache-&gt;get($cacheKey);
</I>&gt;<i>    if (empty($item)) {
</I>&gt;<i>    // do some stuff to get the item
</I>&gt;<i>    $cache-&gt;store($item);
</I>&gt;<i>   }
</I>&gt;<i>   // do something with the item
</I>&gt;<i>
</I>&gt;<i> How...wasteful.  Why not:
</I>&gt;<i>   $cache = JFactory::getCache(&quot;com_mycomponent&quot;, &quot;&quot;);
</I>&gt;<i>   $cacheKey = $this-&gt;getId();
</I>&gt;<i>    $importance = JCache::HIGH;
</I>&gt;<i>    $softLimit = '360';
</I>&gt;<i>    $hardLimit = '3600'
</I>&gt;<i>   $item = $cache-&gt;get($cacheKey, $importance, $softLimit, $hardLimit);
</I>&gt;<i>   $p = JProfiler::getInstance(cacheKey);
</I>&gt;<i> $p-&gt;mark('Start');
</I>&gt;<i>    if (empty($item)) {
</I>&gt;<i>    // do some stuff to get the item
</I>&gt;<i> $p-&gt;mark('Stop');
</I>&gt;<i>    $retrievalTime = $p-&gt;buffer;
</I>&gt;<i>    $cache-&gt;store($item, $importance, $softLimit, $hardLimit, 
</I>&gt;<i> $retrievalTime);
</I>&gt;<i>   }
</I>&gt;<i>   // do something with the item
</I>&gt;<i>
</I>&gt;<i> Wow...NOW we have some metrics.  We know how LONG an item took to 
</I>&gt;<i> retrieve.  All things being equal, objects with the same importance 
</I>&gt;<i> should be expired based on the time they take to generate, not FIFO.  
</I>&gt;<i> So if you have 2 objects and one takes a millisecond to generate, and 
</I>&gt;<i> the other takes 1 minute[think an internal db call vs an external REST 
</I>&gt;<i> call to grab a chart image from Google] - isn't it obvious which one 
</I>&gt;<i> to throw away first?
</I>&gt;<i>
</I>&gt;<i> And by using soft and hard limits, instead of simple TTL, we can keep 
</I>&gt;<i> 'stale' data until it gets updated.  A stock price from Google is just 
</I>&gt;<i> as valid an hour from now as 10 minutes from now - but maybe we want 
</I>&gt;<i> to retrieve it every 10 minutes if possible, but will settle for older 
</I>&gt;<i> data in some circumstances.
</I>&gt;<i>
</I>&gt;<i> Lastly, passing the importance flag to the retrieval as well as the 
</I>&gt;<i> storage allows different items to 'upgrade' cached data.  Maybe it 
</I>&gt;<i> wasn't important to one section of code, but another call on a 
</I>&gt;<i> different page really needs the cached data if at all possible because 
</I>&gt;<i> otherwise it bogs down.
</I>&gt;<i>
</I>&gt;<i> Speaking of Cache...  PHPSerialize is wonderful...if everything is 
</I>&gt;<i> running PHP.  But what if you have a caching proxy sitting up front?  
</I>&gt;<i> For a stupid logon module, you destroy caching for logged in users 
</I>&gt;<i> since the upper right hand corner of the screen changes from: Login... 
</I>&gt;<i> to: Hello Gary, you have no new messages
</I>&gt;<i>
</I>&gt;<i> A caching server could use esi:include 
</I>&gt;<i> url=&quot;<A HREF="http://mydomain.com/userwelcome">http://mydomain.com/userwelcome</A>&quot; and cache everything else but 
</I>&gt;<i> grab that info from the server.  Even better though, since you have a 
</I>&gt;<i> sessionid cookie, instead it could be: 
</I>&gt;<i> src=&quot;memcache:get(sessionid-&gt;userwelcome)&quot; and if the data is stored 
</I>&gt;<i> in memcache with a sessionid in json format, poof!  It appears.  No 
</I>&gt;<i> server hit needed.
</I>&gt;<i>
</I>&gt;<i> And why should we lose the ability to count hits just for the sake of 
</I>&gt;<i> caching a page?  Almost every caching system today allows for that!
</I>&gt;<i> esi:include src=&quot;memcache:incr(&lt;articleId&gt;Hits)&quot;
</I>&gt;<i>
</I>&gt;<i> Sure you occasionally have to sync that data back to the 
</I>&gt;<i> database....but its much more fun!
</I>&gt;<i>
</I>&gt;<i> Just figured I'd throw it out there.  If there is stuff others &quot;want&quot; 
</I>&gt;<i> that would make them willing to pay $24/year for feel free to throw it 
</I>&gt;<i> on the pile and if it's amusing enough it will probably get in there.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP SIG: Joomla! Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/joomla">http://lists.nyphp.org/mailman/listinfo/joomla</A>
</I>&gt;<i>
</I>&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i>
</I>&gt;<i> Show Your Participation in New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/joomla/attachments/20120413/c1d720d2/attachment.html">http://lists.nyphp.org/pipermail/joomla/attachments/20120413/c1d720d2/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003943.html">[joomla] Pre-Announcement: Crafty CMS
</A></li>
	<LI>Next message: <A HREF="003945.html">[joomla] Pre-Announcement: Crafty CMS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3944">[ date ]</a>
              <a href="thread.html#3944">[ thread ]</a>
              <a href="subject.html#3944">[ subject ]</a>
              <a href="author.html#3944">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/joomla">More information about the Joomla
mailing list</a><br>
</body></html>

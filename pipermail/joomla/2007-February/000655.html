<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [joomla] Blog content lead story on shows intro
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/joomla/2007-February/index.html" >
   <LINK REL="made" HREF="mailto:joomla%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bjoomla%5D%20Blog%20content%20lead%20story%20on%20shows%20intro&In-Reply-To=%3C45D9D927.1070103%40compassdesigns.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000654.html">
   <LINK REL="Next"  HREF="000656.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[joomla] Blog content lead story on shows intro</H1>
    <B>Barrie North</B> 
    <A HREF="mailto:joomla%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bjoomla%5D%20Blog%20content%20lead%20story%20on%20shows%20intro&In-Reply-To=%3C45D9D927.1070103%40compassdesigns.net%3E"
       TITLE="[joomla] Blog content lead story on shows intro">contact at compassdesigns.net
       </A><BR>
    <I>Mon Feb 19 12:06:47 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000654.html">[joomla] Blog content lead story on shows intro
</A></li>
        <LI>Next message: <A HREF="000656.html">[joomla] Joomla .12 fatal memory errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#655">[ date ]</a>
              <a href="thread.html#655">[ thread ]</a>
              <a href="subject.html#655">[ subject ]</a>
              <a href="author.html#655">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You should probably submit that as a bug....

Regards,

Barrie North
www.joomlashack.com
www.compassdesigns.net
Phone: (802) 291-3973
Fax: (802) 609-0427
****************************
Read the Joomla Blog
www.compassdesigns.net/joomla-blog
Got something to tell us?
www.joomlashack.com/shop/feedback.php

****************************



<A HREF="http://lists.nyphp.org/mailman/listinfo/joomla">joomla-request at lists.nyphp.org</A> wrote:
&gt;<i> Send joomla mailing list submissions to
</I>&gt;<i> 	<A HREF="http://lists.nyphp.org/mailman/listinfo/joomla">joomla at lists.nyphp.org</A>
</I>&gt;<i>
</I>&gt;<i> To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;<i> 	<A HREF="http://lists.nyphp.org/mailman/listinfo/joomla">http://lists.nyphp.org/mailman/listinfo/joomla</A>
</I>&gt;<i> or, via email, send a message with subject or body 'help' to
</I>&gt;<i> 	<A HREF="http://lists.nyphp.org/mailman/listinfo/joomla">joomla-request at lists.nyphp.org</A>
</I>&gt;<i>
</I>&gt;<i> You can reach the person managing the list at
</I>&gt;<i> 	<A HREF="http://lists.nyphp.org/mailman/listinfo/joomla">joomla-owner at lists.nyphp.org</A>
</I>&gt;<i>
</I>&gt;<i> When replying, please edit your Subject line so it is more specific
</I>&gt;<i> than &quot;Re: Contents of joomla digest...&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Today's Topics:
</I>&gt;<i>
</I>&gt;<i>    1. Blog content lead story on shows intro (Hans C. Kaspersetz)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ----------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 1
</I>&gt;<i> Date: Sun, 18 Feb 2007 13:08:50 -0500
</I>&gt;<i> From: &quot;Hans C. Kaspersetz&quot; &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/joomla">hans at cyberxdesigns.com</A>&gt;
</I>&gt;<i> Subject: [joomla] Blog content lead story on shows intro
</I>&gt;<i> To: <A HREF="http://lists.nyphp.org/mailman/listinfo/joomla">joomla at lists.nyphp.org</A>
</I>&gt;<i> Message-ID: &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/joomla">45D89632.2040500 at cyberxdesigns.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
</I>&gt;<i>
</I>&gt;<i> I am working on a Joomla 1.0.12 stable website today and I seem to have 
</I>&gt;<i> run into some unexpected behavior.  When I set 1 story to be lead, 1 to 
</I>&gt;<i> be intro and 4 of links in a Blog - Content Category, all I get is 2 
</I>&gt;<i> intros and 4 links.  By the way the number of lead and intro stories is 
</I>&gt;<i> arbitrary.  If I set it to 2 and 1, I get three intros.  The first story 
</I>&gt;<i> is not the full text.  My expectation is that the lead story is supposed 
</I>&gt;<i> to be full text, the intro shows intro and the links are links.  Is my 
</I>&gt;<i> expectation correct?
</I>&gt;<i>
</I>&gt;<i> An examination of the source shows that Joomla is not selecting the full 
</I>&gt;<i> text, it selects the length of it and then stores that in 
</I>&gt;<i> $row-&gt;readmore.  However, down in the show() function, Joomla is 
</I>&gt;<i> expecting the $row-&gt;fulltext variable to be set.  Is this a feature or a 
</I>&gt;<i> bug?  Anyone else having these problems?
</I>&gt;<i>
</I>&gt;<i> Select from line 801 in content.php.
</I>&gt;<i>
</I>&gt;<i> // Main data query
</I>&gt;<i>     $query = &quot;SELECT a.id, a.title, a.title_alias, a.introtext, 
</I>&gt;<i> a.sectionid, a.state, a.catid, a.created, a.created_by, 
</I>&gt;<i> a.created_by_alias, a.modified, a.modified_by,&quot;
</I>&gt;<i>     . &quot;\n a.checked_out, a.checked_out_time, a.publish_up, 
</I>&gt;<i> a.publish_down, a.images, a.urls, a.ordering, a.metakey, a.metadesc, 
</I>&gt;<i> a.access,&quot;
</I>&gt;<i>     . &quot;\n CHAR_LENGTH( a.fulltext ) AS readmore, s.published AS 
</I>&gt;<i> sec_pub,  cc.published AS sec_pub, u.name AS author, u.usertype, s.name 
</I>&gt;<i> AS section, cc.name AS category, g.name AS groups&quot;
</I>&gt;<i>     . $voting['select']
</I>&gt;<i>     . &quot;\n FROM #__content AS a&quot;
</I>&gt;<i>     . &quot;\n LEFT JOIN #__categories AS cc ON cc.id = a.catid&quot;
</I>&gt;<i>     . &quot;\n LEFT JOIN #__users AS u ON u.id = a.created_by&quot;
</I>&gt;<i>     . &quot;\n LEFT JOIN #__sections AS s ON a.sectionid = s.id&quot;
</I>&gt;<i>     . &quot;\n LEFT JOIN #__groups AS g ON a.access = g.id&quot;
</I>&gt;<i>     . $voting['join']
</I>&gt;<i>     . $where
</I>&gt;<i>     . &quot;\n ORDER BY $order_pri $order_sec&quot;
</I>&gt;<i>     ;
</I>&gt;<i>
</I>&gt;<i>  From show function expecting full text, ~ line 1718:
</I>&gt;<i>
</I>&gt;<i> // show/hides the intro text
</I>&gt;<i>     if ( $params-&gt;get( 'introtext'  ) ) {
</I>&gt;<i>        
</I>&gt;<i>         $row-&gt;text = $row-&gt;introtext . ( $params-&gt;get( 'intro_only' ) ? 
</I>&gt;<i> '' : chr(13) . chr(13) . $row-&gt;fulltext);
</I>&gt;<i>     } else {
</I>&gt;<i>         $row-&gt;text = $row-&gt;fulltext;
</I>&gt;<i>     }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Additionally, for some reason, 'intro_only' is hard coded as 1.  So 
</I>&gt;<i> there is no way to get the full text in the blog.
</I>&gt;<i>
</I>&gt;<i> As a solution, I patched content.php in two places to make it work.  
</I>&gt;<i> First, I have to set 'intro_only' to 0 when I am calling show() in in 
</I>&gt;<i> the lead story conditional.  Then I set it back to 1.
</I>&gt;<i>
</I>&gt;<i> ------------  Line 1256 in content.php  ------------
</I>&gt;<i> $params-&gt;set( 'intro_only',     0 );  //  We need to set this so that 
</I>&gt;<i> show will include full text
</I>&gt;<i>
</I>&gt;<i> show( $rows[$i], $params, $gid, $access, $pop );  // Original and 
</I>&gt;<i> unchanged!
</I>&gt;<i>
</I>&gt;<i> $params-&gt;set('intro_only', 1);  // We need to turn it back off, so that 
</I>&gt;<i> intro stories only have intro text.
</I>&gt;<i>
</I>&gt;<i> -------------  End snip ----------------
</I>&gt;<i>
</I>&gt;<i> Then I need to modify the content select to get the full text:
</I>&gt;<i>
</I>&gt;<i> ------------- Line 801 in content.php -----------------
</I>&gt;<i> // Just added a.full text to select.  Hans
</I>&gt;<i>
</I>&gt;<i> // Main data query
</I>&gt;<i>     $query = &quot;SELECT a.id, a.title, a.title_alias, a.introtext, 
</I>&gt;<i> a.sectionid, a.state, a.catid, a.created, a.created_by, 
</I>&gt;<i> a.created_by_alias, a.modified, a.modified_by,&quot;
</I>&gt;<i>     . &quot;\n a.checked_out, a.checked_out_time, a.publish_up, 
</I>&gt;<i> a.publish_down, a.images, a.urls, a.ordering, a.metakey, a.metadesc, 
</I>&gt;<i> a.access,&quot;
</I>&gt;<i>     . &quot;\n CHAR_LENGTH( a.fulltext ) AS readmore, a.fulltext, s.published 
</I>&gt;<i> AS sec_pub,  cc.published AS sec_pub, u.name AS author, u.usertype, 
</I>&gt;<i> s.name AS section, cc.name AS category, g.name AS groups&quot;
</I>&gt;<i>     . $voting['select']
</I>&gt;<i>     . &quot;\n FROM #__content AS a&quot;
</I>&gt;<i>     . &quot;\n LEFT JOIN #__categories AS cc ON cc.id = a.catid&quot;
</I>&gt;<i>     . &quot;\n LEFT JOIN #__users AS u ON u.id = a.created_by&quot;
</I>&gt;<i>     . &quot;\n LEFT JOIN #__sections AS s ON a.sectionid = s.id&quot;
</I>&gt;<i>     . &quot;\n LEFT JOIN #__groups AS g ON a.access = g.id&quot;
</I>&gt;<i>     . $voting['join']
</I>&gt;<i>     . $where
</I>&gt;<i>     . &quot;\n ORDER BY $order_pri $order_sec&quot;
</I>&gt;<i>     ;
</I>&gt;<i> ---------------  End snip ---------------
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I tried all the settings in Joomla, I think this is a real bug.  But I 
</I>&gt;<i> would love someone else's opinion on the topic.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Hans
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> joomla mailing list
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/joomla">joomla at lists.nyphp.org</A>
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/joomla">http://lists.nyphp.org/mailman/listinfo/joomla</A>
</I>&gt;<i>
</I>&gt;<i> End of joomla Digest, Vol 3, Issue 8
</I>&gt;<i> ************************************
</I>&gt;<i>
</I>&gt;<i>   
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000654.html">[joomla] Blog content lead story on shows intro
</A></li>
	<LI>Next message: <A HREF="000656.html">[joomla] Joomla .12 fatal memory errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#655">[ date ]</a>
              <a href="thread.html#655">[ thread ]</a>
              <a href="subject.html#655">[ subject ]</a>
              <a href="author.html#655">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/joomla">More information about the Joomla
mailing list</a><br>
</body></html>

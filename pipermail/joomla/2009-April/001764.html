<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [joomla] Incorrect Cached URLs
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/joomla/2009-April/index.html" >
   <LINK REL="made" HREF="mailto:joomla%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bjoomla%5D%20Incorrect%20Cached%20URLs&In-Reply-To=%3C0ed701c9bc8a%24a1ca0590%24e55e10b0%24%40com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001763.html">
   <LINK REL="Next"  HREF="001765.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[joomla] Incorrect Cached URLs</H1>
    <B>Hans Zaunere</B> 
    <A HREF="mailto:joomla%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bjoomla%5D%20Incorrect%20Cached%20URLs&In-Reply-To=%3C0ed701c9bc8a%24a1ca0590%24e55e10b0%24%40com%3E"
       TITLE="[joomla] Incorrect Cached URLs">lists at zaunere.com
       </A><BR>
    <I>Mon Apr 13 18:53:16 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001763.html">[joomla] Nice video on using fabrik for custom content
</A></li>
        <LI>Next message: <A HREF="001765.html">[joomla] Incorrect Cached URLs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1764">[ date ]</a>
              <a href="thread.html#1764">[ thread ]</a>
              <a href="subject.html#1764">[ subject ]</a>
              <a href="author.html#1764">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

Caching it turned on for a site, whereby it's caching the templates for
obvious performance reasons.  Everything works fine, however there are some
occasional problems that crop up.

So if someone hits the correct domain, like www.something.com, and the cache
needs to be built out, everything is fine - the correct URL base is set,
etc. and the cache's links are built correctly.

However, the organization has been having some DNS issues, plus has the
server has HTTPS access and there is no named based virtual hosting on the
server.  Thus at times, strange HTTP hits with the wrong or no virtual host
come to the server, and at times HTTPS hits come to the server.  When the
cache times out, it's of course rebuilt, but now with the wrong URLs.

For the virtual host issue, I've had to add a couple of lines to the top of
the index.php file to pin the $_SERVER['HTTP_HOST'] to a consistent value
($live_site doesn't work by the way).

However, this issue is similarly problematic for HTTPS requests.  I could
redirect things, I suppose, but is there a better way?  Seems as though this
would be a common problem yet there's no elegant solution that's obvious.
Any help is greatly appreciated.

H




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001763.html">[joomla] Nice video on using fabrik for custom content
</A></li>
	<LI>Next message: <A HREF="001765.html">[joomla] Incorrect Cached URLs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1764">[ date ]</a>
              <a href="thread.html#1764">[ thread ]</a>
              <a href="subject.html#1764">[ subject ]</a>
              <a href="author.html#1764">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/joomla">More information about the Joomla
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] XML files
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-May/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20XML%20files&In-Reply-To=%3C200305071445.47761.chalu%40egenius.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003328.html">
   <LINK REL="Next"  HREF="003330.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] XML files</H1>
    <B>Chalu Kim</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20XML%20files&In-Reply-To=%3C200305071445.47761.chalu%40egenius.com%3E"
       TITLE="[nycphp-talk] XML files">chalu at egenius.com
       </A><BR>
    <I>Wed May  7 14:45:47 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003328.html">[nycphp-talk] XML files
</A></li>
        <LI>Next message: <A HREF="003330.html">[nycphp-talk] PHP headers and Mac Machine Downloads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3331">[ date ]</a>
              <a href="thread.html#3331">[ thread ]</a>
              <a href="subject.html#3331">[ subject ]</a>
              <a href="author.html#3331">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
This is the kind of stuff you need the workflow for.

I am speaking in pseudo.

For example, XML files are published. Then, somebody comes along and changes 
it. That pushes the state to say &quot;retracted&quot; or &quot;changed&quot;. This event in a 
workflow system can trigger an action.

Before the state change, you could have an opportunity to execute rules.

This is not a simple arena as you need a way to define rules. There have been 
several attempts such as ZPatterns (available in Zope or Java). 

This enables you to define at the interface level as in receiving data to 
trigger actions. In ZPatterns, you can use ZPatterns language (declarative) 
to define behaviors of data reception. Unfortunately, this approach is not 
for average for it is difficult to work with. Just get into this rarefied 
Pattern language and all. 

None of XML related stuff will address workflow or aspect-oriented programming 
because XML files themselves need to remember what state they are in. 

If it is a possibility to mix and match, you can publish XML files into Zope. 
That gets you workflow. XML files will be available through web or FTP. When 
it gets changed, it can do some processing.

Good luck


On Wednesday 07 May 2003 02:17 pm, Larry Chuon wrote:
&gt;<i> Hi Anirudh,
</I>&gt;<i>
</I>&gt;<i> Long time no hear.  Thank you and <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">everyone at NYPHP</A> &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">everyone at NYPHP</A>&gt;
</I>&gt;<i> for the solution.  I learn a great deal in the last day and half.  As Chalu
</I>&gt;<i> had noted, I need to rethink through the solution again.  Pumping out
</I>&gt;<i> nearly a million XML files is not the best practice.  Last night, I
</I>&gt;<i> accepted Gary Malcolm's invitation to look at Xindice.  Xindice uses Xpath
</I>&gt;<i> and Xupdate, it addresses some of my concerns (not certain how many records
</I>&gt;<i> it can support though, but I can categorize).  Unfortunately, Xindice does
</I>&gt;<i> not have a PHP client for their API.  I need to figure out something for
</I>&gt;<i> this.
</I>&gt;<i>
</I>&gt;<i> Your sample codes resolve my large volume of files should I ever need to
</I>&gt;<i> spit out more XML files.
</I>&gt;<i>
</I>&gt;<i> Now, I have a whole new set of problems.  Lets say, I need to share data
</I>&gt;<i> with some companies.  The XML files get changed and must be updated on my
</I>&gt;<i> system or their system depending on who is/are the recipient(s) of the
</I>&gt;<i> changes.  Since I have nearly a million records, how do I keep track of
</I>&gt;<i> changes?  Importing everything back into Xindice or whatever repository in
</I>&gt;<i> a multiple of X times will generate a lot unnecessary traffic.  On the
</I>&gt;<i> other hand, updating only the changes will require a lot of tracking
</I>&gt;<i> (timestamp) as well.  Finally, giving appropriate hook to the partners will
</I>&gt;<i> require an extensive predefined business rules (I don't know it all and I
</I>&gt;<i> don't assume to know my partners/users business workflow either) and some
</I>&gt;<i> sort of version control for rollback and approval process similarly to CMS.
</I>&gt;<i>  Thought anybody?
</I>&gt;<i>
</I>&gt;<i> Thanks for all the suggestions guys.
</I>&gt;<i> Larry
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Anirudh Zala [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">anirudh at aumcomputers.com</A>]
</I>&gt;<i> Sent: Wednesday, May 07, 2003 2:17 AM
</I>&gt;<i> To: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at nyphp.org</A>
</I>&gt;<i> Cc: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">LarryC at indexstock.com</A>
</I>&gt;<i> Subject: Re: [nycphp-talk] XML files
</I>&gt;<i>
</I>&gt;<i> Larry
</I>&gt;<i>
</I>&gt;<i> Let's have look about your problems 1 by 1
</I>&gt;<i>
</I>&gt;<i> 1: Problem of storing and accessing large volume of files in 1 container
</I>&gt;<i> directory.
</I>&gt;<i>
</I>&gt;<i> A: In such cases splitted directory structure solution is best like what
</I>&gt;<i> &quot;Rick Seeger&quot; has suggested. Hence you can design a special directory
</I>&gt;<i> structure that can generate new directory as and when total amout of files
</I>&gt;<i> execeeds the limit say... 100 files per directory. Below sample function
</I>&gt;<i> does that (it generate new directory as soon as &quot;id&quot; exceeds value 100)
</I>&gt;<i>
</I>&gt;<i> // CRATES A DIRECTORY ACCORDING TO GIVEN ID AND PARENT DIR PATH
</I>&gt;<i> function createDir($id,$parent)
</I>&gt;<i> {
</I>&gt;<i>     $nd_dirlimit = 100;
</I>&gt;<i>
</I>&gt;<i>     $mod = ceil($id/$nd_dirlimit) - 1;
</I>&gt;<i>
</I>&gt;<i>     $dirs = $mod * $nd_dirlimit + 1;
</I>&gt;<i>     $dire = $dirs + $nd_dirlimit - 1;
</I>&gt;<i>
</I>&gt;<i>     $tempDir = $dirs.&quot;_&quot;.$dire;
</I>&gt;<i>
</I>&gt;<i>     if(! file_exists(&quot;$parent/$tempDir&quot;))
</I>&gt;<i>           mkdir(&quot;$parent/$tempDir&quot;,0777);
</I>&gt;<i>
</I>&gt;<i>     return &quot;$tempDir&quot;;
</I>&gt;<i> }
</I>&gt;<i> By above method dirctory structure will be like ../1_100/, ../101_200/,
</I>&gt;<i> ./201_300/ and in each directory file name with id say &quot;1.xml&quot; to &quot;100.xml&quot;
</I>&gt;<i> (or with any name) will reside. Once above directory structure is
</I>&gt;<i> implemented no script will crawl like now :D.
</I>&gt;<i>
</I>&gt;<i> 2: Importing Data into DB by parsing XML files
</I>&gt;<i>
</I>&gt;<i> A: Use php's file &quot;XPath.class.php&quot; this is very nice OO file to parse XML
</I>&gt;<i> documents at greater speed. It has lot of easy to use method and properties
</I>&gt;<i> like $xml-&gt;evaluate, $xml-&gt;setAttributes, $xml-&gt;appendChild,
</I>&gt;<i> $xml-&gt;removeAttribute, $xml-&gt;exportToFile etc...by which you can parse lot
</I>&gt;<i> of XML documents like playing Zigsaw puzzles. It is very handy, class based
</I>&gt;<i> php file. Check example at
</I>&gt;<i> <A HREF="http://www.soi.city.ac.uk/~sa386/php/XPath_V2/testBench/useCases/">http://www.soi.city.ac.uk/~sa386/php/XPath_V2/testBench/useCases/</A>
</I>&gt;<i> &lt;<A HREF="http://www.soi.city.ac.uk/~sa386/php/XPath_V2/testBench/useCases/">http://www.soi.city.ac.uk/~sa386/php/XPath_V2/testBench/useCases/</A>&gt;
</I>&gt;<i>
</I>&gt;<i> Some times it is useful to use Utilities of Perl and executing your
</I>&gt;<i> perl/cgi scripts from console level. This very fastest and reliable method
</I>&gt;<i> IF such doucmens are to be generated, read or write in batch mode. Perl's
</I>&gt;<i> XML::DOM package helps here. Other advantage of such mechanism is that you
</I>&gt;<i> can run such scripts seperately from other servers that has connection with
</I>&gt;<i> your DB server, hence reduction of overhaed on your main server that has
</I>&gt;<i> php scripts running.
</I>&gt;<i>
</I>&gt;<i> Another method is XSQL that is powerful but still new to us and PHP, where
</I>&gt;<i> your DB SQL is written directly into XML file that syncronises (update your
</I>&gt;<i> XML document from DB by executing XSQL) your XML and DB from 2 ways. (Can't
</I>&gt;<i> tell much here :( )
</I>&gt;<i>
</I>&gt;<i> 3: Is there another way to index and query large volumes of documents?
</I>&gt;<i>
</I>&gt;<i> A: I am not getting here exactly your problem, But if you need faster
</I>&gt;<i> document access from directory or file system (serching 1 file from million
</I>&gt;<i> files) then answer of 1 st question can help here where you just need to
</I>&gt;<i> search particular document from 100 files from documnet diretory, already
</I>&gt;<i> given from DB.
</I>&gt;<i>
</I>&gt;<i> And if question is related to Data then use of indexes (Indexing commonly
</I>&gt;<i> used fields in Db like primary keys and foreigh keys) in mysql can make
</I>&gt;<i> &quot;Access of record&quot; faster.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i> Anirudh Zala ( <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">azala at lechuon.com</A> &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">azala at lechuon.com</A>&gt; )
</I>&gt;<i>
</I>&gt;<i> ---------------------------------------------------------------------------
</I>&gt;<i>- --------------------------
</I>&gt;<i> Anirudh Zala (Project Manager),           Tel: +91 281 2451894
</I>&gt;<i> AUM Computers,                                Gsm: +91 98981 37727
</I>&gt;<i> 317, Star Plaza,
</I>&gt;<i> &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">anirudh at aumcomputers.com</A>&gt; <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">anirudh at aumcomputers.com</A>
</I>&gt;<i> Rajkot-360001, Gujarat, INDIA,             &lt;<A HREF="http://www.aumcomputers.com">http://www.aumcomputers.com</A>&gt;
</I>&gt;<i> <A HREF="http://www.aumcomputers.com">http://www.aumcomputers.com</A>
</I>&gt;<i> ---------------------------------------------------------------------------
</I>&gt;<i>- --------------------------
</I>&gt;<i>
</I>&gt;<i> ----- Original Message -----
</I>&gt;<i> From: &quot;Larry Chuon&quot; &lt;  &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">LarryC at indexstock.com</A>&gt;
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">LarryC at indexstock.com</A>&gt; To: &quot;NYPHP Talk&quot; &lt;  &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at nyphp.org</A>&gt;
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at nyphp.org</A>&gt;
</I>&gt;<i> Sent: Wednesday, 07 May, 2003 4:01 AM
</I>&gt;<i> Subject: RE: [nycphp-talk] XML files
</I>&gt;<i>
</I>&gt;<i> &gt; Thank you all for your quick responses.  I'll consider generating XML on
</I>&gt;<i>
</I>&gt;<i> the
</I>&gt;<i>
</I>&gt;<i> &gt; fly (still new at this).  Here's another question.  Besides importing the
</I>&gt;<i> &gt; files to dB, is there another way to index and query large volumes of
</I>&gt;<i> &gt; documents.  I'm going out of tangent a bit here.  Let say, I'm archiving
</I>&gt;<i> &gt; tons of document for a public library.  They want to scan and digitize
</I>&gt;<i> &gt; millions of articles.  What is the best way to index and search for
</I>&gt;<i>
</I>&gt;<i> articles
</I>&gt;<i>
</I>&gt;<i> &gt; say by keywords or captions?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: Malcolm, Gary [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">gmalcolm at professionalcredit.com</A>]
</I>&gt;<i> &gt; Sent: Tuesday, May 06, 2003 5:53 PM
</I>&gt;<i> &gt; To: NYPHP Talk
</I>&gt;<i> &gt; Subject: RE: [nycphp-talk] XML files
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;  &lt;<A HREF="http://www.phpwebhosting.com/">http://www.phpwebhosting.com/</A>&gt; <A HREF="http://www.phpwebhosting.com/">http://www.phpwebhosting.com/</A>
</I>&gt;<i> &gt;  &lt;<A HREF="http://phphosts.codewalkers.com">http://phphosts.codewalkers.com</A>&gt; <A HREF="http://phphosts.codewalkers.com">http://phphosts.codewalkers.com</A>
</I>&gt;<i> &gt;  &lt;<A HREF="http://www.oinko.net/freephp">http://www.oinko.net/freephp</A>&gt; <A HREF="http://www.oinko.net/freephp">http://www.oinko.net/freephp</A>
</I>&gt;<i> &gt;  &lt;<A HREF="http://www.free-php-hosting.com">http://www.free-php-hosting.com</A>&gt; www.free-php-hosting.com
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; cheap hosting... cheap db access... i love (hearts in eyes) mysql
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; -----Original Message-----
</I>&gt;<i> &gt; &gt; From:  &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">soazine at pop.erols.com</A>&gt; <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">soazine at pop.erols.com</A>
</I>&gt;<i>
</I>&gt;<i> [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">soazine at pop.mail.rcn.net</A>]
</I>&gt;<i>
</I>&gt;<i> &gt; &gt; Sent: Tuesday, 06 May, 2003 2:41 PM
</I>&gt;<i> &gt; &gt; To: NYPHP Talk
</I>&gt;<i> &gt; &gt; Subject: Re: [nycphp-talk] XML files
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Importing the XML files into a database is an ideal solution,
</I>&gt;<i> &gt; &gt; unfortunately, not always an available one, such as in my
</I>&gt;<i> &gt; &gt; case.  I have
</I>&gt;<i> &gt; &gt; space on a remote server where database access is very
</I>&gt;<i> &gt; &gt; expensive (it's my
</I>&gt;<i> &gt; &gt; own site and out of my price range to afford db access), so I have to
</I>&gt;<i> &gt; &gt; resort to XML as well.  PHP parses XML extremely fast and
</I>&gt;<i> &gt; &gt; efficiently; I
</I>&gt;<i> &gt; &gt; highly recommend it.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I'd use PHP's available XML parsers along with grouping them into
</I>&gt;<i> &gt; &gt; directories sorted by a date or some other delimiter to allow
</I>&gt;<i> &gt; &gt; for smaller
</I>&gt;<i> &gt; &gt; amount of files per directory.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Phil
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Original Message:
</I>&gt;<i> &gt; &gt; -----------------
</I>&gt;<i> &gt; &gt; From: Analysis &amp; Solutions  &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">danielc at analysisandsolutions.com</A>&gt;
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">danielc at analysisandsolutions.com</A>
</I>&gt;<i>
</I>&gt;<i> &gt; &gt; Date: Tue,  6 May 2003 17:35:16 -0400
</I>&gt;<i> &gt; &gt; To:  &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at nyphp.org</A>&gt; <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at nyphp.org</A>
</I>&gt;<i> &gt; &gt; Subject: Re: [nycphp-talk] XML files
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; On Tue, May 06, 2003 at 04:49:21PM -0400, Larry Chuon wrote:
</I>&gt;<i> &gt; &gt; &gt; I'm doing everything that you mention below.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; So, import the files into a database and get rid of the XML files.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Here's a quick tutorial on how to parse XML in PHP:
</I>&gt;<i> &gt; &gt;    http:www.analysisandsolutions.com/code/phpxml.htm
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Enjoy,
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; --Dan
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; --
</I>&gt;<i> &gt; &gt;      FREE scripts that make web and database programming easier
</I>&gt;<i> &gt; &gt;             &lt;<A HREF="http://www.analysisandsolutions.com/software/">http://www.analysisandsolutions.com/software/</A>&gt;
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.analysisandsolutions.com/software/">http://www.analysisandsolutions.com/software/</A>
</I>&gt;<i>
</I>&gt;<i> &gt; &gt;  T H E   A N A L Y S I S   A N D   S O L U T I O N S   C O M P A N Y
</I>&gt;<i> &gt; &gt;  4015 7th Ave #4AJ, Brooklyn NY    v: 718-854-0335   f: 718-854-0409
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; --------------------------------------------------------------------
</I>&gt;<i> &gt; &gt; mail2web - Check your email from the web at
</I>&gt;<i> &gt; &gt;  &lt;<A HREF="http://mail2web.com/">http://mail2web.com/</A>&gt; <A HREF="http://mail2web.com/">http://mail2web.com/</A> .
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --- Unsubscribe at  &lt;<A HREF="http://nyphp.org/list/">http://nyphp.org/list/</A>&gt; <A HREF="http://nyphp.org/list/">http://nyphp.org/list/</A> ---
</I>&gt;<i>
</I>&gt;<i> --- Unsubscribe at <A HREF="http://nyphp.org/list/">http://nyphp.org/list/</A> ---
</I>
-- 

Chalu Kim
eGenius Inc
Technology Partner
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">chalu at egenius.com</A>, (718) 858-0142


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003328.html">[nycphp-talk] XML files
</A></li>
	<LI>Next message: <A HREF="003330.html">[nycphp-talk] PHP headers and Mac Machine Downloads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3331">[ date ]</a>
              <a href="thread.html#3331">[ thread ]</a>
              <a href="subject.html#3331">[ subject ]</a>
              <a href="author.html#3331">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] new problems
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-May/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20new%20problems&In-Reply-To=%3CJNEOLAPEIIHFPHHIIHEEIEKGCDAA.melissa%40inexact.info%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003649.html">
   <LINK REL="Next"  HREF="003651.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] new problems</H1>
    <B>Melissa</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20new%20problems&In-Reply-To=%3CJNEOLAPEIIHFPHHIIHEEIEKGCDAA.melissa%40inexact.info%3E"
       TITLE="[nycphp-talk] new problems">melissa at inexact.info
       </A><BR>
    <I>Wed May 21 21:11:46 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003649.html">new problems (VERY LONG but hopefully interesting)
</A></li>
        <LI>Next message: <A HREF="003651.html">[nycphp-talk] new problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3650">[ date ]</a>
              <a href="thread.html#3650">[ thread ]</a>
              <a href="subject.html#3650">[ subject ]</a>
              <a href="author.html#3650">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Just as a point of database normalization, I don't think you need to have
the specimen id and the composition group id in both tables....I would leave
the composition group id column out of the specimen table, and just have the
relation be specimen id in both the composition group table and the specimen
table.

As for the 'other' option...you would have to create two insert statements,
the first one inserting a new record into the composition options table, the
second inserting that record (including the newly created value in
composition options) into the composition group table.



&gt;<i> -----Original Message-----
</I>&gt;<i> From: Joshua S. Freeman [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">jfreeman at amnh.org</A>]
</I>&gt;<i> Sent: Wednesday, May 21, 2003 8:49 PM
</I>&gt;<i> To: NYPHP Talk
</I>&gt;<i> Subject: [nycphp-talk] new problems
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> If I can solve the problems described below for one place in the
</I>&gt;<i> project I'm
</I>&gt;<i> working on, the solution will be applicable to many other places
</I>&gt;<i> as well. I
</I>&gt;<i> also think that the information will be useful for other people
</I>&gt;<i> learning how
</I>&gt;<i> to build apps using MySQL/PHP.
</I>&gt;<i>
</I>&gt;<i> As I've mentioned before, the main table in my database is called
</I>&gt;<i> 'specimens'.
</I>&gt;<i>
</I>&gt;<i> With regards to the survey form here's what I can do so far:
</I>&gt;<i>
</I>&gt;<i> I am able to use PHP to build &lt;select&gt;&lt;option&gt;&lt;/option&gt;&lt;/select&gt; menus and
</I>&gt;<i> lists.
</I>&gt;<i>
</I>&gt;<i> Some of these are menus where the surveyor can only select one item.  I
</I>&gt;<i> *can* figure out how to write INSERT statements so that these
</I>&gt;<i> selections can
</I>&gt;<i> be inserted in a record in the 'specimens' table.
</I>&gt;<i>
</I>&gt;<i> Others of these are menus where the surveyor can select more than
</I>&gt;<i> one item.
</I>&gt;<i> I *believe* this means I'm going to have to create a table that
</I>&gt;<i> relates the
</I>&gt;<i> specimen_id (the key to the 'specimens' table) with the 1 or &gt;1 number of
</I>&gt;<i> items that are selected from the list by the surveyor.
</I>&gt;<i>
</I>&gt;<i> I'm not sure what the structure of that relate-table should be.
</I>&gt;<i>
</I>&gt;<i> For example, there's a section of the survey regarding the
</I>&gt;<i> 'composition' of
</I>&gt;<i> the specimens that are being surveyed.  In my form, it's a drop-down list
</I>&gt;<i> from which multiple selections can be made.  The drop-down list
</I>&gt;<i> in the form
</I>&gt;<i> is dynamically built by querying the 'composition' table.
</I>&gt;<i>
</I>&gt;<i> here's a dump of the 'composition' table:
</I>&gt;<i>
</I>&gt;<i> CREATE TABLE composition (
</I>&gt;<i>   comp_element_id smallint(3) NOT NULL auto_increment,
</I>&gt;<i>   comp_element varchar(50) NOT NULL default '',
</I>&gt;<i>   PRIMARY KEY  (comp_element_id)
</I>&gt;<i> ) TYPE=MyISAM;
</I>&gt;<i>
</I>&gt;<i> #
</I>&gt;<i> # Dumping data for table `composition`
</I>&gt;<i> #
</I>&gt;<i>
</I>&gt;<i> INSERT INTO composition VALUES (1, 'Paper/Carton');
</I>&gt;<i> INSERT INTO composition VALUES (2, 'Glandular Secretion');
</I>&gt;<i> INSERT INTO composition VALUES (3, 'Leaves');
</I>&gt;<i> INSERT INTO composition VALUES (4, 'Bark Fragments');
</I>&gt;<i> INSERT INTO composition VALUES (5, 'Paper/Carton with high Saliva
</I>&gt;<i> Content');
</I>&gt;<i> INSERT INTO composition VALUES (6, 'Insect Remains');
</I>&gt;<i> INSERT INTO composition VALUES (7, 'Wood/Twigs');
</I>&gt;<i> INSERT INTO composition VALUES (8, 'Leaves/Wood chewed into Paste');
</I>&gt;<i> INSERT INTO composition VALUES (9, 'Clay/Mud');
</I>&gt;<i> INSERT INTO composition VALUES (10, 'Wax');
</I>&gt;<i> INSERT INTO composition VALUES (11, 'Rootlets');
</I>&gt;<i> INSERT INTO composition VALUES (12, 'Plant Resin');
</I>&gt;<i>
</I>&gt;<i> Let's say that the surveyor selects id numbers 1, 3, 4, 8, 10, 12 from the
</I>&gt;<i> drop-down multiple select list.
</I>&gt;<i>
</I>&gt;<i> In that case, I guess I have to create a new table that relates my main
</I>&gt;<i> 'specimen' table with the compositional elements in the
</I>&gt;<i> 'composition' table.
</I>&gt;<i>
</I>&gt;<i> I will call this table 'composition_group'.
</I>&gt;<i>
</I>&gt;<i> This table has three columns. One stores a 'comp_group_id', one stores the
</I>&gt;<i> 'specimen_id' number of the specimen we're working on at the
</I>&gt;<i> moment, and the
</I>&gt;<i> last column stores the the id numbers 1, 3, 4, 8, 10 and 12 from the
</I>&gt;<i> 'composition' table so we know which compositional elements this
</I>&gt;<i> specimen is
</I>&gt;<i> comprised of.
</I>&gt;<i>
</I>&gt;<i> I believe the 'composition_group' table will look like this:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> CREATE TABLE composition_group (
</I>&gt;<i>   comp_group_id smallint(3) NOT NULL auto_increment,
</I>&gt;<i>   specimen_id smallint(3) NOT NULL,
</I>&gt;<i>    comp_group_values varchar(50) NOT NULL default '',
</I>&gt;<i>   PRIMARY KEY  (comp_group_id)
</I>&gt;<i> ) TYPE=MyISAM;
</I>&gt;<i>
</I>&gt;<i> #
</I>&gt;<i> # Dumping data for table `composition_group`
</I>&gt;<i> #
</I>&gt;<i>
</I>&gt;<i> INSERT INTO composition_group VALUES (1, 5, '1, 3, 4, 8, 10, 12');
</I>&gt;<i> INSERT INTO composition_group VALUES (2, 6, '2, 3, 10');
</I>&gt;<i> INSERT INTO composition_group VALUES (3, 7, '4, 6, 7, 8, 11');
</I>&gt;<i> INSERT INTO composition_group VALUES (4, 8, '7, 8, 10');
</I>&gt;<i>
</I>&gt;<i> Does this make sense?...
</I>&gt;<i>
</I>&gt;<i> Meanwhile, back in the main 'specimen' table, the column for 'composition'
</I>&gt;<i> will contain the 'comp_group_id' that relates to the current
</I>&gt;<i> 'specimen_id'.
</I>&gt;<i>
</I>&gt;<i> Right?
</I>&gt;<i>
</I>&gt;<i> ***I'm worried about the fact that the comp_group_values are numeric and
</I>&gt;<i> need to have commas between them... will this be a problem?***
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> So.. that's the first problem...
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I think the second problem is stickier.
</I>&gt;<i>
</I>&gt;<i> For many of the areas of the survey, whether they are presented as single
</I>&gt;<i> select drop-down menus, multiple select drop-down menus or
</I>&gt;<i> checkboxes, there
</I>&gt;<i> is also a space for the surveyor to input an 'other' such as:
</I>&gt;<i>
</I>&gt;<i> &lt;input type=&quot;text&quot; size=&quot;10&quot; name=&quot;composition&quot;&gt; Other
</I>&gt;<i>
</I>&gt;<i> using this example, whatever is typed in there needs to be added
</I>&gt;<i> to the end
</I>&gt;<i> of the 'composition' table and made part of the record in the
</I>&gt;<i> 'composition_group' table for that survey...
</I>&gt;<i>
</I>&gt;<i> thus, then NEXT time someone loads the form, the new compositional element
</I>&gt;<i> would be part of the drop down menu or list.
</I>&gt;<i>
</I>&gt;<i> Where I get completely lost how to handle the 'other' problem with survey
</I>&gt;<i> areas that use checkboxes instead of menus/lists.  I guess this means that
</I>&gt;<i> I'm going to have to also learn how to build groups of checkboxes
</I>&gt;<i> dynamically by looking inside the database..
</I>&gt;<i>
</I>&gt;<i> Well.. I could probably figure this out using the same PHP I used to
</I>&gt;<i> dynamically build menus/lists.
</I>&gt;<i>
</I>&gt;<i> Anyway.. these are the next problems I need help solving.
</I>&gt;<i>
</I>&gt;<i> Any advice greatly appreciated.
</I>&gt;<i>
</I>&gt;<i> !!!
</I>&gt;<i>
</I>&gt;<i> Thanks!
</I>&gt;<i>
</I>&gt;<i> J.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --- Unsubscribe at <A HREF="http://nyphp.org/list/">http://nyphp.org/list/</A> ---
</I>&gt;<i>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003649.html">new problems (VERY LONG but hopefully interesting)
</A></li>
	<LI>Next message: <A HREF="003651.html">[nycphp-talk] new problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3650">[ date ]</a>
              <a href="thread.html#3650">[ thread ]</a>
              <a href="subject.html#3650">[ subject ]</a>
              <a href="author.html#3650">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

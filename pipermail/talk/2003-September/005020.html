<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Force File Download HTTP Headers and IE Issue
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-September/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Force%20File%20Download%20HTTP%20Headers%20and%20IE%20Issue&In-Reply-To=%3Ca06001a01bb7bff0d018f%40%5B192.168.1.44%5D%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005019.html">
   <LINK REL="Next"  HREF="005023.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Force File Download HTTP Headers and IE Issue</H1>
    <B>Marc Antony Vose</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Force%20File%20Download%20HTTP%20Headers%20and%20IE%20Issue&In-Reply-To=%3Ca06001a01bb7bff0d018f%40%5B192.168.1.44%5D%3E"
       TITLE="[nycphp-talk] Force File Download HTTP Headers and IE Issue">suzerain at suzerain.com
       </A><BR>
    <I>Wed Sep  3 16:31:44 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005019.html">[nycphp-talk] Force File Download HTTP Headers and IE Issue
</A></li>
        <LI>Next message: <A HREF="005023.html">[nycphp-talk] Force File Download HTTP Headers and IE Issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5020">[ date ]</a>
              <a href="thread.html#5020">[ thread ]</a>
              <a href="subject.html#5020">[ subject ]</a>
              <a href="author.html#5020">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I may be wrong, but I think the only reason you're seeing the save 
as... dialog in Netscape is because the Adobe Acrobat web browser 
plugin doesn't run in Netscape anymore.  AFAIK (and according to the 
system requirements), Acrobat seems to be implemented in ActiveX now, 
which will only work (on Windows) in IE.

<A HREF="http://www.adobe.com/products/acrobat/acrrsystemreqs.html#60win">http://www.adobe.com/products/acrobat/acrrsystemreqs.html#60win</A>

So what I'm saying is that your script isn't what's controlling this; 
if the plugin was functioning in Netscape, NS would display it 
inline, too.

To illustrate this, forget about PDF for a second, and pretend it's a 
JPEG.  Try forcing a download of a JPEG.  I don't believe you can do 
it, because the client-side browser controls how it will handle JPEGs 
(i.e., whether it will display inline or send to another viewer).

Of course, as I said, I may be wrong.  :)

Marc Antony Vose
<A HREF="http://www.suzerain.com/">http://www.suzerain.com/</A>

The cost of liberty is less than the price of repression.
-- W.E.B. Du Bois




&gt;<i>My question:
</I>&gt;<i>Anyone got a working runaround suggestion to force file downloads on IE?
</I>&gt;<i>
</I>&gt;<i>My issue(s):
</I>&gt;<i>I am using PHP to write HTTP headers to force pdf file download to user
</I>&gt;<i>roughly as follows:
</I>&gt;<i>
</I>&gt;<i>blah, authenticate user, blah, select $file, blah... then push with...
</I>&gt;<i>
</I>&gt;<i>header (&quot;Content-Type: application/octet-stream&quot;);
</I>&gt;<i>header(&quot;Content-Transfer-Encoding: Binary&quot;);
</I>&gt;<i>header(&quot;Content-Length: $iFileSize&quot;);
</I>&gt;<i>header (&quot;Content-Disposition: attachment; filename=$iFileName&quot;);
</I>&gt;<i>readfile(&quot;$file&quot;);
</I>&gt;<i>
</I>&gt;<i>Netscape conforms and opens the Save As... dialog as expected. IE6 messes up
</I>&gt;<i>the content-disposition header and opens the download inline in the browser
</I>&gt;<i>without prompting user to Save As...
</I>&gt;<i>
</I>&gt;<i>Seems regardless, of content-type header specified:
</I>&gt;<i>application/octet-stream
</I>&gt;<i>application/force-download
</I>&gt;<i>application/pdf
</I>&gt;<i>
</I>&gt;<i>IE will mess it up. This is a known issue. Best run around I've seen so far
</I>&gt;<i>is to .Zip the files, in which case IE offers the Save As... on the
</I>&gt;<i>download. Don't want to zip em.
</I>&gt;<i>
</I>&gt;<i>Thoughts?
</I>&gt;<i>
</I>&gt;<i>Warmest regards,
</I>&gt;<i>
</I>&gt;<i>Peter Sawczynec, Technology Director
</I>&gt;<i>PSWebcode -- Web Development and
</I>&gt;<i>Site Architecture
</I>&gt;<i><A HREF="http://lists.nyphp.org/mailman/listinfo/talk">psaw at pswebcode.com</A>
</I>&gt;<i>www.pswebcode.com
</I>&gt;<i>718.543.3240
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>talk mailing list
</I>&gt;<i><A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>
</I>&gt;<i><A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005019.html">[nycphp-talk] Force File Download HTTP Headers and IE Issue
</A></li>
	<LI>Next message: <A HREF="005023.html">[nycphp-talk] Force File Download HTTP Headers and IE Issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5020">[ date ]</a>
              <a href="thread.html#5020">[ thread ]</a>
              <a href="subject.html#5020">[ subject ]</a>
              <a href="author.html#5020">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

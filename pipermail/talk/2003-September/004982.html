<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] so-called triple md5
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-September/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20so-called%20triple%20md5&In-Reply-To=%3C3F5420BB.6020802%40chxo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004980.html">
   <LINK REL="Next"  HREF="004985.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] so-called triple md5</H1>
    <B>Chris Snyder</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20so-called%20triple%20md5&In-Reply-To=%3C3F5420BB.6020802%40chxo.com%3E"
       TITLE="[nycphp-talk] so-called triple md5">csnyder at chxo.com
       </A><BR>
    <I>Tue Sep  2 00:46:51 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004980.html">[nycphp-talk] Java/Swing &lt;-&gt; PHP/GTK
</A></li>
        <LI>Next message: <A HREF="004985.html">[nycphp-talk] so-called triple md5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4982">[ date ]</a>
              <a href="thread.html#4982">[ thread ]</a>
              <a href="subject.html#4982">[ subject ]</a>
              <a href="author.html#4982">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I picked up the simple encryption scheme below a couple years ago from a 
comment in the PHP manual. I'm a little curious about its origins -- 
I've seen it referred to as &quot;triple md5&quot;, but Google doesn't have much 
to say about that, and I suspect it was a euphemism. The original 
comment has since been deleted.

Does anyone recognize this, or care to comment on its ability to 
withstand anything more than casual snooping? It has the advantage of 
being available in setups without mcrypt support, but a false sense of 
security is worse than none at all.

And by the way, what method do -you- recommend for encrypting data that 
needs to be decrypted later?

&gt;<i> function keyED($txt,$encrypt_key) {
</I>&gt;<i>     $encrypt_key = md5($encrypt_key);
</I>&gt;<i>     $ctr=0;
</I>&gt;<i>     $tmp = &quot;&quot;;
</I>&gt;<i>     for ($i=0;$i&lt;strlen($txt);$i++) {
</I>&gt;<i>         if ($ctr==strlen($encrypt_key)) $ctr=0;
</I>&gt;<i>         $tmp.= substr($txt,$i,1) ^ substr($encrypt_key,$ctr,1);
</I>&gt;<i>         $ctr++;
</I>&gt;<i>         }
</I>&gt;<i>     return $tmp;
</I>&gt;<i>     }
</I>&gt;<i>
</I>&gt;<i> function hex2bin($data) {
</I>&gt;<i>     $len = strlen($data);
</I>&gt;<i>     for($i=0;$i&lt;$len;$i+=2) {
</I>&gt;<i>         $newdata .= pack(&quot;C&quot;,hexdec(substr($data,$i,2)));
</I>&gt;<i>         }
</I>&gt;<i>     return $newdata;
</I>&gt;<i>     }
</I>&gt;<i>
</I>&gt;<i> function encrypt($txt, $key=&quot;&quot;) {
</I>&gt;<i>     srand((double)microtime()*1000000);
</I>&gt;<i>     $encrypt_key = md5(rand(0,32000));
</I>&gt;<i>     $ctr=0;
</I>&gt;<i>     $tmp = &quot;&quot;;
</I>&gt;<i>     for ($i=0;$i&lt;strlen($txt);$i++) {
</I>&gt;<i>         if ($ctr==strlen($encrypt_key)) $ctr=0;
</I>&gt;<i>         $tmp.= substr($encrypt_key,$ctr,1) . (substr($txt,$i,1) ^ 
</I>&gt;<i> substr($encrypt_key,$ctr,1));
</I>&gt;<i>         $ctr++;
</I>&gt;<i>         }
</I>&gt;<i>     return bin2hex(keyED($tmp,$key));
</I>&gt;<i>     }
</I>
&gt;<i> function decrypt($text, $key=&quot;&quot;) {
</I>&gt;<i>     $bin= hex2bin($text);
</I>&gt;<i>     $txt = keyED($bin,$key);
</I>&gt;<i>     $tmp = &quot;&quot;;
</I>&gt;<i>     for ($i=0;$i&lt;strlen($txt);$i++) {
</I>&gt;<i>         $md5 = substr($txt,$i,1);
</I>&gt;<i>         $i++;
</I>&gt;<i>         $tmp.= (substr($txt,$i,1) ^ $md5);
</I>&gt;<i>         }
</I>&gt;<i>     return $tmp;
</I>&gt;<i>     }
</I>




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004980.html">[nycphp-talk] Java/Swing &lt;-&gt; PHP/GTK
</A></li>
	<LI>Next message: <A HREF="004985.html">[nycphp-talk] so-called triple md5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4982">[ date ]</a>
              <a href="thread.html#4982">[ thread ]</a>
              <a href="subject.html#4982">[ subject ]</a>
              <a href="author.html#4982">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

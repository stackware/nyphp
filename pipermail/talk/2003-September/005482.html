<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] more queries, or bigger in-memory data structure ?
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-September/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20more%20queries%2C%20or%20bigger%20in-memory%20data%20structure%20%3F&In-Reply-To=%3CPine.NEB.4.58.0309181511040.12976%40panix5.panix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005476.html">
   <LINK REL="Next"  HREF="005483.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] more queries, or bigger in-memory data structure ?</H1>
    <B>David Mintz</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20more%20queries%2C%20or%20bigger%20in-memory%20data%20structure%20%3F&In-Reply-To=%3CPine.NEB.4.58.0309181511040.12976%40panix5.panix.com%3E"
       TITLE="[nycphp-talk] more queries, or bigger in-memory data structure ?">dmintz at panix.com
       </A><BR>
    <I>Thu Sep 18 15:34:11 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005476.html">[nycphp-talk] Array keys in Smarty
</A></li>
        <LI>Next message: <A HREF="005483.html">[nycphp-talk] more queries, or bigger in-memory data structure ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5482">[ date ]</a>
              <a href="thread.html#5482">[ thread ]</a>
              <a href="subject.html#5482">[ subject ]</a>
              <a href="author.html#5482">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I'm gonna try to explain this as briefly and clearly as I can.

I've got a scheduling program for us court interpreters where there's a
table called 'events'. An event has attributes like date, time, judge,
type of proceeding, language, etc. Of course things like judge and
language are stored as smallints pointing to related records in other
tables. Thus, in order to fetch human-meaningful data I have to join
several tables.

&quot;SELECT events.event_id, events.docket,events.event_time,
 	judges.lastname, proceedings.type, languages.name,
	events.notes, languages.lang_id,
	FROM judges, proceedings, languages, events
	WHERE events.event_date = '$date'
	AND events.judge_id = judges.judge_id
	AND events.language_id = languages.lang_id
	AND events.proceeding_id = proceedings.proceeding_id&quot;

OK, so far so good. But I also want to display data from tables that are
in a 1-M relationship to 'events'. An event can have zero or more
interpreters assigned to it, or zero or more defendant names associated
with it. And I only want to display row of data per event. So even if I
could figure out the LEFT JOIN syntax to left-join multiple tables in this
way, if such is possible, it still wouldn't give me what I want.

What I've been doing is building one associative array with the event_ids
as keys and merging it all together with three queries. (There are rarely
more than about 30 elements at this point.)

My question is, would it be more efficient to do the first query first,
and as I loop through the result, query the related tables, resulting in
maybe 60 queries per page access? Or do it with a lot fewer database
calls, but suck up more memory?

I've always thought it kind of rude to hammer the database when there's
another way, but frankly I'm not sure, maybe that's what MySQL is there
for.

TIA,

---
David Mintz
<A HREF="http://davidmintz.org/">http://davidmintz.org/</A>
Email: See <A HREF="http://dmintzweb.com/whitelist.php">http://dmintzweb.com/whitelist.php</A> first!

&quot;Y d&#225;le p'abajo&quot;

	Tito Rojas

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005476.html">[nycphp-talk] Array keys in Smarty
</A></li>
	<LI>Next message: <A HREF="005483.html">[nycphp-talk] more queries, or bigger in-memory data structure ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5482">[ date ]</a>
              <a href="thread.html#5482">[ thread ]</a>
              <a href="subject.html#5482">[ subject ]</a>
              <a href="author.html#5482">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Force File Download HTTP Headers and IE Issue
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-September/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Force%20File%20Download%20HTTP%20Headers%20and%20IE%20Issue&In-Reply-To=%3CE19ueuH-000566-HB%40rslrs1-server.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005022.html">
   <LINK REL="Next"  HREF="005026.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Force File Download HTTP Headers and IE Issue</H1>
    <B>Brian Pang</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Force%20File%20Download%20HTTP%20Headers%20and%20IE%20Issue&In-Reply-To=%3CE19ueuH-000566-HB%40rslrs1-server.com%3E"
       TITLE="[nycphp-talk] Force File Download HTTP Headers and IE Issue">bpang at bpang.com
       </A><BR>
    <I>Wed Sep  3 17:11:13 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005022.html">[nycphp-talk] Force File Download HTTP Headers and IE Issue
</A></li>
        <LI>Next message: <A HREF="005026.html">[nycphp-talk] Force File Download HTTP Headers and IE Issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5025">[ date ]</a>
              <a href="thread.html#5025">[ thread ]</a>
              <a href="subject.html#5025">[ subject ]</a>
              <a href="author.html#5025">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>oh yeah.. stupid Mac resource forks...

good point 

I don't have enough experience with them, but I would guess that there
is a way to append/pre-pend a resource fork to the file.
does anyone know about this?

or you could read the file's info or do the filename extension mapping
yourself in the script and set the content-type accordingly.




&gt;<i> &gt;I think this has been addressed in the archives already..
</I>&gt;<i> &gt;but maybe not specific to PDF
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;this works for me. Still prompts to save, but fills in the filename.
</I>&gt;<i> &gt;Does it work for you?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;header(&quot;Cache-Control: no-cache, must-revalidate&quot;);
</I>&gt;<i> &gt;header(&quot;Pragma: no-cache&quot;);
</I>&gt;<i> &gt;header(&quot;Content-type: application/octet-stream&quot;);
</I>&gt;<i> &gt;header(&quot;Content-Disposition: attachment; filename=\&quot;$filename\&quot;&quot;);
</I>&gt;<i> &gt;$fd=fopen(&quot;$filePath&quot;,&quot;r&quot;);
</I>&gt;<i> &gt;fpassthru($fd);
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> It's worth pointing out, I suppose, that to some systems (i.e., 
</I>&gt;<i> classic Mac OS), once you tell the browser that a JPEG (or PDF in 
</I>&gt;<i> your case) is &quot;application/octet-stream&quot;, it is no longer a JPEG (or 
</I>&gt;<i> PDF).
</I>&gt;<i> 
</I>&gt;<i> If this is a controlled Windows environment which relies on simple 
</I>&gt;<i> file extensions to identify files, you're probably fine, but if you 
</I>&gt;<i> don't know the types of clients that might connect, you run a risk of 
</I>&gt;<i> creating problems where people might double-click on the resulting 
</I>&gt;<i> downloaded file and nothing happenes, because the OS no longer 
</I>&gt;<i> recognizes it as a JPEG.
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> -- 
</I>&gt;<i> Marc Antony Vose
</I>&gt;<i> <A HREF="http://www.suzerain.com/">http://www.suzerain.com/</A>
</I>&gt;<i> 
</I>&gt;<i> Imagination is more important than knowledge.
</I>&gt;<i> -- Albert Einstein
</I>&gt;<i> _______________________________________________
</I>&gt;<i> talk mailing list
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005022.html">[nycphp-talk] Force File Download HTTP Headers and IE Issue
</A></li>
	<LI>Next message: <A HREF="005026.html">[nycphp-talk] Force File Download HTTP Headers and IE Issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5025">[ date ]</a>
              <a href="thread.html#5025">[ thread ]</a>
              <a href="subject.html#5025">[ subject ]</a>
              <a href="author.html#5025">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

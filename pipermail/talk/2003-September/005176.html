<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] why does setcookie fail?????
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-September/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20why%20does%20setcookie%20fail%3F%3F%3F%3F%3F&In-Reply-To=%3C072c01c374c1%2445c67510%2467a76244%40philofsoa%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005172.html">
   <LINK REL="Next"  HREF="005177.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] why does setcookie fail?????</H1>
    <B>Phil Powell</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20why%20does%20setcookie%20fail%3F%3F%3F%3F%3F&In-Reply-To=%3C072c01c374c1%2445c67510%2467a76244%40philofsoa%3E"
       TITLE="[nycphp-talk] why does setcookie fail?????">soazine at erols.com
       </A><BR>
    <I>Sat Sep  6 17:53:14 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005172.html">[nycphp-talk] why does setcookie fail?????
</A></li>
        <LI>Next message: <A HREF="005177.html">[nycphp-talk] why does setcookie fail?????
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5176">[ date ]</a>
              <a href="thread.html#5176">[ thread ]</a>
              <a href="subject.html#5176">[ subject ]</a>
              <a href="author.html#5176">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hans, getting me to think methodically like you do would be like asking a
900-year old corpse to code PHP.  Honestly, I am not physically/mentally
wired to do so, but hey, suggestions are always welcomed! :)

Thanx though, the cookie issue has been resolved, now I can't figure out how
to auto-redirect with a target!

Phil

----- Original Message ----- 
From: &quot;Hans Zaunere&quot; &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">hans at nyphp.org</A>&gt;
To: &quot;NYPHP Talk&quot; &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>&gt;
Sent: Saturday, September 06, 2003 5:21 PM
Subject: Re: [nycphp-talk] why does setcookie fail?????


&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Phil,
</I>&gt;<i>
</I>&gt;<i> Phil Powell wrote:
</I>&gt;<i> &gt; Well this is how I solved it:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; if ($hasLoggedIn &amp;&amp; ($row = mysql_fetch_row($query)) {
</I>&gt;<i> &gt;  setcookie('nordicnet_registration', $row[0], 0, '/');
</I>&gt;<i> &gt;  ...
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; That works!! Apparently the problem was neither setcookie nor header,
</I>AND it
&gt;<i> &gt; was BOTH!
</I>&gt;<i>
</I>&gt;<i> I just jumped into this thread, but it seems the development process is a
</I>bit, uhh, erratic :)
&gt;<i>
</I>&gt;<i> Consider that you have have three essential peices of logic here, all of
</I>which have to come together to give the end result you require (logging, and
remaining logged in).  They are:
&gt;<i>
</I>&gt;<i> 1) Database query and fetching of the result to determine if the proper
</I>user credentials were supplied.
&gt;<i>
</I>&gt;<i> 2) Sending an indication to the browser that they've supplied the proper
</I>credentials (ie, writing the cookie to the browser)
&gt;<i>
</I>&gt;<i> 3) Getting an indication from the browser that they have the proper
</I>credentials (ie, reading the cookie from the browser).
&gt;<i>
</I>&gt;<i> Now you can troubleshoot each of these steps, and isolate where the exact
</I>problem is.
&gt;<i>
</I>&gt;<i> For 1 above:  make sure you don't have typeing issues, and that your DB is
</I>responding 100% correctly.  Meaning, doing a boolean test of ($row =
mysql_fetch_row($query)) is scarey to me.  Pull a value explicitly out of
the result set, or at least know that you're testing an int, ie:  if(
mysql_num_rows($result) === 1 ).  Better yet, do a var_dump() of your final
DB result variables (whether they be associative, numeric, etc. arrays) so
you know exactly what data you're getting back.
&gt;<i>
</I>&gt;<i> For 2 and 3 above:  when working with cookies, or headers in general, I
</I>always use the livehttpheaders plugin for Mozilla.  You can see exactly what
is being sent between you and the web server, and can even edit and replay
headers to test how your application behaves.  Once you see exactly what you
expect being sent back and forth as cookies/headers, you know that piece is
working.  If, however the end result expected behavior still isn't what you
want, you know it must now be logic in your application that is checking if
the user is logged in or not.
&gt;<i>
</I>&gt;<i> Lastly, now use IE :)  If things break, it's a quirk and Google or the
</I>php.net user notes will hopefully be able to help you.
&gt;<i>
</I>&gt;<i> And please, try to trim your posts when replying.  Thanks,
</I>&gt;<i>
</I>&gt;<i> H
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> talk mailing list
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005172.html">[nycphp-talk] why does setcookie fail?????
</A></li>
	<LI>Next message: <A HREF="005177.html">[nycphp-talk] why does setcookie fail?????
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5176">[ date ]</a>
              <a href="thread.html#5176">[ thread ]</a>
              <a href="subject.html#5176">[ subject ]</a>
              <a href="author.html#5176">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Best practices for form input/output between PHP &amp;	MySQL?
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-September/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Best%20practices%20for%20form%20input/output%20between%20PHP%20%26%0A%09MySQL%3F&In-Reply-To=%3C20030917221550.GA24505%40panix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005459.html">
   <LINK REL="Next"  HREF="005472.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Best practices for form input/output between PHP &amp;	MySQL?</H1>
    <B>Analysis &amp; Solutions</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Best%20practices%20for%20form%20input/output%20between%20PHP%20%26%0A%09MySQL%3F&In-Reply-To=%3C20030917221550.GA24505%40panix.com%3E"
       TITLE="[nycphp-talk] Best practices for form input/output between PHP &amp;	MySQL?">danielc at analysisandsolutions.com
       </A><BR>
    <I>Wed Sep 17 18:15:50 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005459.html">[nycphp-talk] Best practices for form input/output between PHP &amp;	MySQL?
</A></li>
        <LI>Next message: <A HREF="005472.html">[nycphp-talk] Best practices for form input/output between PHP &amp;	MySQL?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5471">[ date ]</a>
              <a href="thread.html#5471">[ thread ]</a>
              <a href="subject.html#5471">[ subject ]</a>
              <a href="author.html#5471">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Dan:

On Wed, Sep 17, 2003 at 04:56:36PM -0400, D C Krook wrote:
&gt;<i> 
</I>&gt;<i> We take care to sanitize user input and data display by way of 
</I>&gt;<i> addslashes(), stripslashes(), htmlfunctions(), nl2br() and the like, but 
</I>&gt;<i> occasionally a legitimate backslash in a code snippet gets removed when 
</I>&gt;<i> updating a textarea containing some code, for example:
</I>&gt;<i> 
</I>&gt;<i> escape(document.title.replace(/\+/g,''))
</I>&gt;<i>  becomes
</I>&gt;<i> escape(document.title.replace(/+/g,''))
</I>
By the way your talking, it sounds like you're using stripslashes after 
pulling stuff out of the database -- before displaying it.  Am I reading 
you right?

If so, that's not needed and leads to weird things like you're talking 
about.

If not, where are you using it?

You only need to use it _once_, before putting items into a query.  The
slashes won't be stored in the database.


&gt;<i> function sanitizeInputForDB ($strFieldInput) {
</I>
addslashes();

But, you'll also need to make sure data going to numeric fields don't have
anything except numeric characters.  This is because such fields don't
need to be quoted in query strings, thus they're open to being easily
manipulated.


&gt;<i> function formatDataForDisplay ($strData, $isTextArea = false) {
</I>
All output should be run through htmlspecialchars(), regardless of it 
being a textarea or not.  That's all you need to do.

Enjoy,

--Dan

-- 
     FREE scripts that make web and database programming easier
           <A HREF="http://www.analysisandsolutions.com/software/">http://www.analysisandsolutions.com/software/</A>
 T H E   A N A L Y S I S   A N D   S O L U T I O N S   C O M P A N Y
 4015 7th Ave #4AJ, Brooklyn NY    v: 718-854-0335   f: 718-854-0409

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005459.html">[nycphp-talk] Best practices for form input/output between PHP &amp;	MySQL?
</A></li>
	<LI>Next message: <A HREF="005472.html">[nycphp-talk] Best practices for form input/output between PHP &amp;	MySQL?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5471">[ date ]</a>
              <a href="thread.html#5471">[ thread ]</a>
              <a href="subject.html#5471">[ subject ]</a>
              <a href="author.html#5471">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] mySQL datetime fields default now() fails
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-September/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20mySQL%20datetime%20fields%20default%20now%28%29%20fails&In-Reply-To=%3CPine.LNX.4.21.0309071130310.9377-100000%40miranda.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005183.html">
   <LINK REL="Next"  HREF="005185.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] mySQL datetime fields default now() fails</H1>
    <B>Adam Maccabee Trachtenberg</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20mySQL%20datetime%20fields%20default%20now%28%29%20fails&In-Reply-To=%3CPine.LNX.4.21.0309071130310.9377-100000%40miranda.org%3E"
       TITLE="[nycphp-talk] mySQL datetime fields default now() fails">adam at trachtenberg.com
       </A><BR>
    <I>Sun Sep  7 11:36:32 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005183.html">[nycphp-talk] mySQL datetime fields default now() fails
</A></li>
        <LI>Next message: <A HREF="005185.html">[nycphp-talk] mySQL datetime fields default now() fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5184">[ date ]</a>
              <a href="thread.html#5184">[ thread ]</a>
              <a href="subject.html#5184">[ subject ]</a>
              <a href="author.html#5184">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 7 Sep 2003, Phil Powell wrote:

&gt;<i> I have a mySQL database table with a column field datatype of
</I>&gt;<i> datetime that I set up in the original create table statement like
</I>&gt;<i> this:
</I>&gt;<i> 
</I>&gt;<i> create table nnet_usermetadata (
</I>&gt;<i> ...
</I>&gt;<i>  nnet_record_entered datetime default 'now()'
</I>&gt;<i> )
</I>&gt;<i> 
</I>&gt;<i> However, upon execution, each time a record is entered into
</I>&gt;<i> nnet_usermetadata the results are:
</I>&gt;<i> 
</I>&gt;<i> 00-00-0000 00:00:00
</I>
I believe this is because you are trying to enter the string 'now()'
into the field instead of the results of the function named
now(). However, I bet you tried it without the quotes first and got a
MySQL error message like this: &quot;You have an error in your SQL syntax
near 'now())'&quot;

&gt;<i> Is there a way I can always ensure that the current date and time
</I>&gt;<i> are always entered into the datetime field?  I would prefer to not
</I>&gt;<i> have a server-side PHP or any other scripting solution because by
</I>&gt;<i> doing so would mean I would have to alter my table to do so, and
</I>&gt;<i> after the barrage of questions you've received from me would you
</I>&gt;<i> trust me to do so effectively?
</I>
I went to Google and typed in &quot;default now() mysql&quot; and unless things
have changed in MySQL since 2001 (which is possible), you cannot do
this because default values must be constants. (That's why MySQL spews
that SQL syntax error.)

However, I don't think you'd actually need to alter your table to make
sure you always entered the date -- you'd just need to alter all your
INSERTs and UPDATEs by adding some code to generate the date as part
of your SQL. Of course, that may be worse, but what you need to
do. Alternatively, it looks like MSSQL might support this syntax. :)

-adam

-- 
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">adam at trachtenberg.com</A>
author of o'reilly's php cookbook
avoid the holiday rush, buy your copy today!


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005183.html">[nycphp-talk] mySQL datetime fields default now() fails
</A></li>
	<LI>Next message: <A HREF="005185.html">[nycphp-talk] mySQL datetime fields default now() fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5184">[ date ]</a>
              <a href="thread.html#5184">[ thread ]</a>
              <a href="subject.html#5184">[ subject ]</a>
              <a href="author.html#5184">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

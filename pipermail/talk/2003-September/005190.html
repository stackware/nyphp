<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Retrieving remote files-- caution
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-September/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Retrieving%20remote%20files--%20caution&In-Reply-To=%3C002b01c37531%2417862360%246b00a8c0%40thinkpad%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005180.html">
   <LINK REL="Next"  HREF="005183.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Retrieving remote files-- caution</H1>
    <B>jon baer</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Retrieving%20remote%20files--%20caution&In-Reply-To=%3C002b01c37531%2417862360%246b00a8c0%40thinkpad%3E"
       TITLE="[nycphp-talk] Retrieving remote files-- caution">jonbaer at jonbaer.net
       </A><BR>
    <I>Sun Sep  7 07:13:40 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005180.html">[nycphp-talk] Retrieving remote files-- caution
</A></li>
        <LI>Next message: <A HREF="005183.html">[nycphp-talk] mySQL datetime fields default now() fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5190">[ date ]</a>
              <a href="thread.html#5190">[ thread ]</a>
              <a href="subject.html#5190">[ subject ]</a>
              <a href="author.html#5190">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for pointing this out since I always use the function... it would be
nice to see some type of basic security policy for PHP in regards to certain
methods like these ... most languages go by the notion that &quot;bytes are
bytes&quot; no matter where u get them from, but it would be safer to define
walls for certain &quot;dangerous methods&quot; + include them in php.ini for better
safekeeping.  I always thought it would be nice to do something like what
you did beyond a policy that was saying &quot;you can do this&quot; &quot;you can't do
that&quot;, like in Java + instead have security handlers instead ... for example
a policy would maybe be like: file_get_contents.allow or
file_get_contents.deny but instead allow a security handler to check params
globally ... file_get_contents.handler = (some method to check w/ first) ...

- Jon

----- Original Message -----
From: &quot;Chris Snyder&quot; &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">csnyder at chxo.com</A>&gt;
To: &quot;NYPHP Talk&quot; &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>&gt;
Sent: Sunday, September 07, 2003 12:13 AM
Subject: [nycphp-talk] Retrieving remote files-- caution


&gt;<i> Learned a lesson tonight...
</I>&gt;<i>
</I>&gt;<i> If you're going to use file_get_contents() (or any function with fopen
</I>&gt;<i> wrappers) to allow users to import a file from some other website,
</I>&gt;<i> always check to make sure that the supplied url starts with &quot;<A HREF="http://">http://</A>&quot;
</I>&gt;<i> and not, say, &quot;/etc&quot;.
</I>&gt;<i>
</I>&gt;<i> function url_get_contents ( $url ) {
</I>&gt;<i>     $array= parse_url($url);
</I>&gt;<i>     if ( $array['scheme']=='http' || $array['scheme']=='ftp' ) {
</I>&gt;<i>         return file_get_contents($url);
</I>&gt;<i>     }else {
</I>&gt;<i>         return 0;
</I>&gt;<i>     }
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> I used to always use fsockopen for this, but file_get_contents seemed so
</I>&gt;<i> easy by comparison -- except for the part where it was really built to
</I>&gt;<i> handle local files. Doh!
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> talk mailing list
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005180.html">[nycphp-talk] Retrieving remote files-- caution
</A></li>
	<LI>Next message: <A HREF="005183.html">[nycphp-talk] mySQL datetime fields default now() fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5190">[ date ]</a>
              <a href="thread.html#5190">[ thread ]</a>
              <a href="subject.html#5190">[ subject ]</a>
              <a href="author.html#5190">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

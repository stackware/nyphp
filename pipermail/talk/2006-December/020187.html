<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] freeing sql results
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2006-December/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20freeing%20sql%20results&In-Reply-To=%3C8555ef43b3aa87129948548c50ef4c52%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020186.html">
   <LINK REL="Next"  HREF="020199.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] freeing sql results</H1>
    <B>jface at mercenarylabs.com</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20freeing%20sql%20results&In-Reply-To=%3C8555ef43b3aa87129948548c50ef4c52%40localhost%3E"
       TITLE="[nycphp-talk] freeing sql results">jface at mercenarylabs.com
       </A><BR>
    <I>Thu Dec  7 23:39:41 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="020186.html">[nycphp-talk] freeing sql results
</A></li>
        <LI>Next message: <A HREF="020199.html">[nycphp-talk] freeing sql results
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20187">[ date ]</a>
              <a href="thread.html#20187">[ thread ]</a>
              <a href="subject.html#20187">[ subject ]</a>
              <a href="author.html#20187">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I did include &quot;or die()&quot;s, just neglected to put them into the email. No SQL syntax errors come back. 
The only kinds of errors I'm getting are that sql results are not being freed.
Tried passing the SQL into mysql_query as a separate string, too. No luck.

On Thu, 07 Dec 2006 22:34:04 -0500, Ken Robinson &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">kenrbnsn at rbnsn.com</A>&gt; wrote:
&gt;<i> At 10:58 PM 12/7/2006, <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">jface at mercenarylabs.com</A> wrote:
</I>&gt;&gt;<i>After a lot of trial and error I've narrowed down the offending
</I>&gt;&gt;<i>query in my problem with sql results not freeing themselves up:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>$query = mysql_query(&quot;SELECT activeID FROM activeAI WHERE
</I>&gt;&gt;<i>locationID='$locationID' AND activeID &lt;&gt; '$activeID' AND isUndead=0&quot;);
</I>&gt;&gt;<i>$numOtherAI = mysql_num_rows($query);
</I>&gt;&gt;<i>mysql_free_result($query);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>When I comment out this query, the error(s) go away. Variables
</I>&gt;&gt;<i>$locationID and $activeID are both properly set.
</I>&gt;<i> 
</I>&gt;<i> You really should check for errors when doing a mysql_query. Putting
</I>&gt;<i> the query in a separate string helps.
</I>&gt;<i> 
</I>&gt;<i> $q = &quot;SELECT activeID FROM activeAI WHERE locationID='$locationID'
</I>&gt;<i> AND activeID &lt;&gt; '$activeID' AND isUndead=0&quot;;
</I>&gt;<i> $rs = mysql_query($q) or die(&quot;Problem with the query: $q&lt;br&gt;&quot; .
</I>&gt;<i> mysql_error());
</I>&gt;<i> $numOtherAl = mysql_num_rows($rs);
</I>&gt;<i> mysql_free_result($rs);
</I>&gt;<i> 
</I>&gt;<i> Ken
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> 
</I>&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i> 
</I>&gt;<i> Show Your Participation in New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020186.html">[nycphp-talk] freeing sql results
</A></li>
	<LI>Next message: <A HREF="020199.html">[nycphp-talk] freeing sql results
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20187">[ date ]</a>
              <a href="thread.html#20187">[ thread ]</a>
              <a href="subject.html#20187">[ subject ]</a>
              <a href="author.html#20187">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

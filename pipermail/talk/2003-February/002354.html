<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] PHP and MSIE 6.0
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-February/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20and%20MSIE%206.0&In-Reply-To=%3C20030204035059.33542.qmail%40web12805.mail.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002353.html">
   <LINK REL="Next"  HREF="002355.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] PHP and MSIE 6.0</H1>
    <B>Hans Zaunere</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20and%20MSIE%206.0&In-Reply-To=%3C20030204035059.33542.qmail%40web12805.mail.yahoo.com%3E"
       TITLE="[nycphp-talk] PHP and MSIE 6.0">hans at nyphp.org
       </A><BR>
    <I>Mon Feb  3 22:50:59 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002353.html">[nycphp-talk] PHP and MSIE 6.0
</A></li>
        <LI>Next message: <A HREF="002355.html">[nycphp-talk] .ini config + *nix permissions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2354">[ date ]</a>
              <a href="thread.html#2354">[ thread ]</a>
              <a href="subject.html#2354">[ subject ]</a>
              <a href="author.html#2354">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
--- <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">betenoir at echonyc.com</A> wrote:
&gt;<i> &gt;--- <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">betenoir at echonyc.com</A> wrote:
</I>&gt;<i> &gt;&gt; After testing fairly thoroughly we have discovered that
</I>&gt;<i> &gt;&gt; IE6 is remarkably inconsistent in how it passes cookies
</I>&gt;<i> &gt;&gt; and form data from page to page.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;I'm not sure what inconsistencies you are speaking about,
</I>&gt;<i> &gt;but perhaps your observations are related to third-party
</I>&gt;<i> &gt;cookies from sites that are not P3P-compliant. I believe IE
</I>&gt;<i> &gt;requires (by default) P3P compliance from third-party sites
</I>&gt;<i> &gt;wishing to set a cookie.
</I>&gt;<i> 
</I>&gt;<i> Are you referring to having a privacy policy? We've done that.  But it's
</I>&gt;<i> not the third party that's setting the cookie. The problem is retrieving
</I>&gt;<i> the cookie that we set when we return to our domain *from* the third party.
</I>&gt;<i> 
</I>&gt;<i> &gt;Maybe that helps explain something.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; It is better at $_POST info but a long way from
</I>&gt;<i> &gt;&gt; reliable. It is less reliable when it comes to cookies.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;I am not sure what inconsistency you are noting with IE and
</I>&gt;<i> &gt;form variables, but I expect that you will ultimately
</I>&gt;<i> &gt;identify something in your code rather than in the browser.
</I>&gt;<i> 
</I>&gt;<i> I am prepared to accept that possibility. However we have had a probem that
</I>&gt;<i> when posting from form_input.php to review_form.php
</I>&gt;<i> 
</I>&gt;<i> In the former I've registered name, address, item_number.
</I>&gt;<i> &lt;?
</I>&gt;<i> 	session_register('name');
</I>&gt;<i> 	session_register('address');
</I>&gt;<i> 	session_register('item_number');
</I>&gt;<i> ?&gt;
</I>&gt;<i> 
</I>&gt;<i> And posted from a form
</I>&gt;<i> 	&lt;input type=text name=name&gt;
</I>&gt;<i> 	&lt;input type=text name=address&gt;
</I>&gt;<i> 	&lt;input type=text name=item_number&gt;
</I>&gt;<i> 
</I>&gt;<i> to review_form.php
</I>&gt;<i> 
</I>&gt;<i> ON the review_form.php page I register the variables as above and create
</I>&gt;<i> the HTML as follows:
</I>&gt;<i> 
</I>&gt;<i> &lt;?
</I>&gt;<i> 	print  &quot;$name &lt;imput type=hidden name=\\&quot;$name\\&quot;&gt;&quot;;
</I>&gt;<i> 	print  &quot;$address &lt;imput type=hidden name=\\&quot;$address\\&quot;&gt;&quot;;
</I>&gt;<i> 	print  &quot;$item_number &lt;imput type=hidden name=\\&quot;$item_number\\&quot;&gt;&quot;;
</I>&gt;<i> ?&gt;
</I>&gt;<i> 
</I>&gt;<i> However  the variables do not appear (print) consistently even though there
</I>&gt;<i> is a javascript error-checking routine on the previous page.
</I>&gt;<i> 
</I>&gt;<i> And submitting the same page 5 minutes later on the same machine under
</I>&gt;<i> identical circumstances has produced different results.
</I>&gt;<i> 
</I>&gt;<i> &gt;If you can reproduce your problem in a very small script
</I>&gt;<i> &gt;that demonstrates the problem, we can probably help more.
</I>&gt;<i> 
</I>&gt;<i> The BIG problem is reading the cookie(s) that I am setting on the
</I>&gt;<i> review_form.php page.
</I>&gt;<i> 
</I>&gt;<i> 	$postString = $_POST;
</I>&gt;<i> 	$cC = 0;
</I>&gt;<i> 	$N100D = &quot;&quot;;
</I>&gt;<i> 	$expiry = time() + 60 * 60 * 24 * 365;
</I>&gt;<i> 	foreach ($postString as $key =&gt; $value) {
</I>&gt;<i> 
</I>&gt;<i> 		if ($value != &quot;&quot;) {
</I>&gt;<i> 			$cienCenas = array ($key =&gt; $value);
</I>&gt;<i> 			setcookie($key,$value,$expiry);
</I>&gt;<i> 			$N100D = $N100D . $key . &quot;,&quot;;
</I>&gt;<i> 			$N100D = $N100D . $value . &quot;,&quot;;
</I>&gt;<i> 		}
</I>&gt;<i> 	}
</I>&gt;<i> 
</I>&gt;<i> 		setcookie('$ciento',$N100D,$expiry);
</I>
You really want to set a cookie named $ciento (mind the single quotes)?

The only similar behaviour I've seen is with correctly forming the expire
time.  I've found differant behavior between Mozilla and IE, for example,
although I'm sorry I can't remember exactly what it was.  And since it's a
time issue, this may relate to why it works &quot;now&quot;, and not &quot;then.&quot;  I'm sorry
I can't remember many details, but here is some stuff I've ripped, totally
out of context, from some old code:

/***  NOTES
   setcookie('psyn',pACK,time()+3600,'/','.nyphp.com',0);
   header('Refresh: 5;url='.pAUTH_URL_LOGIN);

   We need to be aware about DOMAIN and Location stuff.  For instance, we
were getting redirected to www.nyphp.com and so the cookies didn't stick on
the redirect.  And, although there is talk that Location: doesn't work right,
it's been working, although we may run into a case where Refresh: is needed

   NOTE: This doesn't work right under NN 4.7
***/

/** This begins to implement TCP style SYN/ACK seq behavior for session ids
**/

      define('pACK', substr(microtime(),2,8).time());
      if( empty($_COOKIE['psyn']) )
         define('pSYN', 0);
      else
         define('pSYN', $_COOKIE['psyn']);

      header('Set-Cookie: psyn='.pACK.'; domain=.'.PARASITE_DOMAIN.';
path=/');

I've also had better luck using header() and forming my Set-Cookie header
manually.  Hopefully I didn't confuse things,

H

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002353.html">[nycphp-talk] PHP and MSIE 6.0
</A></li>
	<LI>Next message: <A HREF="002355.html">[nycphp-talk] .ini config + *nix permissions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2354">[ date ]</a>
              <a href="thread.html#2354">[ thread ]</a>
              <a href="subject.html#2354">[ subject ]</a>
              <a href="author.html#2354">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

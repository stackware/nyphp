<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] cookbook: gpg
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20cookbook%3A%20gpg&In-Reply-To=%3CNFBBJNKBNKCIKGKJIFPJGEFMGIAA.sklar%40sklar.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004592.html">
   <LINK REL="Next"  HREF="004632.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] cookbook: gpg</H1>
    <B>David Sklar</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20cookbook%3A%20gpg&In-Reply-To=%3CNFBBJNKBNKCIKGKJIFPJGEFMGIAA.sklar%40sklar.com%3E"
       TITLE="[nycphp-talk] cookbook: gpg">sklar at sklar.com
       </A><BR>
    <I>Mon Aug 11 15:01:52 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004592.html">[nycphp-talk] cookbook: gpg
</A></li>
        <LI>Next message: <A HREF="004632.html">[nycphp-talk] cookbook: gpg
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4595">[ date ]</a>
              <a href="thread.html#4595">[ thread ]</a>
              <a href="subject.html#4595">[ subject ]</a>
              <a href="author.html#4595">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;&gt;<i> $encrypted = shell_exec( &quot;echo 'secret stuff'|/usr/bin/gpg
</I>&gt;&gt;<i> --no-secmem-warning --homedir /my/.gnupg -ear
</I>&gt;&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">recipient at example.com</A>&quot;);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> from the command line or as a wrapped script, it does not require a
</I>&gt;&gt;<i> passphrase in order to encrypt. Since gpg needs the user's secret
</I>&gt;&gt;<i> key in order to encrypt and sign, a copy of that secret key has to
</I>&gt;&gt;<i> live on the server -- is there any way around that?
</I>&gt;<i>
</I>&gt;<i> I think you're on the right track.  Encrypting data for a designated
</I>&gt;<i> user doesn't require a password.  Here's something I in a PHP shell
</I>&gt;<i> script on my office computer to encrypt backups:
</I>&gt;<i>
</I>&gt;<i>    exec('c:/progra~1/gnupg/gpg.exe -e -r <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">usr at addr.com</A> file.');
</I>&gt;<i>
</I>&gt;<i> Such procedures use the public key ring, right?
</I>
To encrypt only, yes, you just need the public key of the recipient. To
encrypt and sign, you need the private key of the signer as well.

So if you're just encrypting the credit card data with a public key and
storing it in a place where the corresponding private key isn't, then you
should be protected against someone retrieving the encrypted data and then
decrypting it.

You aren't protected against someone injecting false data that's correctly
encrypted into the system (via a hole in your app). This may not be such a
big concern.

David


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004592.html">[nycphp-talk] cookbook: gpg
</A></li>
	<LI>Next message: <A HREF="004632.html">[nycphp-talk] cookbook: gpg
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4595">[ date ]</a>
              <a href="thread.html#4595">[ thread ]</a>
              <a href="subject.html#4595">[ subject ]</a>
              <a href="author.html#4595">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

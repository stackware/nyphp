<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Single-Logon User Authentication,	PHP and viewing non-ASCII
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Single-Logon%20User%20Authentication%2C%0A%09PHP%20and%20viewing%20non-ASCII&In-Reply-To=%3C0b8401c365bb%247c135f80%2467a76244%40philofsoa%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004701.html">
   <LINK REL="Next"  HREF="004716.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Single-Logon User Authentication,	PHP and viewing non-ASCII</H1>
    <B>Phil Powell</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Single-Logon%20User%20Authentication%2C%0A%09PHP%20and%20viewing%20non-ASCII&In-Reply-To=%3C0b8401c365bb%247c135f80%2467a76244%40philofsoa%3E"
       TITLE="[nycphp-talk] Single-Logon User Authentication,	PHP and viewing non-ASCII">soazine at erols.com
       </A><BR>
    <I>Mon Aug 18 15:04:00 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004701.html">[nycphp-talk] Finding current status of httpd
</A></li>
        <LI>Next message: <A HREF="004716.html">[nycphp-talk] Single-Logon User Authentication,	PHP and viewing	non-ASCII
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4713">[ date ]</a>
              <a href="thread.html#4713">[ thread ]</a>
              <a href="subject.html#4713">[ subject ]</a>
              <a href="author.html#4713">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This challenge is beyond me, as it seems to be the case.

I am having to set up a user-authentication script that is basic logon/registration process.  mySQL db captures username, password, and other important fields such as their payment category and isAdmin (if they are an admin on the site).  Once stored they will be able to login once payment category is '4' (which means 'PAID').  

Upon being able to login, one of the features any user, admin or not, can do is to view restricted files in the /web/contents folder.  They can view the list or click onto a link and view the file itself (assuming it's a url-friendly file like .txt or .doc or .pdf or something).

Here's where I am totally stuck.

The /web/contents folder must be locked down so that the outside world cannot view it; only authenticated users must view it.  Problem is, by doing that I force a double-login since that would involve using .htaccess on the folder.  (Note, I was told mySQL has a means of interfacing with .htacesss, however, that too would fail because the requirements for login involve username, password, isAdmin and payment_category all being set to certain values).

I thought of locking down the folder to 700 and each script uploaded to 600 (using TCL CGI instead of PHP to do the actual uploading), however, how would I be able to allow for users to VIEW non-ASCII files (like .doc or .pdf)?

Has anyone faced anything like that, if so, please let me know.

Thanx
Phil
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20030818/5fb8d20e/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20030818/5fb8d20e/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004701.html">[nycphp-talk] Finding current status of httpd
</A></li>
	<LI>Next message: <A HREF="004716.html">[nycphp-talk] Single-Logon User Authentication,	PHP and viewing	non-ASCII
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4713">[ date ]</a>
              <a href="thread.html#4713">[ thread ]</a>
              <a href="subject.html#4713">[ subject ]</a>
              <a href="author.html#4713">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

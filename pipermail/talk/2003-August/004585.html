<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] cookbook: gpg
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20cookbook%3A%20gpg&In-Reply-To=%3CPine.NEB.4.56.0308110949260.9153%40panix5.panix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004583.html">
   <LINK REL="Next"  HREF="004592.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] cookbook: gpg</H1>
    <B>David Mintz</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20cookbook%3A%20gpg&In-Reply-To=%3CPine.NEB.4.56.0308110949260.9153%40panix5.panix.com%3E"
       TITLE="[nycphp-talk] cookbook: gpg">dmintz at panix.com
       </A><BR>
    <I>Mon Aug 11 10:13:52 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004583.html">[nycphp-talk] cookbook: gpg (was Re: empty string as array key)
</A></li>
        <LI>Next message: <A HREF="004592.html">[nycphp-talk] cookbook: gpg
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4585">[ date ]</a>
              <a href="thread.html#4585">[ thread ]</a>
              <a href="subject.html#4585">[ subject ]</a>
              <a href="author.html#4585">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 11 Aug 2003, David Sklar wrote:

&gt;<i> gpg has to run as a user that has access to your secret key ring.
</I>&gt;<i>
</I>&gt;<i> Doing gpg encryption with a passphrase-protected key on a shared server has
</I>&gt;<i> many risks: can anyone else on the server (through misadministration or a
</I>&gt;<i> hole in pages on your site) alter any of your cgi-wrapped scripts and do
</I>&gt;<i> their own encryption/decryption/steal your key? Separately, putting your
</I>&gt;<i> passphrase in a file readable by other users is no better than just having a
</I>&gt;<i> passphraseless key.
</I>&gt;<i>
</I>&gt;<i> What are you trying to encrypt?
</I>

Last question first: credit card information, which will then be emailed
and/or written to a database.

As for the first question, well... maybe I'm confused. When I run the
snippet


$encrypted = shell_exec( &quot;echo 'secret stuff'|/usr/bin/gpg
--no-secmem-warning --homedir /my/.gnupg -ear <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">recipient at example.com</A>&quot;);

from the command line or as a wrapped script, it does not require a
passphrase in order to encrypt. Since gpg needs the user's secret key in
order to encrypt and sign, a copy of that secret key has to live on the
server -- is there any way around that? The permissions are as restrictive
as possible and I guess the key is as safe/vulnerable as anything else in
the house that's similarly chmoded.

The private key for decrypting is not going to be anywhere near the
server, nor will my secret key passphrase.

So how, if at all, does one safely gpg-encrypt on a shared server?

Thanks,

---
David Mintz
<A HREF="http://davidmintz.org/">http://davidmintz.org/</A>
Email: See <A HREF="http://dmintzweb.com/whitelist.php">http://dmintzweb.com/whitelist.php</A> first!

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004583.html">[nycphp-talk] cookbook: gpg (was Re: empty string as array key)
</A></li>
	<LI>Next message: <A HREF="004592.html">[nycphp-talk] cookbook: gpg
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4585">[ date ]</a>
              <a href="thread.html#4585">[ thread ]</a>
              <a href="subject.html#4585">[ subject ]</a>
              <a href="author.html#4585">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

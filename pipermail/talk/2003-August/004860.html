<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] PHP script to manipulate Cron (continued)
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20script%20to%20manipulate%20Cron%20%28continued%29&In-Reply-To=%3C3F4BAB68.4010902%40nyphp.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004856.html">
   <LINK REL="Next"  HREF="004861.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] PHP script to manipulate Cron (continued)</H1>
    <B>Hans Zaunere</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20script%20to%20manipulate%20Cron%20%28continued%29&In-Reply-To=%3C3F4BAB68.4010902%40nyphp.org%3E"
       TITLE="[nycphp-talk] PHP script to manipulate Cron (continued)">hans at nyphp.org
       </A><BR>
    <I>Tue Aug 26 14:48:08 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004856.html">[nycphp-talk] PHP script to manipulate Cron (continued)
</A></li>
        <LI>Next message: <A HREF="004861.html">[nycphp-talk] PHP script to manipulate Cron (continued)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4860">[ date ]</a>
              <a href="thread.html#4860">[ thread ]</a>
              <a href="subject.html#4860">[ subject ]</a>
              <a href="author.html#4860">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">tom at supertom.com</A> wrote:

&gt;<i> Ok, I have the interface and class file working, so I can add entries to the
</I>&gt;<i> webservers cron (thanks guys!).  But now....
</I>&gt;<i> 
</I>&gt;<i> Anyone have any good ideas about a safe and organized way to have these cron
</I>&gt;<i> entries be entered under their own users?  I have access to
</I>&gt;<i> username/passwords of the accounts if that helps.
</I>
Needless to say, this is risky business.  You could use su/sudo to execute commands as other users, which would let you add/change/delete their cronjobs.  Or, you could su commands as root, which would let you inject cronjobs as other users, but then your webserver is doing stuff as root.  If we're talking Apache, which I'm sure we are :) there's suEXEC, which if setup properly can be pretty safe.  Also, maybe if you're running PHP as CGI, you could play with permissions and so forth like that.  I've also written local daemons that run as root and listen for requests from the webserver to execute a very limited set of commands - this is probably safe, but a pain in the neck to do.

There isn't really any nice way of doing, AFAIK, and I'd see if there's an architectural change possible, to avoid doing it at all.  Maybe just have one cronjob running as root that wakes up on a regular interval and queries a MySQL table or some /flat files/lock files/queue directory/ for what needs to be done?

H



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004856.html">[nycphp-talk] PHP script to manipulate Cron (continued)
</A></li>
	<LI>Next message: <A HREF="004861.html">[nycphp-talk] PHP script to manipulate Cron (continued)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4860">[ date ]</a>
              <a href="thread.html#4860">[ thread ]</a>
              <a href="subject.html#4860">[ subject ]</a>
              <a href="author.html#4860">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

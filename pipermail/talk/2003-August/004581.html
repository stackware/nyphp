<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Re: IM App
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Re%3A%20IM%20App&In-Reply-To=%3C00e401c35ebc%2453ca3810%24e1951d18%40enobrev%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004578.html">
   <LINK REL="Next"  HREF="004572.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Re: IM App</H1>
    <B>Mark Armendariz</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Re%3A%20IM%20App&In-Reply-To=%3C00e401c35ebc%2453ca3810%24e1951d18%40enobrev%3E"
       TITLE="[nycphp-talk] Re: IM App">nyphp at enobrev.com
       </A><BR>
    <I>Sat Aug  9 17:22:18 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004578.html">[nycphp-talk] OT: Javascript question
</A></li>
        <LI>Next message: <A HREF="004572.html">[nycphp-talk] request for comment: pWhiteboard
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4581">[ date ]</a>
              <a href="thread.html#4581">[ thread ]</a>
              <a href="subject.html#4581">[ subject ]</a>
              <a href="author.html#4581">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>A few months ago, I created a php based socket server app (based in part
on <A HREF="http://www.php-tools.de/site.php">http://www.php-tools.de/site.php</A> socket server class).  For the front
end, I used flash via xml_sockets.  Now in order to add IM-ability to
the chat app, I basically set allow the user to click on a user who is
logged on which will send an &quot;IM&quot; command to the server via the socket,
which in turn sends it to that user via their socket connection.  Then
Using javascript from Flash it open up a new browser window with a new
room with the two members in it for both clients.

Most everything is held in php arrays and the class is continually open
on the server (with a while (1) { // socket commands }).  The only issue
I had was that my hosts's server wouldn't allow the app to run
constantly, so the socket connections would close after 20 minutes.  Now
that they just gave me my own server, I may be able to keep it running
at all times.

I've also done something similar with perl before that, which worked
well, but I've never liked maintaining perl because I'm not strong
enough with it.

I've found that the traffic and processees involved are incredibly
minimal, but it's only been for a group of 30 of us at a time.  The app
also adds all messages to a mysql database for archiving, and besides
the time limit which I'll be working around now, I've had no problems.

Good luck!

Mark

-----Original Message-----
From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A> [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>]
On Behalf Of Larry Velez
Sent: Thursday, August 07, 2003 8:48 PM
To: 'NYPHP Talk'
Subject: RE: [nycphp-talk] Re: IM App



We built a dedicated chat app for a client's website once.  We used
Jabber and a Java client for the front end.  It worked great.
Although they hardly ever had anyone in the chat rooms to really test
the system under load.   I know this is not a PHP solution but
I don't think PHP is well suited for a real-time application like IM.

|<i> Larry Velez | <A HREF="http://sinu.com">http://sinu.com</A> |
</I>
-----Original Message-----
From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A> [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>]
On Behalf Of Chris Shiflett
Sent: Thursday, August 07, 2003 2:26 PM
To: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>
Subject: [nycphp-talk] Fwd: Undelivered Mail Returned to Sender


--- <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">crisscott at netzero.com</A> wrote:
&gt;<i> That is helpful. I obviously wasn't looking at this from the right
</I>&gt;<i> angle. But like David mentioned, I would think that having lots users 
</I>&gt;<i> sleeping and polling would cause some strain on the server.
</I>
Well, it wouldn't cause much strain at all, since it's only having to
send a little chunk every time someone sends a message.

What it does do is tie up connections. Most people who do this consider
the Web server to be a chat server and dedicate it to that purpose (or,
at least dedicate some Web server to the purpose, perhaps listening on
an alternate port). Because the strain is very little, you can increase
your maximum number of child processes/threads/whatever a ton without
increasing your load too much (this tuning requires a bit of experience
with tuning Web servers, but trial an error is also very educational).
You just need to be able to support a connection for every user in a
chat.

Hope that helps.

Chris

=====
Become a better Web developer with the HTTP Developer's Handbook
<A HREF="http://httphandbook.org/">http://httphandbook.org/</A> _______________________________________________
talk mailing list
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>

_______________________________________________
talk mailing list
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004578.html">[nycphp-talk] OT: Javascript question
</A></li>
	<LI>Next message: <A HREF="004572.html">[nycphp-talk] request for comment: pWhiteboard
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4581">[ date ]</a>
              <a href="thread.html#4581">[ thread ]</a>
              <a href="subject.html#4581">[ subject ]</a>
              <a href="author.html#4581">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

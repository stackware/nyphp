<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Bullet proofing &quot;rmdir&quot; command
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Bullet%20proofing%20%22rmdir%22%20command&In-Reply-To=%3C001d01c360e6%24a2acbd00%246501a8c0%40EZDSDELL%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004614.html">
   <LINK REL="Next"  HREF="004616.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Bullet proofing &quot;rmdir&quot; command</H1>
    <B>Jeff</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Bullet%20proofing%20%22rmdir%22%20command&In-Reply-To=%3C001d01c360e6%24a2acbd00%246501a8c0%40EZDSDELL%3E"
       TITLE="[nycphp-talk] Bullet proofing &quot;rmdir&quot; command">jsiegel1 at optonline.net
       </A><BR>
    <I>Tue Aug 12 11:30:17 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004614.html">[nycphp-talk] Bullet proofing &quot;rmdir&quot; command
</A></li>
        <LI>Next message: <A HREF="004616.html">[nycphp-talk] Bullet proofing &quot;rmdir&quot; command
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4615">[ date ]</a>
              <a href="thread.html#4615">[ thread ]</a>
              <a href="subject.html#4615">[ subject ]</a>
              <a href="author.html#4615">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The subdirectory name should, theoretically, take care of uniqueness.
Here's how I generate the subdir name when someone is uploading pics for
the very first time:

$sTime = microtime();
$iDir = md5($sTime); 

At no time does the user touch the subdir name (that is...it is not
editable). It is generated automatically and stored in the database. The
only time it is visible, however, is on the &quot;public&quot; side of the site
when someone views the images and looks at the html source.


Jeff

-----Original Message-----
From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A> [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>]
On Behalf Of Analysis &amp; Solutions
Sent: Tuesday, August 12, 2003 10:11 AM
To: NYPHP Talk
Subject: Re: [nycphp-talk] Bullet proofing &quot;rmdir&quot; command


Hey Jeff:

On Tue, Aug 12, 2003 at 10:28:57AM -0400, Jeff wrote:
&gt;<i> Just to expand a bit, I use a constant for the full path:
</I>
If you're using a constant for the path, then all you need to do is make
sure the user input subdirectory name matches an expected pattern.  So,
for example, check to see that $sSubDir has only letters and numbers in
it.  This keeps a jerk from putting in dots and/or slashes to move to 
undesirable locations.  This doesn't obviate the need for is_dir() and 
file_exists() checks, though.

I guess one hitch with all of the approaches discussed so far is they
seem 
to be able to allow one users to delete another user's photos.  Thus,
you 
might want to include some unique user id in the file/directory naming 
convention.

... snipitty, snip, snip, because, friends don't let friends waste 
disk space or bandwidth...

--Dan

-- 
     FREE scripts that make web and database programming easier
           <A HREF="http://www.analysisandsolutions.com/software/">http://www.analysisandsolutions.com/software/</A>
 T H E   A N A L Y S I S   A N D   S O L U T I O N S   C O M P A N Y
 4015 7th Ave #4AJ, Brooklyn NY    v: 718-854-0335   f: 718-854-0409
_______________________________________________
talk mailing list
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004614.html">[nycphp-talk] Bullet proofing &quot;rmdir&quot; command
</A></li>
	<LI>Next message: <A HREF="004616.html">[nycphp-talk] Bullet proofing &quot;rmdir&quot; command
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4615">[ date ]</a>
              <a href="thread.html#4615">[ thread ]</a>
              <a href="subject.html#4615">[ subject ]</a>
              <a href="author.html#4615">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

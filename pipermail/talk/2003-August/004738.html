<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] form posts, back button, IE page expired
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20form%20posts%2C%20back%20button%2C%20IE%20page%20expired&In-Reply-To=%3CNGBBIDLNCJJKIBJPNEHEIEAMEBAA.wfan%40encogent.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004723.html">
   <LINK REL="Next"  HREF="004739.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] form posts, back button, IE page expired</H1>
    <B>Wellington Fan</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20form%20posts%2C%20back%20button%2C%20IE%20page%20expired&In-Reply-To=%3CNGBBIDLNCJJKIBJPNEHEIEAMEBAA.wfan%40encogent.com%3E"
       TITLE="[nycphp-talk] form posts, back button, IE page expired">wfan at encogent.com
       </A><BR>
    <I>Mon Aug 18 18:06:11 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004723.html">[nycphp-talk] form posts, back button, IE page expired
</A></li>
        <LI>Next message: <A HREF="004739.html">[nycphp-talk] form posts, back button, IE page expired
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4738">[ date ]</a>
              <a href="thread.html#4738">[ thread ]</a>
              <a href="subject.html#4738">[ subject ]</a>
              <a href="author.html#4738">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Folks,

I have always thought that the underlying problem is that when a page is
requested via POST, most browsers will be (understandably) hesitant about
re-POSTING all the data that was sent to draw the page, hence the warning
messages.

I've restructured my apps, whereever applicable, to POST to a backend script
that NEVER prints to the browser, but at the end of its processing, redirects
to a 'landing' page:

[form page] -(SUBMITS TO)-&gt; [backend page] -(REDIRECTS TO)-&gt; [landing page]

1. formpage.php: page with form elements; user fills and submits to
backend.php
2. backend.php: does processing AND NEVER PRINTS ANYTHING TO BROWSER.
	a. Save the submitted data to a session var if you'd like (
unset($_SESSION['form']); $_SESSION['form'] = $_POST; )
	b. Process data (insert into db, etc.)
	c. Redirect to landing page ( header('Location: landingpage.php'); )
3. landingpage.php (or, formpage.php?mode=complete ) : Can use
$_SESSION['form'] if need be to echo user-supplied data.

No matter cache settings (which can be complex, and not all cache settings are
respected by all browsers AND there are both proxy caches and browser caches,
etc, etc....), this scheme has worked well for me -- I never have the 'expired
page' errors I used to have.

Please provide constructive criticism or comments about this!

Thanks,

Wellington





&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>
</I>&gt;<i> [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>]On Behalf Of Analysis &amp; Solutions
</I>&gt;<i> Sent: Monday, August 18, 2003 4:12 PM
</I>&gt;<i> To: NYPHP Talk
</I>&gt;<i> Subject: Re: [nycphp-talk] form posts, back button, IE page expired
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Brian:
</I>&gt;<i>
</I>&gt;<i> On Mon, Aug 18, 2003 at 04:08:42PM -0400, Brian Pang wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; How do you guys/gals deal with the IE Page Expired page which is
</I>&gt;<i> &gt; generated if you use the back button to return to a page which had form
</I>&gt;<i> &gt; POST information in it originally?
</I>&gt;<i>
</I>&gt;<i> Sounds like you/your server is setting cache headers.  Don't.  Then your
</I>&gt;<i> problems will disappear.
</I>&gt;<i>
</I>&gt;<i> Enjoy,
</I>&gt;<i>
</I>&gt;<i> --Dan
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004723.html">[nycphp-talk] form posts, back button, IE page expired
</A></li>
	<LI>Next message: <A HREF="004739.html">[nycphp-talk] form posts, back button, IE page expired
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4738">[ date ]</a>
              <a href="thread.html#4738">[ thread ]</a>
              <a href="subject.html#4738">[ subject ]</a>
              <a href="author.html#4738">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

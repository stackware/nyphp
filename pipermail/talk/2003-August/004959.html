<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] MySQL table optimization
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20MySQL%20table%20optimization&In-Reply-To=%3C005b01c36e47%247a22cbe0%246401a8c0%40EZDSDELL%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004955.html">
   <LINK REL="Next"  HREF="004945.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] MySQL table optimization</H1>
    <B>Jeff</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20MySQL%20table%20optimization&In-Reply-To=%3C005b01c36e47%247a22cbe0%246401a8c0%40EZDSDELL%3E"
       TITLE="[nycphp-talk] MySQL table optimization">jsiegel1 at optonline.net
       </A><BR>
    <I>Fri Aug 29 12:06:09 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004955.html">[nycphp-talk] MySQL table optimization
</A></li>
        <LI>Next message: <A HREF="004945.html">[nycphp-talk] 	Pricing methodologies, business practices and copyright
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4959">[ date ]</a>
              <a href="thread.html#4959">[ thread ]</a>
              <a href="subject.html#4959">[ subject ]</a>
              <a href="author.html#4959">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hans,

I'm using MySQL 3.23.56 (the ver with RH 7.3). Based on Carlos' message,
the known &quot;bug&quot; shouldn't be in this version.

The insert is done during the course of the day - not all at once - so I
can skip that step. This gives me a GREAT outline of steps (THANKS!!!).
I'll share some code once it's ready.

Jeff

-----Original Message-----
From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A> [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>]
On Behalf Of Hans Zaunere
Sent: Friday, August 29, 2003 10:43 AM
To: NYPHP Talk
Subject: Re: [nycphp-talk] MySQL table optimization




Jeff wrote:

&gt;<i> I have a particular table that has a very large number of deleted
</I>&gt;<i> records (and approx. 500 records are deleted and added each day). The
</I>&gt;<i> MySQL docs note that running an &quot;Optimize&quot; statement will clean up
</I>this
&gt;<i> potentially fractured file. However, I believe I had read somewhere
</I>(of
&gt;<i> course...don't ask me where &quot;somewhere&quot; is...I don't remember) that
</I>&gt;<i> there is the potential that the table itself can become corrupted
</I>after
&gt;<i> running optimize. Is this true? And if it is true, how can I detect,
</I>via
&gt;<i> code, that a table has become hosed?
</I>
As Carlos points out, this used to be a problem.  On a 4.0.13 database,
we delete/insert about 5000+ three times a day without issue.  The
general progression we use:

-- LOCK TABLES as write (optional, but can't hurt if you can afford it)
-- DELETE QUICK the old rows
-- INSERT the new rows
-- ANALYZE, OPTIMIZE, FLUSH the table

Some of that is probably overkill, but it can't hurt, especially if you
can afford the slight performance penalty.  With over 350,000 records in
the table, we've had no problems doing this type of thing many times a
day.

H

_______________________________________________
talk mailing list
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004955.html">[nycphp-talk] MySQL table optimization
</A></li>
	<LI>Next message: <A HREF="004945.html">[nycphp-talk] 	Pricing methodologies, business practices and copyright
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4959">[ date ]</a>
              <a href="thread.html#4959">[ thread ]</a>
              <a href="subject.html#4959">[ subject ]</a>
              <a href="author.html#4959">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Single-Logon User Authentication,	PHP and viewingnon-ASCII
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Single-Logon%20User%20Authentication%2C%0A%09PHP%20and%20viewingnon-ASCII&In-Reply-To=%3C0be201c365c2%24165f7000%2467a76244%40philofsoa%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004718.html">
   <LINK REL="Next"  HREF="004722.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Single-Logon User Authentication,	PHP and viewingnon-ASCII</H1>
    <B>Phil Powell</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Single-Logon%20User%20Authentication%2C%0A%09PHP%20and%20viewingnon-ASCII&In-Reply-To=%3C0be201c365c2%24165f7000%2467a76244%40philofsoa%3E"
       TITLE="[nycphp-talk] Single-Logon User Authentication,	PHP and viewingnon-ASCII">soazine at erols.com
       </A><BR>
    <I>Mon Aug 18 15:51:16 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004718.html">[nycphp-talk] Single-Logon User Authentication,	PHP and viewing	non-ASCII
</A></li>
        <LI>Next message: <A HREF="004722.html">[nycphp-talk] Single-Logon User Authentication,	PHP and viewingnon-ASCII
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4719">[ date ]</a>
              <a href="thread.html#4719">[ thread ]</a>
              <a href="subject.html#4719">[ subject ]</a>
              <a href="author.html#4719">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have that already:

if (!($dirID = opendir($ACTUAL_STARTPATH . '/content/')) &amp;&amp; $hasCookie) {
   $html .= $font . '&lt;font color=cc0000&gt;&lt;li&gt;Could not open files in content
folder&lt;/li&gt;&lt;/font&gt;&lt;/font&gt;&lt;p&gt;';
  } else if ($hasCookie) {

   clearstatcache(); // CLEAR THE STATUS CACHE FOR is_file() TO PROPERLY
DETERMINE FILE STATUS
   $html .= $font . 'Contents: &lt;p&gt;';
   while (($file = readdir($dirID)) !== false) {
    if (is_file($file) || !preg_match('/^\./', $file)) {
     $html .= &quot;\n&lt;br&gt;&lt;a href=/content/&quot; . substr($file, strrpos('/', $file),
strlen($file)) .
              '&gt;' . substr($file, strrpos('/', $file), strlen($file)) .
&quot;&lt;/a&gt;&lt;p&gt;\n&quot;;
    }
   }
  }

However, this only works if the directory has permissions of at least 755
and each file at 777.  But that's not what the client wants, he wants it to
be set to permissions that the &quot;outside world&quot; can't view unless they log in
and are authenticated beforehand.

Phil
----- Original Message ----- 
From: &quot;Chris Snyder&quot; &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">csnyder at chxo.com</A>&gt;
To: &quot;NYPHP Talk&quot; &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>&gt;
Sent: Monday, August 18, 2003 3:33 PM
Subject: Re: [nycphp-talk] Single-Logon User Authentication, PHP and
viewingnon-ASCII


&gt;<i> Check out the directory() functions.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Phil Powell wrote:
</I>&gt;<i>
</I>&gt;<i> &gt;I looked up fpassthru online and how to set the headers.  Your solution
</I>&gt;<i> &gt;sounds fine for hopefully viewing a single file, but how about producing
</I>a
&gt;<i> &gt;list of files for display?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Thanx
</I>&gt;<i> &gt;Phil
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> talk mailing list
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004718.html">[nycphp-talk] Single-Logon User Authentication,	PHP and viewing	non-ASCII
</A></li>
	<LI>Next message: <A HREF="004722.html">[nycphp-talk] Single-Logon User Authentication,	PHP and viewingnon-ASCII
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4719">[ date ]</a>
              <a href="thread.html#4719">[ thread ]</a>
              <a href="subject.html#4719">[ subject ]</a>
              <a href="author.html#4719">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

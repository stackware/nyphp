<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] OO &amp; database connections
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2004-July/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20OO%20%26%20database%20connections&In-Reply-To=%3C40F6D2B6.5080706%40sklar.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010549.html">
   <LINK REL="Next"  HREF="010551.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] OO &amp; database connections</H1>
    <B>David Sklar</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20OO%20%26%20database%20connections&In-Reply-To=%3C40F6D2B6.5080706%40sklar.com%3E"
       TITLE="[nycphp-talk] OO &amp; database connections">sklar at sklar.com
       </A><BR>
    <I>Thu Jul 15 14:53:42 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="010549.html">[nycphp-talk] OO &amp; database connections
</A></li>
        <LI>Next message: <A HREF="010551.html">[nycphp-talk] OO &amp; database connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10550">[ date ]</a>
              <a href="thread.html#10550">[ thread ]</a>
              <a href="subject.html#10550">[ subject ]</a>
              <a href="author.html#10550">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>putamare wrote:

&gt;<i> Here's a best practices question: my script has several objects, say one 
</I>&gt;<i> to do authorization and one or more others to display content, or 
</I>&gt;<i> whatever. Most, if not all, of these objects access multiple databases, 
</I>&gt;<i> one for authorization, one for content, etc.
</I>&gt;<i> 
</I>&gt;<i> Is it better to have object create its own private connection object (in 
</I>&gt;<i> my case I'm goofing off with the new mysqli_ functions, but I'm sure 
</I>&gt;<i> this would apply equally to PEAR::DB, or even an old school connection 
</I>&gt;<i> string), or creating a single connection object and passing that around 
</I>&gt;<i> to the other objects as needed?
</I>
My weasely answer (below), turns on how you'd like to define &quot;better&quot;.

The performance optimization is:

Assuming the different databases are on the same server, create one 
connection and then pass that around in your program. Saves DB server 
resources, network overhead, connection start up time, etc.

The encapsulation and object re-use optimization is:

Have each object connect separately with its own credentials, allowing 
you freedom in the future to move the databases to different servers, 
tweak access control from each object, etc.


That said, unless you have immediate and large code re-use needs, my gut 
is to do the performance optimization.

David


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010549.html">[nycphp-talk] OO &amp; database connections
</A></li>
	<LI>Next message: <A HREF="010551.html">[nycphp-talk] OO &amp; database connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10550">[ date ]</a>
              <a href="thread.html#10550">[ thread ]</a>
              <a href="subject.html#10550">[ subject ]</a>
              <a href="author.html#10550">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Getting GMT bias from browser
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2006-October/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Getting%20GMT%20bias%20from%20browser&In-Reply-To=%3C6.1.2.0.2.20061009205902.02f2dc98%40pop.gmx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019580.html">
   <LINK REL="Next"  HREF="019556.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Getting GMT bias from browser</H1>
    <B>David Krings</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Getting%20GMT%20bias%20from%20browser&In-Reply-To=%3C6.1.2.0.2.20061009205902.02f2dc98%40pop.gmx.net%3E"
       TITLE="[nycphp-talk] Getting GMT bias from browser">ramons at gmx.net
       </A><BR>
    <I>Mon Oct  9 21:29:21 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="019580.html">[nycphp-talk] Getting GMT bias from browser
</A></li>
        <LI>Next message: <A HREF="019556.html">[nycphp-talk] XAMPP upgrade from lite version
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19585">[ date ]</a>
              <a href="thread.html#19585">[ thread ]</a>
              <a href="subject.html#19585">[ subject ]</a>
              <a href="author.html#19585">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At 11:50 AM 10/9/2006, you wrote:
&gt;<i>Yeah, there's no good way to do this other than to have the user's
</I>&gt;<i>browser tell you what it thinks the date/time is.  The Javascript Date
</I>&gt;<i>() object will, by default, return a date string that has the GMT
</I>&gt;<i>offset in it.
</I>&gt;<i>
</I>&gt;<i>Mon Oct 09 2006 10:32:00 GMT-0500 (CDT)
</I>&gt;<i>
</I>&gt;<i>It also has a method called getTimezoneOffset(), which tells you the
</I>&gt;<i>(+/-) minutes away from GMT the browser is.  You could just test the
</I>&gt;<i>value of $_COOKIE in php, redirect to a page that sets a cookie, and
</I>&gt;<i>then go back to the main page.  It sucks, but it works.
</I>

Thank you very much for the script code. I did try it out and it indeed 
sets the GMT_Bias in $_COOKIE. So far so good. Being in CT I expected the 
bias to be 300, but it is 240. I also placed myself in different timezones 
and not surprisingly, it comes up with the same result. So, how about 
putting my server back on the East Coast and make my  client now on a 
different PC to be in Germany. As bias I get this time -120 although I 
expected it to be -60. That together makes 360 minutes and that results to 
6 hours difference, which indeed is the correct difference between here and 
Germany.
So I guess what I need to do know is add some protection in case the 
browser does not accept cookies and figure out what my server GMT bias is 
and arrange that with the browser GMT bias to calculate the browser time 
based on the server time and the GMT difference. I probably can do that in 
one go by mashing the biases together and add the positive or negative 
bias. A quick look on the GMT website shows that the 240 and -120 are 
indeed correct due to DST. So I should do some more testing by placing both 
client and server in that week where the US is off in its DST setting 
compared to the rest of the world, which by the way really sucks big time 
when dealing with folks in Germany and the difference is out of a sudden 7 
hours. How was that? By next year it gets even worse as DST in the US lasts 
one month longer than everywhere else. Ah well, now I have a nice script 
that will help me figure this all out. If I just wouldn't have a pesky job 
that takes the best 8 hours of my day......

Thank you very much, that was really nice of you !


         David K. 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019580.html">[nycphp-talk] Getting GMT bias from browser
</A></li>
	<LI>Next message: <A HREF="019556.html">[nycphp-talk] XAMPP upgrade from lite version
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19585">[ date ]</a>
              <a href="thread.html#19585">[ thread ]</a>
              <a href="subject.html#19585">[ subject ]</a>
              <a href="author.html#19585">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Mysql question!
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2006-October/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Mysql%20question%21&In-Reply-To=%3C019301c6fc7f%2420e48090%246401a8c0%40gamebox%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019807.html">
   <LINK REL="Next"  HREF="019809.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Mysql question!</H1>
    <B>Ben Sgro (sk)</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Mysql%20question%21&In-Reply-To=%3C019301c6fc7f%2420e48090%246401a8c0%40gamebox%3E"
       TITLE="[nycphp-talk] Mysql question!">skyline at publicmine.com
       </A><BR>
    <I>Mon Oct 30 18:57:14 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="019807.html">[nycphp-talk] Mysql question!
</A></li>
        <LI>Next message: <A HREF="019809.html">[nycphp-talk] Mysql question!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19808">[ date ]</a>
              <a href="thread.html#19808">[ thread ]</a>
              <a href="subject.html#19808">[ subject ]</a>
              <a href="author.html#19808">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Paul

            if exists(!Customer_Info)  //Here it doesn't work, error!!!!

Is 'Customer_Info' a constant?
Otherwise I dont see how this works, its not a function (), its not a variable $..I'm not big on OOPHP some if that is some sorta construct
ignore my message.

- Ben


ps: These are some wrappers I use to make my code simpler to look at.


/* DBAS_MySQLConnect

   $sqlInfo is an array that holds values particular to the app this is used in.
   ex: $sqlInfo = array('databaseUser' =&gt; mysql, 'databasePass' =&gt; 's3cr3t');
*/
function DBAS_MySQLConnect(&amp;$db, $sqlInfo)
{
    $cIp    = $_SERVER[&quot;REMOTE_ADDR&quot;];
    $dbName = $sqlInfo['databaseUser'];
    $dbPass = $sqlInfo['databasePass'];
    $db = mysql_pconnect(&quot;&quot;, $dbName, $dbPass);
    if ( $db )
    {
        error_log(&quot;DBAS: $cIp connected to mysql server&quot;);
    }
    else
    {
        error_log(&quot;DBAS: error connecting to mysql server&quot;);
    }
}


/* DBAS_MySQLUseDB

*/
function DBAS_MySQLUseDB($dbName, $db)
{
    $res = mysql_select_db($dbName, $db);
    if ( $res )
    {
        error_log(&quot;DBAS: using database $dbName&quot;);
    }
    else
    {
        error_log(&quot;DBAS: cannot use database $dbName&quot;);
    }
}

/* DBAS_MySQLQuery

*/
function DBAS_MySQLQuery($query, $db)
{
    $result = mysql_query($query, $db);
    if ( !$result )
    {
        $errorStr = mysql_error( $db );
        $errorNum = mysql_errno( $db );
        $errorStr = &quot;error($errorStr):error no($errorNum)&quot;;
        error_log(&quot;DBAS: MySQL $errorStr&quot;);
    }
    return $result;
}



  ----- Original Message ----- 
  From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">tuon1 at netzero.net</A> 
  To: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A> 
  Sent: Monday, October 30, 2006 6:21 PM
  Subject: [nycphp-talk] Mysql question!


  Hi, everybody!

  I want to ask you all to help me out in solving my database question.

  Here is what I want to accomplish:

  I want to add my users, one by one, to my Mysql database via a registration form.

  When a user fills out a registration form, my script should gather all the information

  and add them to the database. I pretty much got all that part working, but I want my

  script to check to see whether a table exists or not. If it doesn't exist, my script

  should create a table and then proceed to add the information to the database;

  and if it does exist, then it should not create one and proceed to use the existed table.

  1) Is there a php function that take care of this job that I can use?

  I tried to use: if exists(mytablename)

  but, it doesn't work.

  Here is my code: (some codes are left out for illustration purpose.)

  &lt;?php
  include(&quot;dbinfo.inc.php&quot;);
    class TableInfo
         {
          function _construct()    //A Constructor
             {
              /* Initialize database */
              mysql_connect($localhost,$username,$password);
              @mysql_select_db($database) or die( &quot;Unable to select database&quot;);
              if exists(!Customer_Info)  //Here it doesn't work, error!!!!
                 {
                  $query = &quot;CREATE TABLE Customer_Info
                  (
                   FirstNameCol VARCHAR(15) NOT NULL,
                   LastNameCol VARCHAR(20) NOT NULL,
                   AddressCol VARCHAR(40) NOT NULL,
                   CityCol VARCHAR(20) NOT NULL,
                   StateCol VARCHAR(20) NOT NULL,
                   ZipCodeCol INT(5) NOT NULL,
                   AreaCodeCol INT(3) NOT NULL,
                   PhoneCol INT(15) NOT NULL,
                   EmailCol VARCHAR(30) NOT NULL,
                   LoginNameCol VARCHAR(20) NOT NULL,
                   PasswordCol VARCHAR(20) NOT NULL
                  )&quot;;
                  mysql_query($query);
                 }

          //Add new customer to database
          function AddNewCustomer($FirstName, $LastName, $Address,
                                  $City, $State, $ZipCode,
                                  $AreaCode, $Phone, $Email,
                                  $WebsiteURL, $LoginName, $Password
                                 )
             {
                  $query = 'INSERT INTO Customer_Info (FirstNameCol,
             LastNameCol, AddressCol, CityCol, StateCol,
                                  ZipCodeCol, AreaCodeCol, PhoneCol,
                                  EmailCol, WebsiteURLCol,
             LoginNameCol, PasswordCol
                                 )
      VALUES (&quot;'. $FirstName . '&quot;, &quot;' . $LastName . '&quot;,
                       &quot;' . $Address . '&quot;, &quot;' . $City . '&quot;,
        &quot;' . $State . '&quot;, &quot;' . $ZipCode . '&quot;,
        &quot;' . $AreaCode . '&quot;, &quot;' . $Phone . '&quot;,
        &quot;' . $Email . '&quot;,
        &quot;' . $WebsiteURL . '&quot;, &quot;' . $LoginName . '&quot;,
                       &quot;' . SHA1($Password) . '&quot;)';
    }

  Feel free to correct my code and give suggestions for better techniques.

  Thanks!

  Paul





------------------------------------------------------------------------------


  _______________________________________________
  New York PHP Community Talk Mailing List
  <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>

  NYPHPCon 2006 Presentations Online
  <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>

  Show Your Participation in New York PHP
  <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20061030/053976ed/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20061030/053976ed/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019807.html">[nycphp-talk] Mysql question!
</A></li>
	<LI>Next message: <A HREF="019809.html">[nycphp-talk] Mysql question!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19808">[ date ]</a>
              <a href="thread.html#19808">[ thread ]</a>
              <a href="subject.html#19808">[ subject ]</a>
              <a href="author.html#19808">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

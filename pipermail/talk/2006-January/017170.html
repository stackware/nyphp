<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] problems loading a custom, shared extension
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2006-January/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20problems%20loading%20a%20custom%2C%20shared%20extension&In-Reply-To=%3C000a01c6132a%24a14efba0%246501a8c0%40MZ%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017159.html">
   <LINK REL="Next"  HREF="017223.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] problems loading a custom, shared extension</H1>
    <B>Hans Zaunere</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20problems%20loading%20a%20custom%2C%20shared%20extension&In-Reply-To=%3C000a01c6132a%24a14efba0%246501a8c0%40MZ%3E"
       TITLE="[nycphp-talk] problems loading a custom, shared extension">lists at zaunere.com
       </A><BR>
    <I>Fri Jan  6 20:35:20 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017159.html">[nycphp-talk] C++,C#,Java, Python, Ruby, and finally .. PHP5
</A></li>
        <LI>Next message: <A HREF="017223.html">[nycphp-talk] problems loading a custom, shared extension
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17170">[ date ]</a>
              <a href="thread.html#17170">[ thread ]</a>
              <a href="subject.html#17170">[ subject ]</a>
              <a href="author.html#17170">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Jonathan wrote on Tuesday, January 03, 2006 2:18 PM:
&gt;<i> Following up... the shared object now loads and works properly!
</I>&gt;<i> 
</I>&gt;<i> Hans, thanks for the tip - it proved to be correct.
</I>&gt;<i> In php4 the only error on loading the extension was that it wasn't a
</I>&gt;<i> valid PHP extension. 
</I>&gt;<i> Under php 5 a better error appears warning precisely :
</I>&gt;<i> 
</I>&gt;<i> &quot;PHP Warning:  PHP Startup: (null): Unable to initialize module
</I>&gt;<i> Module compiled with module API=20050922, debug=1, thread-safety=0
</I>&gt;<i> PHP    compiled with module API=20041030, debug=0, thread-safety=0
</I>&gt;<i> These options need to match.&quot;
</I>
Great - good to hear it worked...

&gt;<i> In running the function in a loop it is 3x faster than php functionality
</I>&gt;<i> I am replacing.
</I>
Interesting - figured it'd be faster, but then again, depending on what it's
doing and the rest of the application, I could understand these findings.
 
&gt;<i> However, when testing with apache ab to more accurately simulate real
</I>&gt;<i> world conditions it is the same speed as the php functionality I am
</I>&gt;<i> replacing. I load the extension in the php.ini file which is about twice
</I>&gt;<i> as fast as using dl() to load the extension.
</I>
Heh - don't let certain people hear that :)

&gt;<i> I've learned from this exercise that PHP is written to be fast.
</I>&gt;<i> Any obvious reason that an extension function run a loop is faster than
</I>&gt;<i> an extension which is loaded through the INI?
</I>
You mean why the .ini loaded extension is faster than dl() loaded?

It's hard to say actualy.  AFAIK, while the dl() might take a little longer,
once it's loaded, it should run the same.  Now there is the age old debate
about the consequence of shared code, PIC, dynamically loaded .so and all
that good voodoo, but at the end of the day, I think the computer is the
only one who really knows.

That said, I try to &quot;hardwire&quot; things where possible, rather than loading on
the fly (extensions, userland PHP, etc) as I've generally found more
reliable behavior, let alone performance.

---
Hans Zaunere / President / New York PHP
   www.nyphp.org  /  www.nyphp.com




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017159.html">[nycphp-talk] C++,C#,Java, Python, Ruby, and finally .. PHP5
</A></li>
	<LI>Next message: <A HREF="017223.html">[nycphp-talk] problems loading a custom, shared extension
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17170">[ date ]</a>
              <a href="thread.html#17170">[ thread ]</a>
              <a href="subject.html#17170">[ subject ]</a>
              <a href="author.html#17170">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

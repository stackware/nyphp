<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] MySQL Query Help
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2006-January/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20MySQL%20Query%20Help&In-Reply-To=%3C8d9a42800601061351m663179dcl896c7725e2272a83%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017187.html">
   <LINK REL="Next"  HREF="017167.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] MySQL Query Help</H1>
    <B>Joseph Crawford</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20MySQL%20Query%20Help&In-Reply-To=%3C8d9a42800601061351m663179dcl896c7725e2272a83%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] MySQL Query Help">codebowl at gmail.com
       </A><BR>
    <I>Fri Jan  6 16:51:57 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017187.html">[nycphp-talk] Static Methods Usage
</A></li>
        <LI>Next message: <A HREF="017167.html">[nycphp-talk] MySQL Query Help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17165">[ date ]</a>
              <a href="thread.html#17165">[ thread ]</a>
              <a href="subject.html#17165">[ subject ]</a>
              <a href="author.html#17165">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello guys,

I have a sql query that basically copies data from one table to another,
here is the query

use mydb;
update Vtems left join  feed on Vtems.MCN=feed.mcn
set VItems.Inventory= case (VItems.V_ID)
when 'CN3' then feed.cn3quan
when 'CN4' then feed.cn4quan
when 'CN5' then feed.cn5quan
when 'CN6' then feed.cn6quan
when 'CN7' then feed.cn7quan
when 'CN8' then feed.cn8quan
when 'CN9' then feed.cn9quan
when 'CN10' then feed.cn10quan
when 'CN11' then feed.cn11quan
when 'CN16' then feed.cn16quan
else '' end
,VItems.ItemCst = feed.unitcost,
VItems.ItemPrce = feed.unitcost
commit;


We have a php cron job which executes and runs this query, however it takes
anywhere between 4-8 hours for this to run on 50,000 records, now this
number will also grow and we have determined that the left join is what is
slowing it down.  What i need to know is do you have any suggestions on a
better method for doing this that would speed it up considerably.

I know we could run this on the mysql command line and we have tried.  It
seems to take just as long on the command line as the php cron, however we
are also wishing to implement emails when there are errors etc..  The avg
time is 6 hours on the production server to complete the import.

Thanks,
--
Joseph Crawford Jr.
Zend Certified Engineer
Codebowl Solutions, Inc.
1-802-671-2021
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">codebowl at gmail.com</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20060106/d7e9f23e/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20060106/d7e9f23e/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017187.html">[nycphp-talk] Static Methods Usage
</A></li>
	<LI>Next message: <A HREF="017167.html">[nycphp-talk] MySQL Query Help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17165">[ date ]</a>
              <a href="thread.html#17165">[ thread ]</a>
              <a href="subject.html#17165">[ subject ]</a>
              <a href="author.html#17165">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

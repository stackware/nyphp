<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] MySQL, MyISAM tables,	&lt;trigger&gt; | &lt;on delete cascade&gt; - Help
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2004-February/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20MySQL%2C%20MyISAM%20tables%2C%0A%09%3Ctrigger%3E%20%7C%20%3Con%20delete%20cascade%3E%20-%20Help&In-Reply-To=%3C40362352.5090207%40adnet-sys.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007980.html">
   <LINK REL="Next"  HREF="007985.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] MySQL, MyISAM tables,	&lt;trigger&gt; | &lt;on delete cascade&gt; - Help</H1>
    <B>Phil Powell</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20MySQL%2C%20MyISAM%20tables%2C%0A%09%3Ctrigger%3E%20%7C%20%3Con%20delete%20cascade%3E%20-%20Help&In-Reply-To=%3C40362352.5090207%40adnet-sys.com%3E"
       TITLE="[nycphp-talk] MySQL, MyISAM tables,	&lt;trigger&gt; | &lt;on delete cascade&gt; - Help">phillip.powell at adnet-sys.com
       </A><BR>
    <I>Fri Feb 20 10:10:10 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007980.html">[nycphp-talk] interesting AMP tidbit on Groklaw
</A></li>
        <LI>Next message: <A HREF="007985.html">[nycphp-talk] MySQL, MyISAM tables, &lt;trigger&gt; | &lt;on delete cascade&gt;	- Help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7983">[ date ]</a>
              <a href="thread.html#7983">[ thread ]</a>
              <a href="subject.html#7983">[ subject ]</a>
              <a href="author.html#7983">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Taken from  
<A HREF="http://www-css.fnal.gov/dsg/external/freeware/mysql-vs-pgsql.html">http://www-css.fnal.gov/dsg/external/freeware/mysql-vs-pgsql.html</A>

Triggers:

 MySQL:  No triggers supported now and won't be added in the future.
 Oracle8:In PL/SQL. Possibility of writing triggers reacting on the events:
         BEFORE/AFTER DELETE/UPDATE/INSERT. INSTEAD OF triggers can be 
used for updating data through views.
 PostgreSQL: Declarative rules - extension to SQL. You can specify 
SELECT, INSERT, DELETE or UPDATE
          as a rule event. INSTEAD OF rules can be used for updating 
data through views.
          Procedural triggers in PL/PGSQL, PL/TCL, PL/Perl, C. CREATE 
CONSTRAINT TRIGGER creates
          a trigger to support a constraint.
          You can specify BEFORE or AFTER on INSERT, DELETE or UPDATE as 
a trigger event.

I am having to create a cascade delete effect on table &quot;department&quot; that 
is configured in the following fashion:

-- TABLE CONTAINING DEPARTMENTS FOR PERSONS
create table if not exists department (
 id int not null auto_increment,
 primary key (id),
 department_name varchar(50) not null,
 department_parent_id int,
 unique_key varchar(20) not null,
 record_entered datetime
);

department_parent_id is a &quot;foreign key constraint&quot; (table is MyISAM thus 
no actual foreign key) set up to be recursively
referring to another record (if not null) in the table.

I am having to delete a department; if I do so, I would naturally have 
to delete all child records associated with the department.
Best approach would be to do a &quot;cascade delete&quot; variation (deleting all 
child records first and then parent row), however, only
MaxDB seems to support that (see 
<A HREF="http://www.mysql.com/documentation/maxdb/94/c38409c20611d5993d00508b6b8b11/content.htm">http://www.mysql.com/documentation/maxdb/94/c38409c20611d5993d00508b6b8b11/content.htm</A> 
and
<A HREF="http://www.mysql.com/doc/en/InnoDB_foreign_key_constraints.html">http://www.mysql.com/doc/en/InnoDB_foreign_key_constraints.html</A> ), 
however, that seems to be not possible since my tables are MyISAM
by default.  Therefore, I am offered the possibility of a trigger.  
However, the beforementioned article indicates triggers
aren't supported in MySQL. 

What would then be your best recommendation, based upon the need and the 
schema, for me to ensure that all related records are
deleted?  I would prefer not to have to write a PHP script to have to do 
so, but is that all I'm stuck with?

Thanx
Phil

-- 
Phil Powell
Web Developer
  ADNET Systems, Inc.
  11260 Roger Bacon Drive, Suite 403
  Reston, VA  20190-5203
Phone: (703) 709-7218 x107   Cell: (571) 437-4430   FAX: (703) 709-7219
EMail:  <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">Phillip.Powell at adnet-sys.com</A>      AOL IM: SOA Dude





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007980.html">[nycphp-talk] interesting AMP tidbit on Groklaw
</A></li>
	<LI>Next message: <A HREF="007985.html">[nycphp-talk] MySQL, MyISAM tables, &lt;trigger&gt; | &lt;on delete cascade&gt;	- Help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7983">[ date ]</a>
              <a href="thread.html#7983">[ thread ]</a>
              <a href="subject.html#7983">[ subject ]</a>
              <a href="author.html#7983">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

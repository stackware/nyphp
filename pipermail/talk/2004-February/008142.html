<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] CSV Regex
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2004-February/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20CSV%20Regex&In-Reply-To=%3C403FC216.4010902%40digitalpulp.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008145.html">
   <LINK REL="Next"  HREF="008143.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] CSV Regex</H1>
    <B>Adam Fields</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20CSV%20Regex&In-Reply-To=%3C403FC216.4010902%40digitalpulp.com%3E"
       TITLE="[nycphp-talk] CSV Regex">adam at digitalpulp.com
       </A><BR>
    <I>Fri Feb 27 17:17:58 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008145.html">[nycphp-talk] CSV Regex
</A></li>
        <LI>Next message: <A HREF="008143.html">[nycphp-talk] test
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8142">[ date ]</a>
              <a href="thread.html#8142">[ thread ]</a>
              <a href="subject.html#8142">[ subject ]</a>
              <a href="author.html#8142">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hans Zaunere wrote:

&gt;<i> Hi all,
</I>&gt;<i> 
</I>&gt;<i> I'm looking to parse a CSV file and figured there must be a smooth regex
</I>&gt;<i> for the job.  I'm of course getting the data line by line.  Google seems
</I>&gt;<i> to think this is everyone's favorite regex for the job:
</I>&gt;<i> 
</I>&gt;<i> ,(?=([^&quot;]*&quot;[^&quot;]*&quot;)*(?![^&quot;]*&quot;))
</I>&gt;<i> 
</I>&gt;<i> And, I must say, it works pretty good, using, for instance, the
</I>&gt;<i> following command:
</I>&gt;<i> 
</I>&gt;<i>       $columns =
</I>&gt;<i> preg_split('/,(?=([^&quot;]*&quot;[^&quot;]*&quot;)*(?![^&quot;]*&quot;))/',fgets($fp));
</I>&gt;<i> 
</I>&gt;<i> The only issue is it returns the double quotes with each column.  So, if
</I>&gt;<i> a column contains:
</I>&gt;<i> 
</I>&gt;<i> &quot;D&quot;
</I>&gt;<i> 
</I>&gt;<i> I get &quot;D&quot; back.  I'd prefer just D
</I>&gt;<i> 
</I>&gt;<i> Any tips?  Thanks,
</I>
You could just strip off the quotes afterwards, of course, but that's 
maybe not what you were looking for.

Dealing with quotes in CSV is sort of a disaster waiting to happen. 
Remember that there may be quotes embedded inside fields, which are 
themselves quoted, and newlines inside fields may or may not be supported.

There's discussion of this in The Art of Unix Programming:

<A HREF="http://www.faqs.org/docs/artu/ch05s02.html#id2901882">http://www.faqs.org/docs/artu/ch05s02.html#id2901882</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008145.html">[nycphp-talk] CSV Regex
</A></li>
	<LI>Next message: <A HREF="008143.html">[nycphp-talk] test
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8142">[ date ]</a>
              <a href="thread.html#8142">[ thread ]</a>
              <a href="subject.html#8142">[ subject ]</a>
              <a href="author.html#8142">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

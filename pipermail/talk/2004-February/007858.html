<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] SQL COUNT() Question
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2004-February/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20SQL%20COUNT%28%29%20Question&In-Reply-To=%3CPine.LNX.4.58.0402131759030.31190%40miranda.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007860.html">
   <LINK REL="Next"  HREF="007861.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] SQL COUNT() Question</H1>
    <B>Adam Maccabee Trachtenberg</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20SQL%20COUNT%28%29%20Question&In-Reply-To=%3CPine.LNX.4.58.0402131759030.31190%40miranda.org%3E"
       TITLE="[nycphp-talk] SQL COUNT() Question">adam at trachtenberg.com
       </A><BR>
    <I>Fri Feb 13 18:08:18 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007860.html">[nycphp-talk] follow-on variable variables question
</A></li>
        <LI>Next message: <A HREF="007861.html">[nycphp-talk] SQL COUNT() Question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7858">[ date ]</a>
              <a href="thread.html#7858">[ thread ]</a>
              <a href="subject.html#7858">[ subject ]</a>
              <a href="author.html#7858">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am trying to generate some statistics based on basketball results. I
have a table that stores the id of the winning team and the losing
team, like so:

--------------
|<i> win | loss |
</I>--------------
|<i>   1 |    2 |
</I>|<i>   1 |    3 |
</I>|<i>   2 |    3 |
</I>--------------

I want to find the total number of wins and loses for a given team. I
can do this with two queries, like so:

SELECT COUNT(*) AS w FROM games WHERE win = $team;
SELECT COUNT(*) AS l FROM games WHERE loss = $team;

Is there anyway I can do this in a single query? I'm actually less
interested in the win and loss totals than a winning percentage, so
I'd really prefer to just make the database return that number to me
instead of requiring me to calculate this in PHP.

Right now, I'm using SQLite, but I'd switch to MySQL if some
MySQL-specific function (like IF()?) could help me out and there's no
way to do this in standard SQL92.

I feel that maybe I need to use a self JOIN, but I can't get that to
pan out.

-adam

-- 
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">adam at trachtenberg.com</A>
author of o'reilly's php cookbook
avoid the holiday rush, buy your copy today!

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007860.html">[nycphp-talk] follow-on variable variables question
</A></li>
	<LI>Next message: <A HREF="007861.html">[nycphp-talk] SQL COUNT() Question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7858">[ date ]</a>
              <a href="thread.html#7858">[ thread ]</a>
              <a href="subject.html#7858">[ subject ]</a>
              <a href="author.html#7858">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

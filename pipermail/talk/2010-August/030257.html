<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] design question: user self-registration
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2010-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20design%20question%3A%20user%20self-registration&In-Reply-To=%3CAANLkTik%2B85WRZ_mG2n9sDXegzDV8-X8wDJoF5cOpM2nL%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030256.html">
   <LINK REL="Next"  HREF="030259.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] design question: user self-registration</H1>
    <B>David Mintz</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20design%20question%3A%20user%20self-registration&In-Reply-To=%3CAANLkTik%2B85WRZ_mG2n9sDXegzDV8-X8wDJoF5cOpM2nL%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] design question: user self-registration">david at davidmintz.org
       </A><BR>
    <I>Tue Aug 31 16:03:02 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="030256.html">[nycphp-talk] design question: user self-registration
</A></li>
        <LI>Next message: <A HREF="030259.html">[nycphp-talk] design question: user self-registration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30257">[ date ]</a>
              <a href="thread.html#30257">[ thread ]</a>
              <a href="subject.html#30257">[ subject ]</a>
              <a href="author.html#30257">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Aug 31, 2010 at 3:13 PM, Chris Snyder &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">chsnyder at gmail.com</A>&gt; wrote:

&gt;<i> On Tue, Aug 31, 2010 at 12:43 PM, David Mintz &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">david at davidmintz.org</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; What would you do?
</I>&gt;<i> &gt; Gratefully yours....
</I>&gt;<i>  &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>&gt;
</I>&gt;<i>
</I>

All interesting, thank you. I think I still might not be explaining the
situation clearly enough. Or I am dense and not getting it.

The form I am gonna display is bound -- so to speak -- to two tables.
Actually I'm using Zend Framework and MySQL and Zend_Form_SubForm. I don't
know until I see their email whether this is someone whose information has
already been put in the people table. Usually it will not be, they will be
entirely new to the application.

In the typical case, filter and validate and attempt insert, marking the
records 'inactive' until we confirm the email by sending them a link with a
token as URL parameter, they click it, bla bla, all good.

If however I catch a duplicate email exception when I attempt the insert
into 'people,' then I know this is most likely a person we've dealt with but
who has never created an actual user account -- a row in users as opposed to
people. IOW there is a record in 'people' that has this email address, but
there is no corresponding row in users. Now, I might go ahead and run an
update of the old row -- indeed MySQL provides ON DUPLICATE KEY UPDATE
syntax for just this situation. But I don't want to do that until I have
confirmed their email. So... I think I just need to hold onto their input
pending email verification.

Thanks again.


-- 
Support real health care reform:
<A HREF="http://phimg.org/">http://phimg.org/</A>

--
David Mintz
<A HREF="http://davidmintz.org/">http://davidmintz.org/</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20100831/4fa272f5/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20100831/4fa272f5/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030256.html">[nycphp-talk] design question: user self-registration
</A></li>
	<LI>Next message: <A HREF="030259.html">[nycphp-talk] design question: user self-registration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30257">[ date ]</a>
              <a href="thread.html#30257">[ thread ]</a>
              <a href="subject.html#30257">[ subject ]</a>
              <a href="author.html#30257">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

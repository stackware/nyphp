<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Search of directories and files on my web server
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Search%20of%20directories%20and%20files%20on%20my%20web%20server&In-Reply-To=%3C390893E4-4A25-4C25-9902-DD7ECB3FC0BA%40email.smith.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022884.html">
   <LINK REL="Next"  HREF="022904.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Search of directories and files on my web server</H1>
    <B>Aaron Fischer</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Search%20of%20directories%20and%20files%20on%20my%20web%20server&In-Reply-To=%3C390893E4-4A25-4C25-9902-DD7ECB3FC0BA%40email.smith.edu%3E"
       TITLE="[nycphp-talk] Search of directories and files on my web server">agfische at email.smith.edu
       </A><BR>
    <I>Thu Aug 16 13:36:03 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022884.html">[nycphp-talk] Search of directories and files on my web server
</A></li>
        <LI>Next message: <A HREF="022904.html">[nycphp-talk] Search of directories and files on my web server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22891">[ date ]</a>
              <a href="thread.html#22891">[ thread ]</a>
              <a href="subject.html#22891">[ subject ]</a>
              <a href="author.html#22891">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dan, thanks that did the trick.  I had various echo statements in my  
original script but took them out for purposes of posting succinct  
code to the list.

I didn't use grep because I don't have any exposure or experience  
with it.  It was mentioned as an option during my original post but I  
was hesitant to try the unknown path given the duress I was under  
from time constraints.

Any suggestions for a good grep tutorial/resource on the web?  I'm  
interested in adding it to my tool belt for future use.

In going back and looking at the one or two grep examples, it seems  
that it might be a much simpler and more efficient way of solving  
this problem.

Cheers,

-Aaron


&gt;<i>
</I>&gt;<i> Aaron,
</I>&gt;<i>
</I>&gt;<i> First up, why not just use grep?
</I>&gt;<i>
</I>&gt;<i> Anyway, your problem is that you are not addressing the items by the
</I>&gt;<i> full path, so the script can't find them.
</I>&gt;<i>
</I>&gt;<i> Here is a modified example which may help, and includes some output so
</I>&gt;<i> you can see what is haoppening.
</I>&gt;<i>
</I>&gt;<i> Dan
</I>&gt;<i>
</I>&gt;<i> &lt;?php
</I>&gt;<i>
</I>&gt;<i> $path='.';
</I>&gt;<i> search($path);
</I>&gt;<i>
</I>&gt;<i> function search($path)
</I>&gt;<i> {
</I>&gt;<i>     echo 'Searching '. $path .&quot;\n&quot;;
</I>&gt;<i>     $dir=opendir($path);
</I>&gt;<i>     // browse all files and folders in the current directory
</I>&gt;<i>     while (false !== ($item=readdir($dir))) {
</I>&gt;<i>         if ($item == '.' | $item == '..') {
</I>&gt;<i>                 continue;
</I>&gt;<i>         }
</I>&gt;<i>
</I>&gt;<i>         $item = $path .'/'. $item;
</I>&gt;<i>
</I>&gt;<i>         echo $item.&quot;\n&quot;;
</I>&gt;<i>         // if the item is a directory, drill down using a
</I>&gt;<i>         // recursive call to the search function
</I>&gt;<i>         if (is_dir($item) &amp;&amp; $item !='.' &amp;&amp; $item!='..') {
</I>&gt;<i>             search($item);
</I>&gt;<i>         }
</I>&gt;<i>         if (is_file($item)) {
</I>&gt;<i>             $file=file($item);
</I>&gt;<i>             $lines=count($file);
</I>&gt;<i>             for ($i=0; $i&lt;$lines; $i++) {
</I>&gt;<i>                 if (strstr(($file[$i]), 'text to search for')) {
</I>&gt;<i>                     echo 'Search string found on line ' . $i
</I>&gt;<i>                         . ' in file ' . $item . '&lt;br /&gt;';
</I>&gt;<i>                 }
</I>&gt;<i>             }
</I>&gt;<i>         }
</I>&gt;<i>     }
</I>&gt;<i>     closedir($dir);
</I>&gt;<i>     echo 'Done searching '. $path .&quot;\n&quot;;
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> // end of script
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022884.html">[nycphp-talk] Search of directories and files on my web server
</A></li>
	<LI>Next message: <A HREF="022904.html">[nycphp-talk] Search of directories and files on my web server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22891">[ date ]</a>
              <a href="thread.html#22891">[ thread ]</a>
              <a href="subject.html#22891">[ subject ]</a>
              <a href="author.html#22891">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

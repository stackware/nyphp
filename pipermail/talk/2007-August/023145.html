<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Why can't I create a second directory?
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Why%20can%27t%20I%20create%20a%20second%20directory%3F&In-Reply-To=%3C46D6E34B.7000308%40beezifies.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023144.html">
   <LINK REL="Next"  HREF="023151.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Why can't I create a second directory?</H1>
    <B>bz-gmort at beezifies.com</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Why%20can%27t%20I%20create%20a%20second%20directory%3F&In-Reply-To=%3C46D6E34B.7000308%40beezifies.com%3E"
       TITLE="[nycphp-talk] Why can't I create a second directory?">bz-gmort at beezifies.com
       </A><BR>
    <I>Thu Aug 30 11:33:31 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023144.html">[nycphp-talk] Why can't I create a second directory?
</A></li>
        <LI>Next message: <A HREF="023151.html">[nycphp-talk] Why can't I create a second directory?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23145">[ date ]</a>
              <a href="thread.html#23145">[ thread ]</a>
              <a href="subject.html#23145">[ subject ]</a>
              <a href="author.html#23145">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Kenneth Dombrowski wrote:
&gt;<i> Hi Gary, 
</I>&gt;<i>
</I>&gt;<i> what does it complain about when you remove the error supression @s ? 
</I>&gt;<i>   
</I>
It doesn't.  I am finding more and more web providers setup Apache to 
not give any error messages when something goes wrong.

This naturally makes it more difficult to troubleshoot the problem(and 
when they do not allow you command line access to run it manually in 
their environment...)
&gt;<i> also, i'm curious, why are the calls to substr() necessary? 
</I>&gt;<i>   
</I>
It removes the trailing slash on the directory, which for some servers 
is necessary.  Since it is done for both directories, that should not be 
the problem.

&gt;<i> does shelling out to mkdir work? 
</I>&gt;<i>
</I>&gt;<i>  `mkdir -p /var/www/vhosts/mydomain.com/httpdocs/j/components/com_test/test`
</I>&gt;<i>
</I>&gt;<i> is this a cli script, or one you trigger via apache?  what user is
</I>&gt;<i> running it &amp; what exactly are the permissions? 
</I>&gt;<i>   
</I>
It's triggered by Apache.  Actually, it's triggered by Joomla running 
under Apache to create a directory.  I simply tracked down where it was 
creating those directories and removed the extraneous bits and 
consolidated it down to the problematic function call(mkdir).



Interestingly, I expanded my script somewhat to determine:
A) The uid running the script
B) The uid which owns the first directory(they are the same, so both own 
the same directory)
C) I added an explicit call to chmod to set the first directory to 777
(this BTW is frustrating me to no end.  I can't count the number of 
providers who do not place the  web server in the same group as the user 
invoked for PHP scripts.   Mind you, I'm not asking that the PHP scripts 
be in the same group as Apache, ie access to all files apache can 
access, I want Apache to be in the group of each PHP user therefore 
giving it access to any files PHP creates) This is in the interest of 
security - and I understand the security concerns, but the result is 
people using these servers end up needing to set the security of their 
own files to 777 to get around the server problems.  Which means that 
they end up running less secure in the name of security)



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023144.html">[nycphp-talk] Why can't I create a second directory?
</A></li>
	<LI>Next message: <A HREF="023151.html">[nycphp-talk] Why can't I create a second directory?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23145">[ date ]</a>
              <a href="thread.html#23145">[ thread ]</a>
              <a href="subject.html#23145">[ subject ]</a>
              <a href="author.html#23145">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

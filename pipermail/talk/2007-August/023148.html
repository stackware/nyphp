<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] GD w/ Lots of Files
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20GD%20w/%20Lots%20of%20Files&In-Reply-To=%3C8f0676b40708300918jc5ea2a3y17acc06dcb90310b%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023147.html">
   <LINK REL="Next"  HREF="023150.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] GD w/ Lots of Files</H1>
    <B>John Campbell</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20GD%20w/%20Lots%20of%20Files&In-Reply-To=%3C8f0676b40708300918jc5ea2a3y17acc06dcb90310b%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] GD w/ Lots of Files">jcampbell1 at gmail.com
       </A><BR>
    <I>Thu Aug 30 12:18:30 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023147.html">[nycphp-talk] GD w/ Lots of Files
</A></li>
        <LI>Next message: <A HREF="023150.html">[nycphp-talk] GD w/ Lots of Files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23148">[ date ]</a>
              <a href="thread.html#23148">[ thread ]</a>
              <a href="subject.html#23148">[ subject ]</a>
              <a href="author.html#23148">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> I'm trying to process 100-150 jpgs that are 2-4 mb into smaller files.
</I>&gt;<i> What advice/best practices can you guys share in regards to memory
</I>&gt;<i> management?  I can make my job go through about 5 before it blows up,
</I>&gt;<i> and yes, i've upped the memory limit.  I need some method to clear out
</I>&gt;<i> memory after each loop iteration... Any ideas?
</I>

If you want a quick fix, just write the output file after processing
each file, and set the variable that stores the image to null.  This
should automatically happen if you reuse the same variables to store
the image.  I am curious to see how you coded this so the memory grows
with each additional image.

If it is a one time job, you should run the script from the command
line (no time limit, or memory limit).  This is not a realistic task
for a web request, if you want to implement background processing then
a scheduler/queue is the way to go.

-John Campbell

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023147.html">[nycphp-talk] GD w/ Lots of Files
</A></li>
	<LI>Next message: <A HREF="023150.html">[nycphp-talk] GD w/ Lots of Files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23148">[ date ]</a>
              <a href="thread.html#23148">[ thread ]</a>
              <a href="subject.html#23148">[ subject ]</a>
              <a href="author.html#23148">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

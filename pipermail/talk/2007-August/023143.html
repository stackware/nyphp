<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Why can't I create a second directory?
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Why%20can%27t%20I%20create%20a%20second%20directory%3F&In-Reply-To=%3C46D6B68B.8090203%40beezifies.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023162.html">
   <LINK REL="Next"  HREF="023144.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Why can't I create a second directory?</H1>
    <B>Gary Mort</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Why%20can%27t%20I%20create%20a%20second%20directory%3F&In-Reply-To=%3C46D6B68B.8090203%40beezifies.com%3E"
       TITLE="[nycphp-talk] Why can't I create a second directory?">bz-gmort at beezifies.com
       </A><BR>
    <I>Thu Aug 30 08:22:35 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023162.html">[nycphp-talk] PEAR CAPTCHA Problems
</A></li>
        <LI>Next message: <A HREF="023144.html">[nycphp-talk] Why can't I create a second directory?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23143">[ date ]</a>
              <a href="thread.html#23143">[ thread ]</a>
              <a href="subject.html#23143">[ subject ]</a>
              <a href="author.html#23143">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have a complex little install script that creates directories and 
subdirectories and copies files.

It keeps failing on one providers server.

I boiled down the install script problems to the fact that it cannot 
create a subdirectory after creating a directory.

I made a simple test script, all it does is create one subdirectory, 
than create another inside the first.
I set the mode to 777 just to make sure the directory would be created 
completely unsecured(I will also note that does not happen, instead the 
directory is created as 755 which should STILL be acceptable since the 
script itself is the one creating both directories and thus should be 
the owner).

Any ideas on why the first case works and the second case does not?


$path = &quot;/var/www/vhosts/mydomain.com/httpdocs/j/components/com_test/&quot;;
$mode = 0777;
                if (!@mkdir(substr($path,0,-1),$mode)) {
                    die (&quot;Cannot create &quot;.substr($path,0,-1));
                }
                
$path = &quot;/var/www/vhosts/mydomain.com/httpdocs/j/components/com_test/test/&quot;;
$mode = 0777;
                if (!@mkdir(substr($path,0,-1),$mode)) {
                    die (&quot;Cannot create &quot;.substr($path,0,-1));
                }
                


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023162.html">[nycphp-talk] PEAR CAPTCHA Problems
</A></li>
	<LI>Next message: <A HREF="023144.html">[nycphp-talk] Why can't I create a second directory?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23143">[ date ]</a>
              <a href="thread.html#23143">[ thread ]</a>
              <a href="subject.html#23143">[ subject ]</a>
              <a href="author.html#23143">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

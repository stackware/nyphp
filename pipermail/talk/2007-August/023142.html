<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] PEAR CAPTCHA Problems
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PEAR%20CAPTCHA%20Problems&In-Reply-To=%3C005e01c7eab2%24e864b1e0%246401a8c0%40gamebox%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023141.html">
   <LINK REL="Next"  HREF="023162.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] PEAR CAPTCHA Problems</H1>
    <B>Ben Sgro (ProjectSkyLine)</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PEAR%20CAPTCHA%20Problems&In-Reply-To=%3C005e01c7eab2%24e864b1e0%246401a8c0%40gamebox%3E"
       TITLE="[nycphp-talk] PEAR CAPTCHA Problems">ben at projectskyline.com
       </A><BR>
    <I>Wed Aug 29 23:07:31 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023141.html">[nycphp-talk] PEAR CAPTCHA Problems
</A></li>
        <LI>Next message: <A HREF="023162.html">[nycphp-talk] PEAR CAPTCHA Problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23142">[ date ]</a>
              <a href="thread.html#23142">[ thread ]</a>
              <a href="subject.html#23142">[ subject ]</a>
              <a href="author.html#23142">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Mike,

I did a print_r() on the object to see, and the path is correct.
I also did a chmod 777 on the arial.ttf file, plus tried to chown it as well
to apache. Nothing seems to work.

Here is the PEAR code where its failing:

      $this-&gt;_imt = new Image_Text(
            $this-&gt;_phrase,
            $options
        );

 if (PEAR::isError($this-&gt;_imt-&gt;init())) {
            $this-&gt;_error = PEAR::raiseError('Error initializing Image_Text 
(fo\
nt missing?!)');
            return $this-&gt;_error;

So, I hacked up the PEAR code to
 if (!PEAR::isError($this-&gt;_imt-&gt;init())) {

continue in case of an error, and it is generating the colored textbox image 
w/lines and circles
drawn on it, just no text.

Hmmm...

- Ben

Hello Ben,

All the captcha scripts that I have worked with either use an explicit
path to the specific font or the font has been in the same folder as
the script that calls it. In your example, the font would need to be
in the same folder as the script that sets up the options array, I
think.

HTH,


Ben Sgro, President
ProjectSkyLine - Defining New Horizons
+1 718.487.9368 (N.Y. Office)

Our company: www.projectskyline.com
Our products: www.project-contact.com

This e-mail is confidential information intended only for the use of the 
individual to whom it is addressed.
----- Original Message ----- 
From: &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mikesz at qualityadvantages.com</A>&gt;
To: &quot;NYPHP Talk&quot; &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>&gt;
Sent: Wednesday, August 29, 2007 10:13 PM
Subject: Re[2]: [nycphp-talk] PEAR CAPTCHA Problems


&gt;<i> Hello Ben,
</I>&gt;<i>
</I>&gt;<i> Thursday, August 30, 2007, 9:39:20 AM, you wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;&gt;<i> I did just as you stated. No luck.
</I>&gt;<i>
</I>&gt;&gt;<i> I grabbed the file from windows and mac (.ttf) checked the path, tried a 
</I>&gt;&gt;<i> few
</I>&gt;&gt;<i> variations, and made sure the $options array had the values set before
</I>&gt;&gt;<i> passing to the function.
</I>&gt;<i>
</I>&gt;&gt;<i> I want to say its a path issue, but I've tried both relative and absolute
</I>&gt;&gt;<i> paths.
</I>&gt;<i>
</I>&gt;&gt;<i> Any ideas?
</I>&gt;<i>
</I>&gt;&gt;<i> - Ben
</I>&gt;<i>
</I>&gt;&gt;<i> Ben Sgro, President
</I>&gt;&gt;<i> ProjectSkyLine - Defining New Horizons
</I>&gt;&gt;<i> +1 718.487.9368 (N.Y. Office)
</I>&gt;<i>
</I>&gt;&gt;<i> Our company: www.projectskyline.com
</I>&gt;&gt;<i> Our products: www.project-contact.com
</I>&gt;<i>
</I>&gt;&gt;<i> This e-mail is confidential information intended only for the use of the
</I>&gt;&gt;<i> individual to whom it is addressed.
</I>&gt;&gt;<i> ----- Original Message ----- 
</I>&gt;&gt;<i> From: &quot;Gary Mort&quot; &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">bz-gmort at beezifies.com</A>&gt;
</I>&gt;&gt;<i> To: &quot;NYPHP Talk&quot; &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>&gt;
</I>&gt;&gt;<i> Sent: Wednesday, August 29, 2007 7:43 PM
</I>&gt;&gt;<i> Subject: Re: [nycphp-talk] PEAR CAPTCHA Problems
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;&gt;<i> Find a ttf file, any ttf file(if your using windows, take a look in your
</I>&gt;&gt;&gt;<i> control panel-&gt;fonts folder
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Upload it to the server and put it somewhere readable by your web 
</I>&gt;&gt;&gt;<i> program.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Set the options appropriately, ie:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> |// Set CAPTCHA options (font must exist!)
</I>&gt;&gt;&gt;<i> $options = array(
</I>&gt;&gt;&gt;<i>    'font_size' =&gt; 24,
</I>&gt;&gt;&gt;<i>    'font_path' =&gt; './',
</I>&gt;&gt;&gt;<i>    'font_file' =&gt; 'COUR.TTF'
</I>&gt;&gt;&gt;<i> );
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Where font_path is the full path to your font file
</I>&gt;&gt;&gt;<i> and font_file is your font file(make sure case matches!)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Make sure to pass your options to the functions that require them.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> A little prayer couldn't hurt. :-)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> (Captcha images are a royal PITA due to the font issues, ability to 
</I>&gt;&gt;&gt;<i> write
</I>&gt;&gt;&gt;<i> to the correct directory, and whether or not you have GD or freetype or
</I>&gt;&gt;&gt;<i> ImageMagick or whatever they want installed)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> |
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;&gt;&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;&gt;&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Show Your Participation in New York PHP
</I>&gt;&gt;&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>&gt;&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i>
</I>&gt;&gt;<i> Show Your Participation in New York PHP
</I>&gt;&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>&gt;<i>
</I>&gt;&gt;<i> __________ NOD32 2491 (20070830) Information __________
</I>&gt;<i>
</I>&gt;&gt;<i> This message was checked by NOD32 antivirus system.
</I>&gt;&gt;<i> <A HREF="http://www.eset.com">http://www.eset.com</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hello Ben,
</I>&gt;<i>
</I>&gt;<i> All the captcha scripts that I have worked with either use an explicit
</I>&gt;<i> path to the specific font or the font has been in the same folder as
</I>&gt;<i> the script that calls it. In your example, the font would need to be
</I>&gt;<i> in the same folder as the script that sets up the options array, I
</I>&gt;<i> think.
</I>&gt;<i>
</I>&gt;<i> HTH,
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> Best regards,
</I>&gt;<i> mikesz                            mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mikesz at qualityadvantages.com</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i>
</I>&gt;<i> Show Your Participation in New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023141.html">[nycphp-talk] PEAR CAPTCHA Problems
</A></li>
	<LI>Next message: <A HREF="023162.html">[nycphp-talk] PEAR CAPTCHA Problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23142">[ date ]</a>
              <a href="thread.html#23142">[ thread ]</a>
              <a href="subject.html#23142">[ subject ]</a>
              <a href="author.html#23142">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

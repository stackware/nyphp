<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] XML Manipulation
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20XML%20Manipulation&In-Reply-To=%3C46C464EB.6060704%40phpwerx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022881.html">
   <LINK REL="Next"  HREF="022887.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] XML Manipulation</H1>
    <B>Dan Cech</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20XML%20Manipulation&In-Reply-To=%3C46C464EB.6060704%40phpwerx.net%3E"
       TITLE="[nycphp-talk] XML Manipulation">dcech at phpwerx.net
       </A><BR>
    <I>Thu Aug 16 10:53:31 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022881.html">[nycphp-talk] XML Manipulation
</A></li>
        <LI>Next message: <A HREF="022887.html">[nycphp-talk] XML Manipulation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22885">[ date ]</a>
              <a href="thread.html#22885">[ thread ]</a>
              <a href="subject.html#22885">[ subject ]</a>
              <a href="author.html#22885">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ben Sgro (ProjectSkyLine) wrote:
&gt;<i> Hello all, 
</I>&gt;<i> 
</I>&gt;<i> After the XML vs SQL conversation, I started to rethink a product I'm working on.
</I>&gt;<i> I had been having a lot of trouble modeling the data into SQL. It was starting to 
</I>&gt;<i> look very complicated.
</I>&gt;<i> 
</I>&gt;<i> So, I decided I would try to store it in XML. The data I am storing is messages w/in a thread,
</I>&gt;<i> timestamp, body and subject. On the SQL side, we create a table that has the user id, 
</I>&gt;<i> and a row per message/thread which contains a path to the xml file.
</I>&gt;<i> 
</I>&gt;<i> The reason XML seemed better is that I store the data top down and that is the true
</I>&gt;<i> order of the thread. Messages within the thread can come from email or html page response,
</I>&gt;<i> so its important to insert items into the thread via the timestamp. Using XML just made it 
</I>&gt;<i> simpler for me to wrap my head around, than trying to model it in SQL.
</I>
This sounds awfully messy to me, and will most likely be very slow.

I'm all for XML, but this kind of thing is what databases are meant for.

All you need are 2 tables, one for each thread and one for messages.

threads:

thread_id,subject,ts,activity

messages:

msg_id,thread_id,user_id,ts,subject,body

SQL:

SELECT * FROM threads ORDER BY activity DESC

SELECT * FROM messages WHERE thread_id=? ORDER BY ts ASC

Couldn't be easier, if you want to store extra data about each thread or
message just add fields to the relevant table.

I just wrapped up a complete rewrite of a system that used one table for
threads and messages, and I would strongly suggest advise against it.

If you're looking for ideas, here is a proof-of-concept I put together
back in 2004 for a system using a modified preorder traversal tree for
threaded messages.

<A HREF="http://clew.phpwerx.net/">http://clew.phpwerx.net/</A>

Dan


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022881.html">[nycphp-talk] XML Manipulation
</A></li>
	<LI>Next message: <A HREF="022887.html">[nycphp-talk] XML Manipulation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22885">[ date ]</a>
              <a href="thread.html#22885">[ thread ]</a>
              <a href="subject.html#22885">[ subject ]</a>
              <a href="author.html#22885">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

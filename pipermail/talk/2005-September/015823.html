<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] PHP Form Validation
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-September/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20Form%20Validation&In-Reply-To=%3C200509011331.31227.jellicle%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015822.html">
   <LINK REL="Next"  HREF="015827.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] PHP Form Validation</H1>
    <B>Michael Sims</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20Form%20Validation&In-Reply-To=%3C200509011331.31227.jellicle%40gmail.com%3E"
       TITLE="[nycphp-talk] PHP Form Validation">jellicle at gmail.com
       </A><BR>
    <I>Thu Sep  1 13:31:31 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="015822.html">[nycphp-talk] PHP Form Validation
</A></li>
        <LI>Next message: <A HREF="015827.html">[nycphp-talk] PHP Form Validation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15823">[ date ]</a>
              <a href="thread.html#15823">[ thread ]</a>
              <a href="subject.html#15823">[ subject ]</a>
              <a href="author.html#15823">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thursday 01 September 2005 12:44, Cliff Hirsch wrote:

&gt;<i> Beside the primary validation content, the article uses the following
</I>&gt;<i> example, which I often see:
</I>&gt;<i> &lt;input type=&quot;text&quot; name=&quot;email&quot; value=&quot;&lt;?=$_POST['email']?&gt;&quot; /&gt;
</I>
This is a cross-site scripting hole.

&gt;<i> Third, if you do want to &quot;scrub&quot; the input, that implies modifying
</I>&gt;<i> $_POST['something'], which is in direct conflict with Chris Shiftlett's
</I>&gt;<i> $clean_array approach. Ok, so what's the harm in letting a user send
</I>&gt;<i> him/herself a potential &lt;nastystuff&gt; script -- still seems wrong to me.
</I>
Ah, but suppose the user didn't do it to himself.

Suppose I make a javascript function on my site.  The javascript on my site 
tells the web browser visiting my site to submit a form to YOUR site, with 
some POST variables.  Maybe the &quot;email&quot; variable in the POST request is set 
to, say:

&quot;&gt;&lt;script&gt;alert('I just stole your cookies!')&lt;/script&gt;

Now when the person browsing MY site executes that Javascript on MY site, 
his browser visits your site, submits a form, and the resulting page (which 
has access to the user's cookies) looks like:

&lt;input type=&quot;text&quot; name=&quot;email&quot; value=&quot;&quot;&gt;&lt;script&gt;alert('I just stole your 
cookies!')&lt;/script&gt;&quot; /&gt;

So the generated page, rendering on the user's machine and with access to 
the user's cookies for YOUR website, can now contain and execute ANY 
Javascript that *I* want to execute, which can easily send me your user's 
cookies (which may allow me to impersonate your user).

And again, all the user has to do is visit MY website with Javascript 
enabled in order for their cookies for your website to be stolen.

It is a conceptual error that content seen only by the user can't be a 
security hole.  It can.  DO NOT echo POST, GET, or COOKIE variables back to 
the user without AT LEAST escaping things like quotes, angle brackets, and 
so on.  The htmlspecialchars() or htmlentities() functions are a good 
start.


Michael Sims

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015822.html">[nycphp-talk] PHP Form Validation
</A></li>
	<LI>Next message: <A HREF="015827.html">[nycphp-talk] PHP Form Validation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15823">[ date ]</a>
              <a href="thread.html#15823">[ thread ]</a>
              <a href="subject.html#15823">[ subject ]</a>
              <a href="author.html#15823">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

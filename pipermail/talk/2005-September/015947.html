<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Filtering input to be appended inside email
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-September/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Filtering%20input%20to%20be%20appended%20inside%20email&In-Reply-To=%3C20050915124234.GA29328%40panix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015944.html">
   <LINK REL="Next"  HREF="015950.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Filtering input to be appended inside email</H1>
    <B>Daniel Convissor</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Filtering%20input%20to%20be%20appended%20inside%20email&In-Reply-To=%3C20050915124234.GA29328%40panix.com%3E"
       TITLE="[nycphp-talk] Filtering input to be appended inside email">danielc at analysisandsolutions.com
       </A><BR>
    <I>Thu Sep 15 08:42:34 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="015944.html">[nycphp-talk] Filtering input to be appended inside email
</A></li>
        <LI>Next message: <A HREF="015950.html">[nycphp-talk] Filtering input to be appended inside email
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15947">[ date ]</a>
              <a href="thread.html#15947">[ thread ]</a>
              <a href="subject.html#15947">[ subject ]</a>
              <a href="author.html#15947">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Sep 15, 2005 at 12:04:16PM +0300, Mikko Rantalainen wrote:
&gt;<i> Daniel Convissor wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;     $value = preg_replace(&quot;/[\r\n]+/&quot;, &quot;\r\n &quot;, trim($value));
</I>&gt;<i> 
</I>&gt;<i> Yeah, that can be done in one call, but let's include the 'g' so 
</I>&gt;<i> that we are safe even if the input includes multiple lines of text. 
</I>
A few things.  

&quot;g&quot; isn't an official pattern modifier (aka &quot;Internal option letter&quot;) 
(<A HREF="http://www.php.net/manual/en/reference.pcre.pattern.syntax.php">http://www.php.net/manual/en/reference.pcre.pattern.syntax.php</A>).  
Perhaps you mean for it to be greedy, but PHP's preg is greedy by default.  
The &quot;U&quot; modifier makes things un-greedy.

The pattern I presented replaces any \r, \n or combination thereof in any 
order and of any length.  So, since those ARE the characters that define 
line breaks, there's no need for the multi-line modifier, &quot;m&quot;.


&gt;<i>    $value = preg_replace(&quot;#\r*\n#g&quot;, &quot;\r\n &quot;, trim($value));
</I>
That pattern isn't 100% effective.  For example, you won't catch a 
plain \r on it's own.  OH, I see below that's your intention...


&gt;<i> Note that this version still allows invalid input such as 
</I>&gt;<i> &quot;word1\rword2&quot;.
</I>
While that may be allowed, I wouldn't trust that _at_ _all_.  Most mail 
programs are forgiving and might consider &quot;word2&quot; a header.

--Dan

-- 
 T H E   A N A L Y S I S   A N D   S O L U T I O N S   C O M P A N Y
            data intensive web and database programming
                <A HREF="http://www.AnalysisAndSolutions.com/">http://www.AnalysisAndSolutions.com/</A>
 4015 7th Ave #4, Brooklyn NY 11232  v: 718-854-0335 f: 718-854-0409

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015944.html">[nycphp-talk] Filtering input to be appended inside email
</A></li>
	<LI>Next message: <A HREF="015950.html">[nycphp-talk] Filtering input to be appended inside email
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15947">[ date ]</a>
              <a href="thread.html#15947">[ thread ]</a>
              <a href="subject.html#15947">[ subject ]</a>
              <a href="author.html#15947">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

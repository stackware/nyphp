<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] worm/virus's hammering feedback scripts? POLISHED	VERSION
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-September/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20worm/virus%27s%20hammering%20feedback%20scripts%3F%20POLISHED%0A%09VERSION&In-Reply-To=%3Cb762526905091307434bd252cb%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015921.html">
   <LINK REL="Next"  HREF="015923.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] worm/virus's hammering feedback scripts? POLISHED	VERSION</H1>
    <B>csnyder</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20worm/virus%27s%20hammering%20feedback%20scripts%3F%20POLISHED%0A%09VERSION&In-Reply-To=%3Cb762526905091307434bd252cb%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] worm/virus's hammering feedback scripts? POLISHED	VERSION">chsnyder at gmail.com
       </A><BR>
    <I>Tue Sep 13 10:43:18 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="015921.html">[nycphp-talk] worm/virus's hammering feedback scripts? POLISHED VERSION
</A></li>
        <LI>Next message: <A HREF="015923.html">[nycphp-talk] worm/virus's hammering feedback scripts? POLISHED VERSION
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15922">[ date ]</a>
              <a href="thread.html#15922">[ thread ]</a>
              <a href="subject.html#15922">[ subject ]</a>
              <a href="author.html#15922">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 9/12/05, Ken Robinson &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">kenrbnsn at rbnsn.com</A>&gt; wrote:
&gt;<i> At 12:15 PM 9/12/2005, Michael Southwell wrote:
</I>&gt;<i> &gt;I polished this up a bit.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;IMPORTANT:  Ken's original function did not work in my testing,
</I>&gt;<i> &gt;because (1) the \ in \r and \n needed to be escaped, and (2) he had
</I>&gt;<i> &gt;the letter O instead of the numeral 0 in the hex numbers.  Somebody
</I>&gt;<i> &gt;smarter than I am, please check carefully the modified version included below.
</I>&gt;<i> 
</I>&gt;<i> I'm curious as to why you think that the \ in \r and \n need to be
</I>&gt;<i> escaped? I am really searching for and removing &quot;\n&quot; and &quot;\r&quot;
</I>&gt;<i> characters in the string. In my tests this has worked and prevented
</I>&gt;<i> the spam tests from getting out. The spambots are still hitting the
</I>&gt;<i> one site I've made the modifications on. Their not hitting any of my
</I>&gt;<i> other sites (yet) and I have been working on getting the fix into them.
</I>&gt;<i> 
</I>&gt;<i> BTW, I've noticed that they putting their malicious code in any
</I>&gt;<i> and/or all of the posted variables including &quot;submit&quot;.
</I>&gt;<i> 
</I>&gt;<i> Another attempt I've seen was where the referer was a file I don't
</I>&gt;<i> have. That one was easy to stop.
</I>&gt;<i> 
</I>

I'm curious as to why we wouldn't just bail out and refuse to send the
email at all if someone posted input with CR or LF in it?

Seems to me that if you have a form with &lt;input type=&quot;text&quot;
name=&quot;from&quot; /&gt; and you get a multiline $_POST['from'], then somebody
is trying to get away with something.

While not necessarily the case here, sometimes taking out something
bad will create a situation where you're left with something worse.
Sometimes it's better to be conservative and disallow input rather
than try to sanitize it.

-- 
Chris Snyder
<A HREF="http://chxo.com/">http://chxo.com/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015921.html">[nycphp-talk] worm/virus's hammering feedback scripts? POLISHED VERSION
</A></li>
	<LI>Next message: <A HREF="015923.html">[nycphp-talk] worm/virus's hammering feedback scripts? POLISHED VERSION
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15922">[ date ]</a>
              <a href="thread.html#15922">[ thread ]</a>
              <a href="subject.html#15922">[ subject ]</a>
              <a href="author.html#15922">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] worm/virus's hammering	feedback	scripts?POLISHEDVERSION
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-September/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20worm/virus%27s%20hammering%0A%09feedback%09scripts%3FPOLISHEDVERSION&In-Reply-To=%3C43393520.3050600%40peda.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016072.html">
   <LINK REL="Next"  HREF="016094.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] worm/virus's hammering	feedback	scripts?POLISHEDVERSION</H1>
    <B>Mikko Rantalainen</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20worm/virus%27s%20hammering%0A%09feedback%09scripts%3FPOLISHEDVERSION&In-Reply-To=%3C43393520.3050600%40peda.net%3E"
       TITLE="[nycphp-talk] worm/virus's hammering	feedback	scripts?POLISHEDVERSION">mikko.rantalainen at peda.net
       </A><BR>
    <I>Tue Sep 27 08:03:44 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="016072.html">[nycphp-talk] worm/virus's hammering feedback	scripts?POLISHEDVERSION
</A></li>
        <LI>Next message: <A HREF="016094.html">[nycphp-talk] worm/virus's	hammering	feedback	scripts?POLISHEDVERSION
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16093">[ date ]</a>
              <a href="thread.html#16093">[ thread ]</a>
              <a href="subject.html#16093">[ subject ]</a>
              <a href="author.html#16093">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hans Zaunere wrote:
&gt;<i> matthijs abeelen scribbled on Thursday, September 15, 2005 2:04 AM:
</I>&gt;<i> 
</I>&gt;&gt;<i>This problem is spreading very fast, a good summery of the best
</I>&gt;&gt;<i>solution(s) is needed indeed. Unfortunately, I'm not the one who can
</I>&gt;&gt;<i>do that. Waiting eagerly for the article on Phundamentals!  
</I>&gt;<i> 
</I>&gt;<i> We're working on it.
</I>&gt;<i> 
</I>&gt;<i> And I've attached what a first stab at a PHP 5 class would look like, with
</I>&gt;<i> example usage here:
</I>&gt;<i> 
</I>&gt;<i> $MyMail = new MailProtect;
</I>&gt;<i> $MyMail-&gt;SetFrom($_POST['From']);
</I>&gt;<i> $MyMail-&gt;SetTo($_POST['To']);
</I>&gt;<i> $MyMail-&gt;SetCc('<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">admin at somwhere.com</A>');
</I>&gt;<i> $MyMail-&gt;SetSubject($_POST['Subject']);
</I>&gt;<i> $MyMail-&gt;SetBody('Thank you for your submission!');
</I>&gt;<i> 
</I>&gt;<i> if( $MyMail-&gt;SendMail() === TRUE )
</I>&gt;<i>     echo 'Mail Sent';
</I>&gt;<i> else
</I>&gt;<i>     echo 'WARNING: Header validation failed; possible exploitation attempt';
</I>
How about

$MyMail-&gt;addTo(...);
$MyMail-&gt;addCc(...);
$MyMail-&gt;addBcc(...);

instead of setXXX() variants? From, Subject and Body always have 
exactly one value but To, Cc and Bcc fields can contain multiple 
items. If the protecting wrapper class forces one to add a single 
recipient at a time misuse of these fields is a bit harder by mistake.

Also, I'd prefer those methods to accept two parameters instead of 
just one. For example,

function addTo($email,$display_name=&quot;&quot;) {...}

So that user of this class never needs to encode any special 
characters or merge display name and email in the same string.

I'd add $MyMail-&gt;addHeader($name,$value) for adding a single 
additional header too.

-- 
Mikko

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016072.html">[nycphp-talk] worm/virus's hammering feedback	scripts?POLISHEDVERSION
</A></li>
	<LI>Next message: <A HREF="016094.html">[nycphp-talk] worm/virus's	hammering	feedback	scripts?POLISHEDVERSION
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16093">[ date ]</a>
              <a href="thread.html#16093">[ thread ]</a>
              <a href="subject.html#16093">[ subject ]</a>
              <a href="author.html#16093">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

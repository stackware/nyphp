<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Requirements for a Verisign Cert?
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-September/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Requirements%20for%20a%20Verisign%20Cert%3F&In-Reply-To=%3CBF47D6E3.162CF%25corey%40bmfenterprises.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015866.html">
   <LINK REL="Next"  HREF="015871.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Requirements for a Verisign Cert?</H1>
    <B>Corey Fogarty</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Requirements%20for%20a%20Verisign%20Cert%3F&In-Reply-To=%3CBF47D6E3.162CF%25corey%40bmfenterprises.com%3E"
       TITLE="[nycphp-talk] Requirements for a Verisign Cert?">corey at bmfenterprises.com
       </A><BR>
    <I>Sat Sep 10 00:18:43 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="015866.html">[nycphp-talk] PHP on Windows + MS SQL Server
</A></li>
        <LI>Next message: <A HREF="015871.html">[nycphp-talk] XAMPP windows install question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15868">[ date ]</a>
              <a href="thread.html#15868">[ thread ]</a>
              <a href="subject.html#15868">[ subject ]</a>
              <a href="author.html#15868">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I bought a Verisign Secure Site Pro cert for a client. It is not working
correctly...

I am running Apache 1.3.29 mod_ssl/2.8.16 OpenSSL/0.9.7c.

This is a Solaris 2.6 Ultra 5 running 64mb of memory, that may be part of
the problem, I am not sure.

Here are just a few of the errors that are kicking back when we start the
server and try to hit a page... I have replaced the domain name, I am not
working on dummy.com.

&gt;<i> [Fri Sep  9 22:30:55 2005] [error] mod_ssl: SSL handshake failed (server
</I>&gt;<i> www.dummy.com:443, client 255.255.255.112) (OpenSSL library error follows)
</I>&gt;<i> [Fri Sep  9 22:30:55 2005] [error] OpenSSL:
</I>&gt;<i> error:140890C7:lib(20):func(137):reason(199)
</I>&gt;<i> [Fri Sep  9 22:30:56 2005] [error] mod_ssl: SSL handshake failed (server
</I>&gt;<i> www.dummy.com:443, client 255.255.255.112) (OpenSSL library error follows)
</I>&gt;<i> [Fri Sep  9 22:30:56 2005] [error] OpenSSL:
</I>&gt;<i> error:1408A10B:lib(20):func(138):reason(267)
</I>&gt;<i> [Fri Sep  9 22:31:52 2005] [error] mod_ssl: SSL handshake failed (server
</I>&gt;<i> www.dummy.com:443, client 255.255.255.112) (OpenSSL library error follows)
</I>&gt;<i> [Fri Sep  9 22:31:52 2005] [error] OpenSSL:
</I>&gt;<i> error:140890C7:lib(20):func(137):reason(199)
</I>&gt;<i> [Fri Sep  9 22:31:52 2005] [error] mod_ssl: SSL handshake failed (server
</I>&gt;<i> www.dummy.com:443, client 255.255.255.112) (OpenSSL library error follows)
</I>&gt;<i> [Fri Sep  9 22:31:52 2005] [error] OpenSSL:
</I>&gt;<i> error:1408A10B:lib(20):func(138):reason(267)
</I>&gt;<i> [Fri Sep  9 22:49:04 2005] [error] mod_ssl: SSL handshake failed (server
</I>&gt;<i> www.dummy.com:443, client 255.255.255.47) (OpenSSL library error follows)
</I>&gt;<i> [Fri Sep  9 22:49:04 2005] [error] OpenSSL:
</I>&gt;<i> error:1409441B:lib(20):func(148):reason(1051)
</I>&gt;<i> [Fri Sep  9 22:55:53 2005] [error] mod_ssl: SSL handshake failed (server
</I>&gt;<i> www.dummy.com:443, client 255.255.255.112) (OpenSSL library error follows)
</I>&gt;<i> [Fri Sep  9 22:55:53 2005] [error] OpenSSL:
</I>&gt;<i> error:140890C7:lib(20):func(137):reason(199)
</I>&gt;<i> [Fri Sep  9 22:55:53 2005] [error] mod_ssl: SSL handshake failed (server
</I>&gt;<i> www.dummy.com:443, client 255.255.255.112) (OpenSSL library error follows)
</I>&gt;<i> [Fri Sep  9 22:55:53 2005] [error] OpenSSL:
</I>&gt;<i> error:1408A10B:lib(20):func(138):reason(267)
</I>&gt;<i> [Fri Sep  9 22:59:13 2005] [error] mod_ssl: SSL handshake failed (server
</I>&gt;<i> www.dummy.com:443, client 255.255.255.112) (OpenSSL library error follows)
</I>&gt;<i> [Fri Sep  9 22:59:13 2005] [error] OpenSSL:
</I>&gt;<i> error:140890C7:lib(20):func(137):reason(199)
</I>&gt;<i> [Fri Sep  9 22:59:13 2005] [error] mod_ssl: SSL handshake failed (server
</I>&gt;<i> www.dummy.com:443, client 255.255.255.112) (OpenSSL library error follows)
</I>&gt;<i> [Fri Sep  9 22:59:13 2005] [error] OpenSSL:
</I>&gt;<i> error:1408A10B:lib(20):func(138):reason(267)
</I>&gt;<i> [Fri Sep  9 23:00:22 2005] [error] mod_ssl: SSL handshake failed (server
</I>&gt;<i> www.dummy.com:443, client 255.255.255.47) (OpenSSL library error follows)
</I>&gt;<i> [Fri Sep  9 23:00:22 2005] [error] OpenSSL:
</I>&gt;<i> error:1409441B:lib(20):func(148):reason(1051)
</I>&gt;<i> [Fri Sep  9 23:06:13 2005] [error] mod_ssl: SSL handshake failed (server
</I>&gt;<i> www.dummy.com:443, client 255.255.255.47) (OpenSSL library error follows)
</I>&gt;<i> [Fri Sep  9 23:06:13 2005] [error] OpenSSL:
</I>&gt;<i> error:1409441B:lib(20):func(148):reason(1051)
</I>&gt;<i> [Fri Sep  9 23:42:34 2005] [error] mod_ssl: SSL handshake interrupted by
</I>&gt;<i> system [Hint: Stop button pressed in browser?!] (System error follows)
</I>&gt;<i> [Fri Sep  9 23:42:34 2005] [error] System: Connection reset by peer (errno:
</I>&gt;<i> 131)
</I> 
Here is a test I read out of the Professional Apache Security book by Wrox
Press...

&gt;<i> bash-2.02# openssl s_client -connect www.dummy.com:443
</I>&gt;<i> CONNECTED(00000004)
</I>&gt;<i> depth=1 /O=VeriSign Trust Network/OU=VeriSign, Inc./OU=VeriSign International
</I>&gt;<i> Server CA - Class 3/OU=www.verisign.com/CPS Incorp.by Ref. LIABILITY LTD.(c)97
</I>&gt;<i> VeriSign
</I>&gt;<i> verify error:num=20:unable to get local issuer certificate
</I>&gt;<i> verify return:0
</I>&gt;<i> 18006:error:0407006A:rsa routines:RSA_padding_check_PKCS1_type_1:block type is
</I>&gt;<i> not 01:rsa_pk1.c:100:
</I>&gt;<i> 18006:error:04067072:rsa routines:RSA_EAY_PUBLIC_DECRYPT:padding check
</I>&gt;<i> failed:rsa_eay.c:580:
</I>&gt;<i> 18006:error:1408D07B:SSL routines:SSL3_GET_KEY_EXCHANGE:bad
</I>&gt;<i> signature:s3_clnt.c:1185:
</I>&gt;<i> 
</I>Here is an excerpt from the ssl_engine_log from startup.

&gt;<i> [09/Sep/2005 23:05:43 17594] [info]  Server: Apache/1.3.29, Interface:
</I>&gt;<i> mod_ssl/2.8.16, Library: OpenSSL/0.9.7c
</I>&gt;<i> [09/Sep/2005 23:05:43 17594] [info]  Init: 1st startup round (still not
</I>&gt;<i> detached)
</I>&gt;<i> [09/Sep/2005 23:05:43 17594] [info]  Init: Initializing OpenSSL library
</I>&gt;<i> [09/Sep/2005 23:05:43 17594] [info]  Init: Loading certificate &amp; private key
</I>&gt;<i> of SSL-aware server www.dummy.com:443
</I>&gt;<i> [09/Sep/2005 23:05:43 17594] [info]  Init: Requesting pass phrase via builtin
</I>&gt;<i> terminal dialog
</I>&gt;<i> [09/Sep/2005 23:05:46 17594] [info]  Init: Loading certificate &amp; private key
</I>&gt;<i> of SSL-aware server 255.255.255.21:443
</I>&gt;<i> [09/Sep/2005 23:05:46 17594] [info]  Init: Loading certificate &amp; private key
</I>&gt;<i> of SSL-aware server 255.255.255.46:443
</I>&gt;<i> [09/Sep/2005 23:05:46 17594] [info]  Init: Wiped out the queried pass phrases
</I>&gt;<i> from memory
</I>&gt;<i> [09/Sep/2005 23:05:46 17594] [info]  Init: Seeding PRNG with 136 bytes of
</I>&gt;<i> entropy
</I>&gt;<i> [09/Sep/2005 23:05:46 17594] [info]  Init: Generating temporary RSA private
</I>&gt;<i> keys (512/1024 bits)
</I>&gt;<i> [09/Sep/2005 23:05:49 17594] [info]  Init: Configuring temporary DH parameters
</I>&gt;<i> (512/1024 bits)
</I>&gt;<i> [09/Sep/2005 23:05:49 17595] [info]  Init: 2nd startup round (already
</I>&gt;<i> detached)
</I>&gt;<i> [09/Sep/2005 23:05:49 17595] [info]  Init: Reinitializing OpenSSL library
</I>&gt;<i> [09/Sep/2005 23:05:49 17595] [info]  Init: Seeding PRNG with 136 bytes of
</I>&gt;<i> entropy
</I>&gt;<i> [09/Sep/2005 23:05:49 17595] [info]  Init: Configuring temporary RSA private
</I>&gt;<i> keys (512/1024 bits)
</I>&gt;<i> [09/Sep/2005 23:05:49 17595] [info]  Init: Configuring temporary DH parameters
</I>&gt;<i> (512/1024 bits)
</I>&gt;<i> [09/Sep/2005 23:05:49 17595] [info]  Init: Initializing (virtual) servers for
</I>&gt;<i> SSL
</I>&gt;<i> [09/Sep/2005 23:05:50 17595] [info]  Init: Configuring server
</I>&gt;<i> www.dummy.com:443 for SSL protocol
</I>&gt;<i> [09/Sep/2005 23:05:50 17595] [info]  Init: (www.dummy.com:443) RSA server
</I>&gt;<i> certificate enables Server Gated Cryptography (SGC)
</I>&gt;<i> [09/Sep/2005 23:05:50 17595] [info]  Init: Configuring server
</I>&gt;<i> 255.255.255.21:443 for SSL protocol
</I>&gt;<i> [09/Sep/2005 23:05:50 17595] [warn]  Init: (255.255.255.21:443) RSA server
</I>&gt;<i> certificate CommonName (CN) `www.dummy2.com' does NOT match server name!?
</I>&gt;<i> [09/Sep/2005 23:05:50 17595] [info]  Init: Configuring server
</I>&gt;<i> 255.255.255.46:443 for SSL protocol
</I>&gt;<i> [09/Sep/2005 23:05:50 17595] [warn]  Init: (255.255.255.46:443) RSA server
</I>&gt;<i> certificate CommonName (CN) `www.dummy3.com' does NOT match server name!?
</I>&gt;<i> [09/Sep/2005 23:06:03 17596] [info]  Connection to child 0 established (server
</I>&gt;<i> 255.255.255.46:443, client 255.255.255.46)
</I>&gt;<i> [09/Sep/2005 23:06:03 17596] [info]  Seeding PRNG with 1160 bytes of entropy
</I>&gt;<i> [09/Sep/2005 23:06:03 17596] [error] SSL handshake failed (server
</I>&gt;<i> 255.255.255.46:443, client 255.255.255.46) (OpenSSL library error follows)
</I>&gt;<i> [09/Sep/2005 23:06:03 17596] [error] OpenSSL:
</I>&gt;<i> error:1409441B:lib(20):func(148):reason(1051)
</I>&gt;<i> [09/Sep/2005 23:06:13 17597] [info]  Connection to child 1 established (server
</I>&gt;<i> www.dummy.com:443, client 255.255.255.47)
</I>&gt;<i> [09/Sep/2005 23:06:13 17597] [info]  Seeding PRNG with 1160 bytes of entropy
</I>&gt;<i> [09/Sep/2005 23:06:13 17597] [error] SSL handshake failed (server
</I>&gt;<i> www.dummy.com:443, client 255.255.255.47) (OpenSSL library error follows)
</I>&gt;<i> [09/Sep/2005 23:06:13 17597] [error] OpenSSL:
</I>&gt;<i> error:1409441B:lib(20):func(148):reason(1051)
</I>&gt;<i> [09/Sep/2005 23:41:49 17598] [info]  Connection to child 2 established (server
</I>&gt;<i> 255.255.255.21:443, client 255.255.255.112)
</I>&gt;<i> [09/Sep/2005 23:41:49 17598] [info]  Seeding PRNG with 1160 bytes of entropy
</I>&gt;<i> [09/Sep/2005 23:41:50 17598] [info]  Initial (No.1) HTTPS request received for
</I>&gt;<i> child 2 (server 255.255.255.21:443)
</I>&gt;<i> [09/Sep/2005 23:41:51 17599] [info]  Connection to child 3 established (server
</I>&gt;<i> 255.255.255.21:443, client 255.255.255.112)
</I>&gt;<i> [09/Sep/2005 23:41:51 17599] [info]  Seeding PRNG with 1160 bytes of entropy
</I>&gt;<i> [09/Sep/2005 23:41:52 17600] [info]  Connection to child 4 established (server
</I>&gt;<i> 255.255.255.21:443, client 255.255.255.112)
</I>&gt;<i> [09/Sep/2005 23:41:52 17600] [info]  Seeding PRNG with 1160 bytes of entropy
</I>&gt;<i> [09/Sep/2005 23:41:53 17600] [info]  Initial (No.1) HTTPS request received for
</I>&gt;<i> child 4 (server 255.255.255.21:443)
</I>&gt;<i> [09/Sep/2005 23:41:53 17599] [info]  Initial (No.1) HTTPS request received for
</I>&gt;<i> child 3 (server 255.255.255.21:443)
</I>&gt;<i> [09/Sep/2005 23:42:08 17598] [info]  Connection to child 2 closed with
</I>&gt;<i> standard shutdown (server 255.255.255.21:443, client 255.255.255.112)
</I>&gt;<i> [09/Sep/2005 23:42:09 17600] [info]  Connection to child 4 closed with
</I>&gt;<i> standard shutdown (server 255.255.255.21:443, client 255.255.255.112)
</I>&gt;<i> [09/Sep/2005 23:42:10 17599] [info]  Connection to child 3 closed with
</I>&gt;<i> standard shutdown (server 255.255.255.21:443, client 255.255.255.112)
</I>&gt;<i> [09/Sep/2005 23:42:11 17596] [info]  Connection to child 0 established (server
</I>&gt;<i> 255.255.255.21:443, client 255.255.255.112)
</I>&gt;<i> [09/Sep/2005 23:42:11 17596] [info]  Seeding PRNG with 1160 bytes of entropy
</I>&gt;<i> [09/Sep/2005 23:42:20 17596] [info]  Initial (No.1) HTTPS request received for
</I>&gt;<i> child 0 (server 255.255.255.21:443)
</I>&gt;<i> [09/Sep/2005 23:42:21 17605] [info]  Connection to child 5 established (server
</I>&gt;<i> 255.255.255.21:443, client 255.255.255.112)
</I>&gt;<i> [09/Sep/2005 23:42:21 17605] [info]  Seeding PRNG with 1160 bytes of entropy
</I>&gt;<i> [09/Sep/2005 23:42:21 17596] [info]  Connection to child 0 closed with unclean
</I>&gt;<i> shutdown (server 255.255.255.21:443, client 255.255.255.112)
</I>&gt;<i> [09/Sep/2005 23:42:21 17597] [info]  Connection to child 1 established (server
</I>&gt;<i> 255.255.255.21:443, client 255.255.255.112)
</I>&gt;<i> [09/Sep/2005 23:42:21 17597] [info]  Seeding PRNG with 1160 bytes of entropy
</I>&gt;<i> [09/Sep/2005 23:42:22 17605] [info]  Initial (No.1) HTTPS request received for
</I>&gt;<i> child 5 (server 255.255.255.21:443)
</I>&gt;<i> [09/Sep/2005 23:42:22 17605] [info]  Connection to child 5 closed with unclean
</I>&gt;<i> shutdown (server 255.255.255.21:443, client 255.255.255.112)
</I>&gt;<i> [09/Sep/2005 23:42:22 17597] [info]  Initial (No.1) HTTPS request received for
</I>&gt;<i> child 1 (server 255.255.255.21:443)
</I>&gt;<i> [09/Sep/2005 23:42:22 17597] [info]  Connection to child 1 closed with unclean
</I>&gt;<i> shutdown (server 255.255.255.21:443, client 255.255.255.112)
</I>&gt;<i> [09/Sep/2005 23:42:31 17901] [info]  Connection to child 6 established (server
</I>&gt;<i> www.dummy.com:443, client 255.255.255.112)
</I>&gt;<i> [09/Sep/2005 23:42:31 17901] [info]  Seeding PRNG with 1160 bytes of entropy
</I>&gt;<i> [09/Sep/2005 23:42:34 17901] [error] SSL handshake interrupted by system
</I>&gt;<i> [Hint: Stop button pressed in browser?!] (System error follows)
</I>&gt;<i> [09/Sep/2005 23:42:34 17901] [error] System: Connection reset by peer (errno:
</I>&gt;<i> 131)
</I>&gt;<i> [09/Sep/2005 23:54:22 17902] [info]  Connection to child 7 established (server
</I>&gt;<i> www.dummy.com:443, client 255.255.255.47)
</I>&gt;<i> [09/Sep/2005 23:54:22 17902] [info]  Seeding PRNG with 1160 bytes of entropy
</I>&gt;<i> [09/Sep/2005 23:54:23 17902] [error] SSL handshake failed (server
</I>&gt;<i> www.dummy.com:443, client 255.255.255.47) (OpenSSL library error follows)
</I>&gt;<i> [09/Sep/2005 23:54:23 17902] [error] OpenSSL:
</I>&gt;<i> error:1409441B:lib(20):func(148):reason(1051)
</I>&gt;<i>  
</I>The funny part is that I have actually had some luck signing my own certs. I
still get errors but at least the page loads... With the Verisign cert, the
page doesn&#185;t even load.

Hopefully someone else has found their way through this maze and can shoot
up a flare for me!

Thanks all!

Corey

P.S. I have tried tech support at Verisign with very little luck. They are
very clear on the fact that they don&#185;t support open source. I am guessing
they have their fingers in their ears a bit there...

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20050910/7fcb573a/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20050910/7fcb573a/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015866.html">[nycphp-talk] PHP on Windows + MS SQL Server
</A></li>
	<LI>Next message: <A HREF="015871.html">[nycphp-talk] XAMPP windows install question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15868">[ date ]</a>
              <a href="thread.html#15868">[ thread ]</a>
              <a href="subject.html#15868">[ subject ]</a>
              <a href="author.html#15868">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

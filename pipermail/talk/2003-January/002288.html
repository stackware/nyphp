<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> Apache/PHP Authentication - Again
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-January/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20Apache/PHP%20Authentication%20-%20Again&In-Reply-To=%3COFBF759C69.EB4B7362-ON85256CBF.004670F1%40un.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002287.html">
   <LINK REL="Next"  HREF="002289.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>Apache/PHP Authentication - Again</H1>
    <B>Griffith Feeney</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20Apache/PHP%20Authentication%20-%20Again&In-Reply-To=%3COFBF759C69.EB4B7362-ON85256CBF.004670F1%40un.org%3E"
       TITLE="Apache/PHP Authentication - Again">feeney at un.org
       </A><BR>
    <I>Fri Jan 31 08:47:44 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002287.html">[nycphp-talk] files vs. mySQL session handling
</A></li>
        <LI>Next message: <A HREF="002289.html">[nycphp-talk] Apache/PHP Authentication - Again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2288">[ date ]</a>
              <a href="thread.html#2288">[ thread ]</a>
              <a href="subject.html#2288">[ subject ]</a>
              <a href="author.html#2288">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks to those who replied to my earlier post (below). It's taken me a
while to get on with this.

The files I need to protect are mostly binary, so I can't use a solution
that involves inserting authentication code at the top of PHP pages.

The approach suggested in
<A HREF="http://www.zend.com/zend/trick/tricks-august-2001.php">http://www.zend.com/zend/trick/tricks-august-2001.php</A> (put the files
outside the document root and use PHP to read them, supply headers, and
forward) will work, but it would be much simpler to be able to password
protect all files in any specified set of directories using Apache
.htaccess. The problem with this is updating the user list, which is large
and in MySQL. The web hosting service doesn't support mod_auth_mysql.

What I would like to do is

1 set up .htaccess protected directories with a single user name and
password,

2 use a PHP page to authenticate users (user by user) against a MySQL
database, and

3 have the PHP page send requests from authenticated users to the server
with the basic authentication header, so that the Apache authentication
window does *not* pop-up, the server having already received basic
authentication credentials.

This last step is not possible directly, but I thought that it might be
accomplished indirectly using a redirect header, like this.

&lt;?php header('Location:
<A HREF="http://www.domainname.com/members/membershome.php">http://www.domainname.com/members/membershome.php</A>');
      header('Authorization: base64_encode(&quot;abc:123&quot;)');
?&gt;

This doesn't work. Is there any way to make this idea work?


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002287.html">[nycphp-talk] files vs. mySQL session handling
</A></li>
	<LI>Next message: <A HREF="002289.html">[nycphp-talk] Apache/PHP Authentication - Again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2288">[ date ]</a>
              <a href="thread.html#2288">[ thread ]</a>
              <a href="subject.html#2288">[ subject ]</a>
              <a href="author.html#2288">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

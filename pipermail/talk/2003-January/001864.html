<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [PHP] Second (Bizarre) Question regarding PHP and ASP
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-January/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5BPHP%5D%20Second%20%28Bizarre%29%20Question%20regarding%20PHP%20and%20ASP&In-Reply-To=%3C200301051622.56640.gquimpo%40sni-inc.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001862.html">
   <LINK REL="Next"  HREF="001863.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[PHP] Second (Bizarre) Question regarding PHP and ASP</H1>
    <B>Gerald Timothy Quimpo</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5BPHP%5D%20Second%20%28Bizarre%29%20Question%20regarding%20PHP%20and%20ASP&In-Reply-To=%3C200301051622.56640.gquimpo%40sni-inc.com%3E"
       TITLE="[PHP] Second (Bizarre) Question regarding PHP and ASP">gquimpo at sni-inc.com
       </A><BR>
    <I>Sun Jan  5 03:22:56 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="001862.html">Second (Bizarre) Question regarding PHP and ASP
</A></li>
        <LI>Next message: <A HREF="001863.html">PHP and empty() if form value is 0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1864">[ date ]</a>
              <a href="thread.html#1864">[ thread ]</a>
              <a href="subject.html#1864">[ subject ]</a>
              <a href="author.html#1864">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sunday 05 January 2003 07:43 am, Phil Powell wrote:
&gt;<i> I tried using REQUEST_URI but I didn't get the results I wanted.  How will
</I>&gt;<i> process.asp know that process.php called it in order to do what it should
</I>&gt;<i> do?
</I>
if you can get $_SERVER[&quot;REMOTE_ADDR&quot;] or $HTTP_REMOTE_ADDR
and if you can trust it (not only that it's right, but also that there are no
man in the middle attacks or other scripts on the client that can pretend
to be your script) then you could just check that the request is coming
from the right IP.

alternatively, you could use hashes that change from one invocation
to the next (to avoid replay attacks).  the server and the client
should both have a secret passphrase (perhaps even a whole set
of them, one for each day, and generated every month or so).

on the client (process.php) randomly generate a string, e.g., $randstr.
create a hash based on the secret passphrase and the randstr, e.g,

$hash=makeMyHash($passphrase.$randstr); /* use whatever hash
   function you want: openssl, mhash, mcrypt or whatever you
   use */

send the randstr and the hash along with the rest of the data.  on the 
server side, process.asp takes the randstr, takes the hash as above,
and compares the hash generated with the hash passed in.
if they don't match, don't reply.  if they match, then the request comes
from process.php (unless you're really paranoid, in which case, add
some more hoops for process.php to jump through :).

tiger

-- 
Gerald Timothy Quimpo  tiger*quimpo*org gquimpo*sni-inc.com tiger*sni*ph
Public Key: &quot;gpg --keyserver pgp.mit.edu --recv-keys 672F4C78&quot;
                   Veritas liberabit vos.
                   Doveryai no proveryai.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001862.html">Second (Bizarre) Question regarding PHP and ASP
</A></li>
	<LI>Next message: <A HREF="001863.html">PHP and empty() if form value is 0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1864">[ date ]</a>
              <a href="thread.html#1864">[ thread ]</a>
              <a href="subject.html#1864">[ subject ]</a>
              <a href="author.html#1864">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] fsockopen / scrape / html mail
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-January/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20fsockopen%20/%20scrape%20/%20html%20mail&In-Reply-To=%3CPine.LNX.4.44.0301101125590.30467-100000%40thighmaster.digitalpulp.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001957.html">
   <LINK REL="Next"  HREF="001960.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] fsockopen / scrape / html mail</H1>
    <B>Andrew M. Yochum</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20fsockopen%20/%20scrape%20/%20html%20mail&In-Reply-To=%3CPine.LNX.4.44.0301101125590.30467-100000%40thighmaster.digitalpulp.com%3E"
       TITLE="[nycphp-talk] fsockopen / scrape / html mail">andrew at digitalpulp.com
       </A><BR>
    <I>Fri Jan 10 11:39:58 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="001957.html">fsockopen / scrape / html mail
</A></li>
        <LI>Next message: <A HREF="001960.html">[nycphp-talk] XML File does not reflect changes upon reopen - HELP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1958">[ date ]</a>
              <a href="thread.html#1958">[ thread ]</a>
              <a href="subject.html#1958">[ subject ]</a>
              <a href="author.html#1958">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 10 Jan 2003, Lynn, Michael  wrote:

&gt;<i> While the fsockopen / scrape issue is hot...
</I>&gt;<i> 
</I>&gt;<i> I have a Newsletter mailing script that uses fsockopen to do just as you say:
</I>&gt;<i> Scrape a url and mail the contents to a list of recipients.
</I>&gt;<i> 
</I>&gt;<i> The only problem is that if I mail this to a user that doesn't have access to the original url, the resultant email will contain only text with errant referances to the images.  This is because the
</I>&gt;<i> email merely contains hrefs and src's back to the original server.
</I>&gt;<i> 
</I>&gt;<i> Is anyone aware of how to scrape and grab content and mail it so that the email is wholey contained and independent of the original url/server?
</I>
I'm not sure how you would include the images as attachments for use in HTML in
the email.  You could drop them on a server that the user does have access to
and refer to them in the email. Here are a few ideas to get you on your way
in either case.. 

A. Parse the HTML and retrieve the files yourself.

B. Using lynx: If you exec lynx on a page with the -dump and -image_links
options, it will render the HTML to plain text for you, and at the end list all
URLs and images referred to in the document.  You could parse this list and use
to retrieve each image required.  (Much simpler parsing than in A)

C. Using wget: Using the --page-requisites will cause wget to grab all other
files required to render the page locally.  (No parsing!)

So once you've got your required files, then you have to get them to the email
recipient.  You could drop them on a server they do have access to. Or figure
out how to attach them in an email and refer to them in an HTML email. I know
the latter is possible, although I have not done it myself.

Hope that helps.

Regards,
Andrew

-- 
Andrew Yochum
Digital Pulp, Inc.
212.679.0676x255
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">andrew at digitalpulp.com</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001957.html">fsockopen / scrape / html mail
</A></li>
	<LI>Next message: <A HREF="001960.html">[nycphp-talk] XML File does not reflect changes upon reopen - HELP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1958">[ date ]</a>
              <a href="thread.html#1958">[ thread ]</a>
              <a href="subject.html#1958">[ subject ]</a>
              <a href="author.html#1958">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Promote Secure Coding
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2014-May/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Promote%20Secure%20Coding&In-Reply-To=%3CCAPKKYS1HG%2B5Cd%3D-oZhWTrbFOYUX-DAo3W_Q3DC7estL70TO4oQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031931.html">
   <LINK REL="Next"  HREF="031935.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Promote Secure Coding</H1>
    <B>Chris Snyder</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Promote%20Secure%20Coding&In-Reply-To=%3CCAPKKYS1HG%2B5Cd%3D-oZhWTrbFOYUX-DAo3W_Q3DC7estL70TO4oQ%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] Promote Secure Coding">chsnyder at gmail.com
       </A><BR>
    <I>Wed May 21 13:14:20 EDT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="031931.html">[nycphp-talk] Promote Secure Coding
</A></li>
        <LI>Next message: <A HREF="031935.html">[nycphp-talk] Promote Secure Coding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31932">[ date ]</a>
              <a href="thread.html#31932">[ thread ]</a>
              <a href="subject.html#31932">[ subject ]</a>
              <a href="author.html#31932">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Why use an anonymous function? That seems less readable than declaring
function get( $varName ), and the explanation of anonymous functions
distracts from your point, which is that you should always filter input.

But yeah, quick tutorials tend to over-simplify. Writers make a lot of
assumptions about readers' awareness of security issues and good coding
practices. It's a fundamental problem -- PHP is easy to learn, but a
security mindset is difficult to teach.


Chris Snyder
<A HREF="http://chxor.chxo.com/">http://chxor.chxo.com/</A>


On Wed, May 21, 2014 at 11:09 AM, Gary Mort &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">garyamort at gmail.com</A>&gt; wrote:

&gt;<i>  I was looking at a tutorial written in this century for PHP programming,
</I>&gt;<i> and I had steam come out of my ears.
</I>&gt;<i>
</I>&gt;<i> Even in this day and age, so called PHP 'experts' still write tutorials
</I>&gt;<i> where they create a simple hello world script which uses:
</I>&gt;<i>
</I>&gt;<i> $name = $_GET['name'];
</I>&gt;<i>
</I>&gt;<i> The concept of using the simple filter_input() function is not addressed
</I>&gt;<i> in almost any tutorials, and those that do address it don't bother untill
</I>&gt;<i> the second half of the book.
</I>&gt;<i>
</I>&gt;<i> I understand why they do this.   Explaining all the intricacies of
</I>&gt;<i> filter_input is an advanced topic.   Moreover, using $_GET and $_POST make
</I>&gt;<i> it very easy for instructional purposes to provide visual cues to the
</I>&gt;<i> student for where this data comes from.
</I>&gt;<i>
</I>&gt;<i> Never the less, since we can create closure's in PHP and bind them to
</I>&gt;<i> variables, it's a simple matter to use an anonymous function bound to $get
</I>&gt;<i> and still maintain clarity.  It can even be bound to $_GET so all they need
</I>&gt;<i> to do is change [] to ()!
</I>&gt;<i>
</I>&gt;<i> So I wanted some feedback on the wording of the following to promote using
</I>&gt;<i> 4 little lines of code to reduce PHP security issues:
</I>&gt;<i>
</I>&gt;<i> ## Do not do as they doAs you learn how to program in PHP you will find almost all instructional tutorials as of 2014 do you a grave injustice.  They teach you how to write dangerous, hackable, insecure PHP code.
</I>&gt;<i>
</I>&gt;<i> Since I can't wave a magic wand and make all those tutorials fix themselves, I have decided to instead provide you with a simple way to not let them do this to you.
</I>&gt;<i>
</I>&gt;<i> For any tutorial which ever tells you to get data submitted by a user by using the $_GET superglobal variable, you can perform a simple substitution:
</I>&gt;<i>
</I>&gt;<i> If they say:
</I>&gt;<i> $exampleVariable = $_GET['exampleVariable'];
</I>&gt;<i>
</I>&gt;<i> You should use:
</I>&gt;<i> $exampleVariable = $get('examplevariable);
</I>&gt;<i>
</I>&gt;<i> This is a small change that looks similar visually, so it makes it easy for you to substitute.  Instead of getting the data from an array, you are getting the data using a function.
</I>&gt;<i>
</I>&gt;<i> Now in addition to the above, you will ALSO need to create this function.  So at the top of any PHP file where you will be using this function, simple add the following 4 lines:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> // FIXME: replace this with a more complete data sanitizing script
</I>&gt;<i> if isset($_GET) { unset($_GET); } // Force yourself not to use the global variable
</I>&gt;<i> $get = function($varName) {
</I>&gt;<i>   return filter_input(INPUT_GET, $varName, FILTER_SANITIZE_STRING); }
</I>&gt;<i>
</I>&gt;<i> ## What this does
</I>&gt;<i> // FIXME: replace this with a more complete data sanitizing script
</I>&gt;<i> This is a PHP comment, it is not executable code.  This is simply a notation to remind you in the future if you are using this file for a production website, to go back and replace this code with more appropriate and secure code.
</I>&gt;<i>
</I>&gt;<i> if isset($_GET) { unset($_GET); } // Force yourself not to use the global variable
</I>&gt;<i> This line is to force you not use the $_GET array by deleting it.  That way if you cut and paste code from a tutorial, you won't accidentally introduce security issues if you forget to make the neccessary changes.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> $get = function($varName) {
</I>&gt;<i>   return filter_input(INPUT_GET, $varName, FILTER_SANITIZE_STRING); }
</I>&gt;<i>
</I>&gt;<i> These 2 lines create a function to remove any HTML tags from a query string variable and return it.  The function is a special PHP construct called a closure, which you can learn about later, which allows it to be refereneced by a variable.  The purpose of using this odd construct is that it allows you to reuse these 2 lines of code multiple times in a PHP application without having to worry about duplicate function names.
</I>&gt;<i>
</I>&gt;<i> The filter_input is a PHP function which provides a create deal more security options then just the one I have used here.  It is up to you to learn about and use those options appropriately.  What I have included here is the bare minimum to provide some basic security AND to allow you to easily increase your security incremementally.  For example, instead of having to rewrite every single PHP program you write in the beginning, you merely need to search for all the FIXME strings and change filter_input(INPUT_GET, $varName, FILTER_SANITIZE_STRING) to something more appropriate for your specific needs.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP User Group Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.nyphp.org/show-participation">http://www.nyphp.org/show-participation</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20140521/c5b0293a/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20140521/c5b0293a/attachment.html</A>&gt;
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031931.html">[nycphp-talk] Promote Secure Coding
</A></li>
	<LI>Next message: <A HREF="031935.html">[nycphp-talk] Promote Secure Coding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31932">[ date ]</a>
              <a href="thread.html#31932">[ thread ]</a>
              <a href="subject.html#31932">[ subject ]</a>
              <a href="author.html#31932">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Proper Form Processing Techniques
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2014-May/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Proper%20Form%20Processing%20Techniques&In-Reply-To=%3CCAGMFw4jeCUFeQxTO74GVOo-_bjZowyPGmsR1J0JbZq6mPr56AQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031926.html">
   <LINK REL="Next"  HREF="031928.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Proper Form Processing Techniques</H1>
    <B>Michael B Allen</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Proper%20Form%20Processing%20Techniques&In-Reply-To=%3CCAGMFw4jeCUFeQxTO74GVOo-_bjZowyPGmsR1J0JbZq6mPr56AQ%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] Proper Form Processing Techniques">ioplex at gmail.com
       </A><BR>
    <I>Tue May 20 04:24:38 EDT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="031926.html">[nycphp-talk] Proper Form Processing Techniques
</A></li>
        <LI>Next message: <A HREF="031928.html">[nycphp-talk] Proper Form Processing Techniques
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31927">[ date ]</a>
              <a href="thread.html#31927">[ thread ]</a>
              <a href="subject.html#31927">[ subject ]</a>
              <a href="author.html#31927">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, May 19, 2014 at 1:40 PM, Gary Mort &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">garyamort at gmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> On 05/18/2014 01:43 AM, Michael B Allen wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi All,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> My current technique seems a little hackish because I'm using the
</I>&gt;&gt;<i> hidden form element &quot;cmd&quot; to modify the action. In practice it might
</I>&gt;&gt;<i> seem purer to modify the action to call /purchase/remove or
</I>&gt;&gt;<i> /purchase/update for use with modern routing on the server.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Whether you are adding an item, removing an item, adding a code, or whatnot
</I>&gt;<i> - all those actions are based on &quot;updating&quot; the order.
</I>&gt;<i>
</I>&gt;<i> There is no need to do &quot;different&quot; processing for each one, you can do all
</I>&gt;<i> of that processing in one process.
</I>&gt;<i>
</I>&gt;<i> IE: &quot;removing&quot; an item is equivalent to setting the item quantity to 0 or
</I>&gt;<i> less[just for that joker who decides to put -1000 in the quantity field and
</I>&gt;<i> force a submit].   So for every item that is submitted on the form, you can
</I>&gt;<i> check the quantities, if zero or negative then if the product id is in the
</I>&gt;<i> order list, remove it.
</I>&gt;<i>
</I>&gt;<i> If positive, then either add or update the quantity.
</I>&gt;<i>
</I>&gt;<i> If an item currently in the cart was not submitted, leave it alone.
</I>&gt;<i>
</I>&gt;<i> This allows for submission updates that only change a single item, delete
</I>&gt;<i> items, add multiple items, etc.
</I>
Hi All,

I actually started out doing what you describe but I thought the
server side code started to get a little messy so I thought I would
break things up into add, remove, applyCode and so on.

As for other's suggestions about storing state on the client by what
is ultimately manipulating the DOM with JavaScript, I can see how that
could be used to create sophisticated UI elements. But I don't think I
would ever put any state on the client that I couldn't accept losing
at any moment (e.g. as I type this, gmail is periodically saving this
message with async requests). Even storing stuff in a cookie seems
dubious for a shopping cart. I think I will just commit each change to
the DB so that user's can be confident that what they see is actually
in the DB.

In general it sounds like there are no new techniques that are
obviously superior to the conventional form processing methods that
have been used for decades. So I will carry on with the usual
technique even if it does seem a little hackish.

Thanks,

Mike
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031926.html">[nycphp-talk] Proper Form Processing Techniques
</A></li>
	<LI>Next message: <A HREF="031928.html">[nycphp-talk] Proper Form Processing Techniques
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31927">[ date ]</a>
              <a href="thread.html#31927">[ thread ]</a>
              <a href="subject.html#31927">[ subject ]</a>
              <a href="author.html#31927">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

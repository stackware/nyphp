<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Apache 2.0 and PHP
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-November/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Apache%202.0%20and%20PHP&In-Reply-To=%3C3FBD2617.9020808%40nyphp.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006402.html">
   <LINK REL="Next"  HREF="006403.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Apache 2.0 and PHP</H1>
    <B>Hans Zaunere</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Apache%202.0%20and%20PHP&In-Reply-To=%3C3FBD2617.9020808%40nyphp.org%3E"
       TITLE="[nycphp-talk] Apache 2.0 and PHP">hans at nyphp.org
       </A><BR>
    <I>Thu Nov 20 15:37:43 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="006402.html">[nycphp-talk] Apache 2.0 and PHP
</A></li>
        <LI>Next message: <A HREF="006403.html">[nycphp-talk] Apache 2.0 and PHP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6399">[ date ]</a>
              <a href="thread.html#6399">[ thread ]</a>
              <a href="subject.html#6399">[ subject ]</a>
              <a href="author.html#6399">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

John Lacey wrote:

&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Hans Zaunere wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Scott Mattocks wrote:
</I>&gt;&gt;<i> &gt;&gt; not to run it if you are using PHP but I can't remember why.  Are
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> there still issues mixing the two?  Should we reconsider our Apache 
</I>&gt;&gt;&gt;<i> distribution and what advice do you guys have to make the transition 
</I>&gt;&gt;&gt;<i> easier?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Very little, if any, progress has been made on this front.  It's not 
</I>&gt;&gt;<i> PHP/Apache 2.0/ per se, but rather the libs that PHP uses.  For 
</I>&gt;&gt;<i> instance, let's say you compile PHP with GD support - is GD thread 
</I>&gt;&gt;<i> safe?  Then you compile GD with libjpeg - is libjpeg thread safe?  The 
</I>&gt;&gt;<i> number of combinations of libs that PHP can be used with is huge, and 
</I>&gt;&gt;<i> thus ensuring each is thread safe is very hard.  That said, the 
</I>&gt;&gt;<i> PHPZend/Apache 2.0/ interaction, at the SAPI and engine levels, could 
</I>&gt;&gt;<i> be improved, but there is little motivation because of the library 
</I>&gt;&gt;<i> issues.  It's a chicken-before-the-egg problem.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You could use Apache 2 with the prefork MPM.  However, that's 
</I>&gt;&gt;<i> basically the same as Apache 1, but using a not-so-well-tested SAPI - 
</I>&gt;&gt;<i> so why switch?  :)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> Seems that some might use the thread-safety issue to knock PHP with FUD. 
</I>&gt;<i>  Perhaps we need to nip that one in the bud by saying a few [mininally 
</I>&gt;<i> techy] words about the effectiveness of running in Apache 2 prefork mode 
</I>&gt;<i> in the AMP marketing doc?  I'll at least put in some info and then 
</I>&gt;<i> others can improve. Anyone have any stories on this?
</I>
I used to run a production system with Apache 2, PHP 4 and MySQL/Oracle under RH 7.3 and used the threaded MPM.  It ran, for the most part, 100%, until it was decided we needed it to do other fancy things.  Initially, only the MySQL and OCI8 extensions were compiled in, which is why it had worked.  When we began to add other stuff (somehow mhash sticks out?) a lot of strange things happened.  So, we went to Apache 1 and haven't looked back since :)

Touching on this subject for the marketing document is a great idea, but something we'd have to treat with care.  Anything surrouding the topic of thread safety gets extremly technical, extremly quickly.  Suffice it to say, possibly, that &quot;bigger version numbers aren't always better.&quot;  I think the CTO types, in dealing with Windows NT, 2000 and 2003, could understand that :)

H



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006402.html">[nycphp-talk] Apache 2.0 and PHP
</A></li>
	<LI>Next message: <A HREF="006403.html">[nycphp-talk] Apache 2.0 and PHP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6399">[ date ]</a>
              <a href="thread.html#6399">[ thread ]</a>
              <a href="subject.html#6399">[ subject ]</a>
              <a href="author.html#6399">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

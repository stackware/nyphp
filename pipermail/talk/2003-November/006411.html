<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] need help with debugging mail()
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-November/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20need%20help%20with%20debugging%20mail%28%29&In-Reply-To=%3C3FBD5788.1040503%40nyphp.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006410.html">
   <LINK REL="Next"  HREF="006420.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] need help with debugging mail()</H1>
    <B>Hans Zaunere</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20need%20help%20with%20debugging%20mail%28%29&In-Reply-To=%3C3FBD5788.1040503%40nyphp.org%3E"
       TITLE="[nycphp-talk] need help with debugging mail()">hans at nyphp.org
       </A><BR>
    <I>Thu Nov 20 19:08:40 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="006410.html">[nycphp-talk] need help with debugging mail()
</A></li>
        <LI>Next message: <A HREF="006420.html">[nycphp-talk] need help with debugging mail()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6411">[ date ]</a>
              <a href="thread.html#6411">[ thread ]</a>
              <a href="subject.html#6411">[ subject ]</a>
              <a href="author.html#6411">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Michael Southwell wrote:
&gt;<i> I am moving a site from one server to another one (the new one is in nyc 
</I>&gt;<i> and has a 2-letter extension ;-).  The contact form on the old site is 
</I>&gt;<i> working perfectly, but identical code on the new one isn't.  Phpinfo 
</I>&gt;<i> tells me that sendmail is there and presumably working.  Docs say that 
</I>&gt;<i> mail() returns TRUE or FALSE so I tried this code:
</I>&gt;<i> ----------------
</I>&gt;<i> if (mail($to,$subject,$message,$from)==FALSE) do something
</I>&gt;<i> else do something else
</I>&gt;<i> --------------
</I>&gt;<i> which always does something else so mail seems to be returning TRUE but 
</I>&gt;<i> the message never arrives.  How do I do a better job of debugging what's 
</I>&gt;<i> happening?
</I>
Do you have shell access?  If so, ssh in and do something like:

mail <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">your at email.com</A>

fill in the subject and enter a period on it's own line to finish up the body of the message.  If you get the email, then the mail subsystem is probably fairly sane.  If not, it's not sane, and you need to tinker with sysadmin stuff to get it working.

You can also view the system mail logs.  Depending on the platform, it's probably /var/log/maillog

Depending on the success of the step above, do:

tail -f /var/log/maillog

while trying the webpage or using the mail command from a terminal.  If the mail command works, but the webpage doesn't, ensure that your permissions are set correctly.  The settings php.ini has for mail (noteably the sendmail command) needs to be readable and executeable by the user apache is running as, or as the user if it's cgi.

H

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006410.html">[nycphp-talk] need help with debugging mail()
</A></li>
	<LI>Next message: <A HREF="006420.html">[nycphp-talk] need help with debugging mail()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6411">[ date ]</a>
              <a href="thread.html#6411">[ thread ]</a>
              <a href="subject.html#6411">[ subject ]</a>
              <a href="author.html#6411">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] MySQL Tuning.
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-February/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20MySQL%20Tuning.&In-Reply-To=%3COFEAE00018.8A44A42D-ON85257290.005F4E94-85257290.005FE6F6%40us.ibm.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021259.html">
   <LINK REL="Next"  HREF="021261.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] MySQL Tuning.</H1>
    <B>Carlos A Hoyos</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20MySQL%20Tuning.&In-Reply-To=%3COFEAE00018.8A44A42D-ON85257290.005F4E94-85257290.005FE6F6%40us.ibm.com%3E"
       TITLE="[nycphp-talk] MySQL Tuning.">cahoyos at us.ibm.com
       </A><BR>
    <I>Wed Feb 28 12:27:30 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="021259.html">[nycphp-talk] MySQL Tuning.
</A></li>
        <LI>Next message: <A HREF="021261.html">[nycphp-talk] MySQL Tuning.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21260">[ date ]</a>
              <a href="thread.html#21260">[ thread ]</a>
              <a href="subject.html#21260">[ subject ]</a>
              <a href="author.html#21260">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A> wrote on 02/28/2007 11:39:25 AM:

&gt;<i> There was some intense discussion last night at TGIF about MySQL tuning
</I>&gt;<i> and some problems my group has been having with inserts into InnoDB
</I>&gt;<i> tables.  I was asked to provide our my.cnf for review.
</I>
Indeed it was. Funny how things seem more interesting at that venue ;-)

&gt;<i>
</I>&gt;<i> We are doing a big data import and the problem was inserts were taking
</I>&gt;<i> up to 20 seconds on a table of 8 Million rows, which didn't seem right
</I>&gt;<i> as we have tables in excess of 25 million rows in the same database.
</I>&gt;<i> There were two indexes: Primary and a compound index of two string
</I>&gt;<i> columns (32bit String MD5 + varchar50).  The combination has a
</I>&gt;<i> cardinality of about 400,000.  Dropping the indexes before we started
</I>&gt;<i> our big import sped thing up considerably.  We now drop the index, run
</I>&gt;<i> the big import, and then rebuild the indexes.  This solution doesn't
</I>&gt;<i> really address the real problem, which I haven't quite figured out.  Any
</I>&gt;<i> further guidance is appreciated.
</I>How are you loading the data? When doing bulk loads, mysql is usually smart
to load everything first and then rebuild the indexes. But unique indexes
are checked at once.

Some tips that have worked for me:
- If you're exporting the data from another source, try if possible to
export it sorted by your primary key.
- Increase key_buffer so that your index will fit on it.

Carlos Hoyos



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021259.html">[nycphp-talk] MySQL Tuning.
</A></li>
	<LI>Next message: <A HREF="021261.html">[nycphp-talk] MySQL Tuning.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21260">[ date ]</a>
              <a href="thread.html#21260">[ thread ]</a>
              <a href="subject.html#21260">[ subject ]</a>
              <a href="author.html#21260">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

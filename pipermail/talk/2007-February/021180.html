<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] PHP and running background tasks...
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-February/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20and%20running%20background%20tasks...&In-Reply-To=%3C45E0F080.90300%40dailytechnology.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021179.html">
   <LINK REL="Next"  HREF="021182.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] PHP and running background tasks...</H1>
    <B>Brian Dailey</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20and%20running%20background%20tasks...&In-Reply-To=%3C45E0F080.90300%40dailytechnology.net%3E"
       TITLE="[nycphp-talk] PHP and running background tasks...">support at dailytechnology.net
       </A><BR>
    <I>Sat Feb 24 21:12:16 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="021179.html">[nycphp-talk] PHP and running background tasks...
</A></li>
        <LI>Next message: <A HREF="021182.html">[nycphp-talk] PHP and running background tasks...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21180">[ date ]</a>
              <a href="thread.html#21180">[ thread ]</a>
              <a href="subject.html#21180">[ subject ]</a>
              <a href="author.html#21180">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> From the last link: &quot;Note that you should never attempt to use these 
process control forking functions when using a webserver; you should 
only fork applications when using the PHP command line client.&quot;

I guess that kind of answers my question. exec() might actually be the 
only solution, I'm not sure - it just seems somewhat untidy. I would 
have to log any failures as I go along, I guess.

As an explanation of what I'm doing...

I have a cache. If an item in the cache is more than a week old, I want 
to re-fetch the item. I could schedule a job to check for all week-old 
objects and re-fetch them, but I think it would be more efficient to 
only run the re-fetch if someone loads the cached item and it's more 
than a week old (it's ok if web user gets the old item on that 
occurance). I don't want to make the user wait for fetching the cached 
item. I'd like to hand it off to another script that fetches it in the 
background, and doesn't tie up the user with the operation.

I hope that clarifies what I'm trying to do. Perhaps exec() is my only 
option.

- Brian

Hans C. Kaspersetz wrote:
&gt;<i> Brian Dailey wrote:
</I>&gt;&gt;<i> Hey guys, my google-fu is failing me today so I thought I would turn 
</I>&gt;&gt;<i> to the brilliant minds of the NYPHP.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What I'd like to do is be able to execute a php script in the 
</I>&gt;&gt;<i> background that does NOT impact the load time of the page itself. 
</I>&gt;&gt;<i> Something that runs in the background and doesn't tie up the web 
</I>&gt;&gt;<i> server. Does that make sense? Do any of you have any idea how one 
</I>&gt;&gt;<i> would accomplish this?
</I>&gt;&gt;<i>
</I>&gt;<i> Fork off a php process and let it run separately.  I think Synder, Hans 
</I>&gt;<i> Z and Hendry were doing this for a app a couple of years ago with some 
</I>&gt;<i> success.  When the forked process is done it calls the original script 
</I>&gt;<i> and reports.  But you have to be conscious of garbage processes.
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://us3.php.net/manual/en/function.pcntl-fork.php">http://us3.php.net/manual/en/function.pcntl-fork.php</A>
</I>&gt;<i> <A HREF="http://us3.php.net/pcntl">http://us3.php.net/pcntl</A>
</I>&gt;<i> <A HREF="http://www.electrictoolbox.com/article/php/process-forking/">http://www.electrictoolbox.com/article/php/process-forking/</A>
</I>&gt;<i> 
</I>&gt;<i> Hans K
</I>&gt;<i> New Jersey Web Design
</I>&gt;<i> <A HREF="http://www.cyberxdesigns.com">http://www.cyberxdesigns.com</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> 
</I>&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i> 
</I>&gt;<i> Show Your Participation in New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021179.html">[nycphp-talk] PHP and running background tasks...
</A></li>
	<LI>Next message: <A HREF="021182.html">[nycphp-talk] PHP and running background tasks...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21180">[ date ]</a>
              <a href="thread.html#21180">[ thread ]</a>
              <a href="subject.html#21180">[ subject ]</a>
              <a href="author.html#21180">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

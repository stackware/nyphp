<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Removing www.
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-February/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Removing%20www.&In-Reply-To=%3C14350-72641%40sneakemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020930.html">
   <LINK REL="Next"  HREF="020932.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Removing www.</H1>
    <B>inforequest</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Removing%20www.&In-Reply-To=%3C14350-72641%40sneakemail.com%3E"
       TITLE="[nycphp-talk] Removing www.">1j0lkq002 at sneakemail.com
       </A><BR>
    <I>Thu Feb  8 03:06:27 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="020930.html">[nycphp-talk] Removing www.
</A></li>
        <LI>Next message: <A HREF="020932.html">[nycphp-talk] Removing www.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20931">[ date ]</a>
              <a href="thread.html#20931">[ thread ]</a>
              <a href="subject.html#20931">[ subject ]</a>
              <a href="author.html#20931">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Greg Rundlett greg.rundlett-at-gmail.com |nyphp dev/internal group use| 
wrote:

&gt;<i> On 2/7/07, inforequest &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">1j0lkq002 at sneakemail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Chris Shiflett shiflett-at-php.net |nyphp dev/internal group use| wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt;Joseph Crawford wrote:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;&gt;Hey guys, what would i need to do in order to make all of the
</I>&gt;&gt;<i> &gt;&gt;www. be removed from my urls?
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;&gt;From <A HREF="http://no-www.org/:">http://no-www.org/:</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;RewriteEngine On
</I>&gt;&gt;<i> &gt;RewriteCond %{HTTP_HOST} ^www\.josephcrawford\.com$ [NC]
</I>&gt;&gt;<i> &gt;RewriteRule ^(.*)$ <A HREF="http://josephcrawford.com/$1">http://josephcrawford.com/$1</A> [R=301,L]
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;Hope that helps.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;Chris
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> ummm..... be careful when taking code snippets and standards advice from
</I>&gt;&gt;<i> a site that doesn't validate and is broken in IE7. Especially when it
</I>&gt;&gt;<i> promotes a back link campaign IMHO.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> However, the code looks correct if that is what you want to do. I would
</I>&gt;&gt;<i> also make sure that the site is not spiderable via https: so that you
</I>&gt;&gt;<i> don't get traffic bypassing your rewrite rule (or perhaps a port 443
</I>&gt;&gt;<i> check to the rewrite rule).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -=john andrews
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -- 
</I>&gt;&gt;<i> -------------------------------------------------------------
</I>&gt;&gt;<i> Your web server traffic log file is the most important source of web 
</I>&gt;&gt;<i> business information available. Do you know where your logs are right 
</I>&gt;&gt;<i> now? Do you know who else has access to your log files? When they 
</I>&gt;&gt;<i> were last archived? Where those archives are? --John Andrews 
</I>&gt;&gt;<i> Competitive Webmaster and SEO Blogging at <A HREF="http://www.johnon.com">http://www.johnon.com</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Show Your Participation in New York PHP
</I>&gt;&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> If you can edit the apache configuration, here is an extra measure to
</I>&gt;<i> ensure that your PHP scripts get the right 'answer' for
</I>&gt;<i> _SERVER['HOST_NAME']
</I>&gt;<i>
</I>&gt;<i> create a virtual host container for josephcrawford.com, use the
</I>&gt;<i> ServerAlias directive to make the server respond to requests directed
</I>&gt;<i> to 'www'.  Tell Apache to use it's canonical ServerName when
</I>&gt;<i> constructing self-referential URLs.  Note this will not prevent people
</I>&gt;<i> from browsing the www site, so you still need the mod rewrite if you
</I>&gt;<i> want to catch those urls AND force them to be democratic (No Dub-ya).
</I>&gt;<i>
</I>&gt;<i> ServerName josephcrawford.com
</I>&gt;<i> ServerAlias www.josephcrawford.com foo.josephcrawford.com 
</I>&gt;<i> mr.josephcrawford.com
</I>&gt;<i> UseCanonical true
</I>&gt;<i>
</I>&gt;<i> See <A HREF="http://httpd.apache.org/docs/2.2/mod/core.html#serveralias">http://httpd.apache.org/docs/2.2/mod/core.html#serveralias</A>
</I>&gt;<i>
</I>&gt;<i> If you want to ignore / drop the www requests all together, then of
</I>&gt;<i> course you don't need the server alias.
</I>&gt;<i>
</I>&gt;<i> On the other hand however if you do care about catching www traffic,
</I>&gt;<i> but you want to force it over to the dub-ya-less domain, then the
</I>&gt;<i> first answer (setting up an A record in DNS) is key to resolving those
</I>&gt;<i> requests to your host.  Good DNS providers / Registrars make this
</I>&gt;<i> relatively simple to do.  Combine the A record with a single Virtual
</I>&gt;<i> host definition plus ServerAlias directives (as many as you want)
</I>&gt;<i>
</I>&gt;<i> Hope that helps
</I>





Greg I think there's a bit more to it, because most DNS / Hosting setups 
place the A record and aliases such that they create distinct copies of 
your site (per each alias). Search engines will index www. and non-www  
and any additional aliases as different sites, and if there is 
duplication will likely drop all but one copy. Due to the way search 
engines honor incoming links, you can end up with a site whose existence 
in search engines depends on the whim of external factors you can't control.

The rewrite rule above throws a 301 Permanent redirect response code, 
which the search engines use to help identify the primary web site that 
should be kept in the search index. If you care to maintain a stable 
presence in the search engines, you need to be sure you have a single 
web site URL.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020930.html">[nycphp-talk] Removing www.
</A></li>
	<LI>Next message: <A HREF="020932.html">[nycphp-talk] Removing www.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20931">[ date ]</a>
              <a href="thread.html#20931">[ thread ]</a>
              <a href="subject.html#20931">[ subject ]</a>
              <a href="author.html#20931">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

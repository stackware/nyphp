<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] testing a theory
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-February/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20testing%20a%20theory&In-Reply-To=%3C45C91EC9.2070102%40secdat.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020911.html">
   <LINK REL="Next"  HREF="020897.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] testing a theory</H1>
    <B>Kenneth Downs</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20testing%20a%20theory&In-Reply-To=%3C45C91EC9.2070102%40secdat.com%3E"
       TITLE="[nycphp-talk] testing a theory">ken at secdat.com
       </A><BR>
    <I>Tue Feb  6 19:35:21 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="020911.html">[nycphp-talk] testing a theory
</A></li>
        <LI>Next message: <A HREF="020897.html">[nycphp-talk] testing a theory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20896">[ date ]</a>
              <a href="thread.html#20896">[ thread ]</a>
              <a href="subject.html#20896">[ subject ]</a>
              <a href="author.html#20896">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Adrian Noland wrote:
&gt;<i> Hi, I have a quick (and probably silly) question. Is there performance
</I>&gt;<i> difference between the following two snippets. Does it make a
</I>&gt;<i> difference if there are hundreds+ of lines?
</I>
I can offer a few rules of thumb from experience.

First, in any situation where there is disk or db access, you can assume 
that the disk access is far far more expensive than the in-memory 
operations like string assignment.  This difference is so staggering 
that all optimization must go into disk reads first.  No queries inside 
of loops, stuff like that.

Now, that being said, and assuming perfect optimization of disk reads, 
what about the snippets?  Well it would probably be nigh-on impossible 
to determine a difference in the snippets as written, but one telltale 
is that the first snippet is handling each string twice, first in the 
assignment, then in the output.  If PHP copies a string during string 
appends, then the first line is actually being handled 4 times!  This 
means we would reject it, because if you got in the habit of doing that, 
you may not notice if one day you start building strings out of much 
larger pieces, like file fragments, or big db text fields, and suddenly 
instead of 100 bytes its 100k bytes, and then wham, you do have a problem.


&gt;<i>
</I>&gt;<i> &lt;?php
</I>&gt;<i> $content = &quot;this is the start of a bunch of lines&quot;;
</I>&gt;<i> $content .= &quot;another line&quot;;
</I>&gt;<i> $content .= &quot;yet another&quot;;
</I>&gt;<i> echo $content;
</I>&gt;<i> ?&gt;
</I>&gt;<i>
</I>&gt;<i> vs.
</I>&gt;<i>
</I>&gt;<i> &lt;?php
</I>&gt;<i> echo &quot;this is the start of a bunch of lines&quot;;
</I>&gt;<i> echo &quot;another line&quot;;
</I>&gt;<i> echo &quot;yet another&quot;;
</I>&gt;<i> ?&gt;
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i>
</I>&gt;<i> Show Your Participation in New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ken.vcf
Type: text/x-vcard
Size: 261 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20070206/cd12f35e/attachment.vcf">http://lists.nyphp.org/pipermail/talk/attachments/20070206/cd12f35e/attachment.vcf</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020911.html">[nycphp-talk] testing a theory
</A></li>
	<LI>Next message: <A HREF="020897.html">[nycphp-talk] testing a theory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20896">[ date ]</a>
              <a href="thread.html#20896">[ thread ]</a>
              <a href="subject.html#20896">[ subject ]</a>
              <a href="author.html#20896">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

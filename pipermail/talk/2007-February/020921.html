<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] testing a theory
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-February/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20testing%20a%20theory&In-Reply-To=%3C1d8a0e930702071133q4e80e27do8d44cf977e1768ee%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020920.html">
   <LINK REL="Next"  HREF="020922.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] testing a theory</H1>
    <B>Adrian Noland</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20testing%20a%20theory&In-Reply-To=%3C1d8a0e930702071133q4e80e27do8d44cf977e1768ee%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] testing a theory">anoland at indigente.net
       </A><BR>
    <I>Wed Feb  7 14:33:41 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="020920.html">[nycphp-talk] testing a theory
</A></li>
        <LI>Next message: <A HREF="020922.html">[nycphp-talk] testing a theory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20921">[ date ]</a>
              <a href="thread.html#20921">[ thread ]</a>
              <a href="subject.html#20921">[ subject ]</a>
              <a href="author.html#20921">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2/7/07, Rob Marscher &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">rmarscher at beaffinitive.com</A>&gt; wrote:
&gt;<i> OK... I got interested enough to do a test myself.  I ran it a few times
</I>&gt;<i> with 100,000 loops of concatenating vs. echoing.  The average result was
</I>&gt;<i> about this:
</I>&gt;<i> Concatenation took 0.13881587982178. Multiple echoes took 0.074604988098145.
</I>&gt;<i> Concat mem usage was 1760704. Multiple echo mem usage was 901224.
</I>&gt;<i> 58 milliseconds faster to do multiple echoes and uses about 839Kb less
</I>&gt;<i> memory.  I'm not sure how reliable get_memory_usage() is for
</I>&gt;<i> benchmarking memory.
</I>&gt;<i>
</I>&gt;<i> By the way, in PHP5, you can just do:
</I>&gt;<i> $starttime = microtime(true);
</I>&gt;<i>
</I>&gt;<i> But here's the source for my test that works in PHP4 and PHP5.  You can
</I>&gt;<i> change the iterations number and replace 'some text' with another string
</I>&gt;<i> to try out different scenarios.
</I>&gt;<i> Later,
</I>&gt;<i> Rob
</I>
The loop is optimizing the results. Here is what I got when I replaced
them with 115K direct strings.

Without profiling
Concatenation took 4.47135686874. Multiple echoes took 5.18587899208.
Concatenation took 4.42481684685. Multiple echoes took 5.15758609772.
Concatenation took 4.42998504639. Multiple echoes took 5.14059782028.

with profiling enabled:
Concatenation took 7.02670788765. Multiple echoes took 7.44358682632
<A HREF="http://indigente.net/profile_microtime.profile.txt">http://indigente.net/profile_microtime.profile.txt</A> (7MB file)
<A HREF="http://indigente.net/profile_microtime.php.txt">http://indigente.net/profile_microtime.php.txt</A> (10MB)

Obviously, I don't have any 10MB PHP files and this isn't a real world
example, but it is somewhat enlightening. I'm interested in
everybody's thoughts on this.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020920.html">[nycphp-talk] testing a theory
</A></li>
	<LI>Next message: <A HREF="020922.html">[nycphp-talk] testing a theory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20921">[ date ]</a>
              <a href="thread.html#20921">[ thread ]</a>
              <a href="subject.html#20921">[ subject ]</a>
              <a href="author.html#20921">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

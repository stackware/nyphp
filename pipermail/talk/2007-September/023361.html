<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] PHP script needs some filter help
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-September/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20script%20needs%20some%20filter%20help&In-Reply-To=%3C8f0676b40709151930w136168cdxa90051ca5be3589e%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023350.html">
   <LINK REL="Next"  HREF="023364.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] PHP script needs some filter help</H1>
    <B>John Campbell</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20script%20needs%20some%20filter%20help&In-Reply-To=%3C8f0676b40709151930w136168cdxa90051ca5be3589e%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] PHP script needs some filter help">jcampbell1 at gmail.com
       </A><BR>
    <I>Sat Sep 15 22:30:05 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023350.html">[nycphp-talk] PHP script needs some filter help
</A></li>
        <LI>Next message: <A HREF="023364.html">[nycphp-talk] PHP script needs some filter help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23361">[ date ]</a>
              <a href="thread.html#23361">[ thread ]</a>
              <a href="subject.html#23361">[ subject ]</a>
              <a href="author.html#23361">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> The situation:  Our company's website host server only processes scripts in
</I>&gt;<i> php, python, cld fusion [not in asp - go figure].  Our website has three
</I>&gt;<i> seperate user information request forms on it; all were posted using a php
</I>&gt;<i> mail script.  One day, all of a sudden, we get 20-30 bogus forms mail to us
</I>&gt;<i> per day.  Annoying and alarming.  So i went searching for some way to
</I>&gt;<i> control it.  I managed to insert a php script with captcha into each.  but,
</I>&gt;<i> we are still getting bogus forms sent to us.  Not as many, but still
</I>&gt;<i> annoying and no fun...email header injections i take it?
</I>&gt;<i>
</I>&gt;<i> So, i tried to follow along and use some php includes that i found posted on
</I>&gt;<i> nyphp.org.  After addiing some of the code and quite a few iterations, I'd
</I>&gt;<i> keep getting these parsing errors, and could never get it to work.
</I>
Here is what I think is really happening, and a captcha isn't going to
do a damn thing.

Your script has a vulnerability that allows a spammer to use your
company's webserver to send out mass emailings.  You should fix the
header injection, and the spammer will quit within a week or so.
Technically, you are responsible for the spam, as it is being sent by
your server and your company's email will get blacklisted soon.

Don't allow user input into the header parameter of the mail()
function.  If you do, make sure and validate it (no newlines). Check
your mail logs as well.

Regards,
John Campbell

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023350.html">[nycphp-talk] PHP script needs some filter help
</A></li>
	<LI>Next message: <A HREF="023364.html">[nycphp-talk] PHP script needs some filter help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23361">[ date ]</a>
              <a href="thread.html#23361">[ thread ]</a>
              <a href="subject.html#23361">[ subject ]</a>
              <a href="author.html#23361">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Asynchronous downloads -- how?
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-September/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Asynchronous%20downloads%20--%20how%3F&In-Reply-To=%3C46DF07D3.1090509%40phpwerx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023244.html">
   <LINK REL="Next"  HREF="023233.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Asynchronous downloads -- how?</H1>
    <B>Dan Cech</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Asynchronous%20downloads%20--%20how%3F&In-Reply-To=%3C46DF07D3.1090509%40phpwerx.net%3E"
       TITLE="[nycphp-talk] Asynchronous downloads -- how?">dcech at phpwerx.net
       </A><BR>
    <I>Wed Sep  5 15:47:31 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023244.html">[nycphp-talk] Asynchronous downloads -- how?
</A></li>
        <LI>Next message: <A HREF="023233.html">[nycphp-talk] Asynchronous downloads -- how?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23232">[ date ]</a>
              <a href="thread.html#23232">[ thread ]</a>
              <a href="subject.html#23232">[ subject ]</a>
              <a href="author.html#23232">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Kenneth Downs wrote:
&gt;<i> Let's say you have a link on a page,
</I>&gt;<i> www.example.com/friendly-url/file.mp3, which is actually being handled
</I>&gt;<i> by a PHP file that checks for subscription status and then sends the
</I>&gt;<i> file.  It looks like a straight download to the user.  So far so good.
</I>&gt;<i> 
</I>&gt;<i> Now let's say the file is 50MB, so that a download will take several
</I>&gt;<i> minutes.
</I>&gt;<i> 
</I>&gt;<i> When the user initiates the download, and then attempts to go to another
</I>&gt;<i> page on the site, they cannot.  All access to the site is waiting until
</I>&gt;<i> the download completes.
</I>
This may be an over-simplification, but are you using
session_write_close() after the authentication phase is complete?

If the session is still active during the download, other requests with
the same session id will hang while php waits for your download script
to release the lock on the session file.

Calling session_write_close() will end the session and relinquish the
locks, allowing your other scripts to run.

Dan

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023244.html">[nycphp-talk] Asynchronous downloads -- how?
</A></li>
	<LI>Next message: <A HREF="023233.html">[nycphp-talk] Asynchronous downloads -- how?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23232">[ date ]</a>
              <a href="thread.html#23232">[ thread ]</a>
              <a href="subject.html#23232">[ subject ]</a>
              <a href="author.html#23232">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

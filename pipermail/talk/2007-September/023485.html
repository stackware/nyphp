<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Not-so-subtle attack on PHP
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-September/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Not-so-subtle%20attack%20on%20PHP&In-Reply-To=%3C46FD2EE3.3000802%40secdat.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023483.html">
   <LINK REL="Next"  HREF="023486.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Not-so-subtle attack on PHP</H1>
    <B>Kenneth Downs</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Not-so-subtle%20attack%20on%20PHP&In-Reply-To=%3C46FD2EE3.3000802%40secdat.com%3E"
       TITLE="[nycphp-talk] Not-so-subtle attack on PHP">ken at secdat.com
       </A><BR>
    <I>Fri Sep 28 12:42:11 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023483.html">[nycphp-talk] Not-so-subtle attack on PHP
</A></li>
        <LI>Next message: <A HREF="023486.html">[nycphp-talk] Not-so-subtle attack on PHP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23485">[ date ]</a>
              <a href="thread.html#23485">[ thread ]</a>
              <a href="subject.html#23485">[ subject ]</a>
              <a href="author.html#23485">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://lists.nyphp.org/mailman/listinfo/talk">bz-gmort at beezifies.com</A> wrote:
&gt;<i> Kenneth Downs wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> The focus is on &quot;...does not let them do anything they can't do 
</I>&gt;&gt;<i> anyway....&quot;   
</I>&gt;<i>
</I>&gt;&gt;<i> If the hacker wants to test the SQL injection abilities, let them.  
</I>&gt;<i> &gt;Let them have fun.  Let them learn.  The real question is, can they
</I>&gt;<i> &gt;do harm?  And the answer is NO, not if they are connected to the
</I>&gt;<i> &gt;database with an account that has limited security abilities.
</I>&gt;<i>
</I>&gt;<i> Hmm, I would say tricking someone into wiping out all patient records 
</I>&gt;<i> by having them click a custom crafted link which uses their authority 
</I>&gt;<i> to wipe every record in the database(since they have delete authority) 
</I>&gt;<i> would be harm.
</I>
....but of course we want to prevent session hijacking and forged urls 
no matter what the security mechanism, right? 

...and I assume your database has foreign keys and delete constraints 
that would prevent orphaning all of those customers' orders, right?

...and finally, who is it that is connecting with the ability to wipe 
every record in the database?

&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;&gt;<i> Hmm, I think in terms of online stores and credits.  
</I>
The nature of the application does not determine the security model, 
anymore than it determines the language.  We don't use PHP for retail 
and Java for wholesale.  The nature of the app simply determines the 
security assignments made, just as it determines what actual PHP or Java 
we write.


&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Looking over your project website, it seems your doing this with 
</I>&gt;<i> views, correct?
</I>
Column and row-level security, yes.

&gt;<i>
</I>&gt;<i> I also note your using Postgress as your DB Engine.  Is it possible to 
</I>&gt;<i> provide the same type of security through views in MySQL(to be honest, 
</I>&gt;<i> due to the large number of v4 servers out there, I haven't kept up 
</I>&gt;<i> with V5 in regards to views)
</I>
Prior to version 5, mySQL lacked so many basic database features that it 
was just not in the running.  That is why Andromeda uses Postgres (I 
certainly did not pick Postgres so I could enjoy opting out of what 
99.9% of the community is using, but it lets me deliver work to my 
customers).  With version 5 the non-MySQL world is looking at it and 
saying, &quot;Hmmm, they're getting there, i'll be interested in looking at 
version 6 or 7.&quot;

&gt;<i>
</I>&gt;<i> Row and column level security wouldn't help from an online store 
</I>&gt;<i> perspective.
</I>
See comment above.  It's not about the kind of application. 

To give an analogy, lots of people don't think Javascript handles 
inheritance because there is no class.  Then they find out about 
prototypes and they say, &quot;Oh, ok, there is a way to do everything, it's 
just different.&quot;  Now, whether or not its *better*, well I won't comment 
on that.

Same goes for database security. There is a way to do everything you can 
possibly want to do.  The stunning and obvious fact that I will keep 
repeating is, /it all comes down to table permission in the end 
anyway!/  Most people just don't think that way, so they can't see how 
to design in.  They think in terms of, &quot;Who should be allowed to run 
this program that does these powerful and dangerous actions?&quot;  I will 
claim that putting security directly into the database is better than 
any other way because it /does what is needed in the end with the least 
possible work./


&gt;<i> You could establish a level of this security through triggers, for 
</I>&gt;<i> example in a credit based system, instead of updating credits 
</I>&gt;<i> directly, you could do inserts into a purchase table and that table 
</I>&gt;<i> has a trigger to update the credits based on the package purchased.
</I>
More or less, yes.  A public user is not allowed to write to the items 
availability table.  But he can insert a line into the orders table 
(which is always stamped with his user_id), and a trigger fires that 
decrements the availability. 

&gt;<i>
</I>&gt;<i> I'm not disputing that your model is a good model to follow where 
</I>&gt;<i> feasible(a database server where you can create user accounts for 
</I>&gt;<i> every user), and given unlimited funds of course it should always be 
</I>&gt;<i> implemented.  But even this method doesn't eliminate problems with SQL 
</I>&gt;<i> injection, it minimizes them(depending on the application design, this 
</I>&gt;<i> may or may not result in fairly comprehensive protection.)
</I>
You are making the classic &quot;Javascript can't do OO because it doesn't 
have classes&quot; mistake.  Andromeda systems costs less to develop, are 
more secure, and easier to document than any code-centric alternative, 
precisely because of the radical DRY (don't repeat yourself) element of 
our database design.  A single spec details table structure, 
calculations, and security, and the builder builds the database for me.

On a completely off-topic segue, the new UI that I showed off at LIPHP 
is really cool, I'll be making that public today or tomorrow, it really 
shows off the approach.



&gt;<i>
</I>&gt;<i> I wonder how difficult it would be to design a functional application 
</I>&gt;<i> that would work both in the shared hosting/single db user model AND a 
</I>&gt;<i> dedicated server/multi user model, and would there even be a market 
</I>&gt;<i> for such an app(market defined as people who would use it in both modes)
</I>
Actually an Andromeda node can host any number of applications, private 
business apps and public sites both (as SDS servers in fact do), with 
multiple instances of the same apps and multiple versions of the same 
apps all running simultaneously.  All database users are fully isolated 
into their individual apps.


-- 
Kenneth Downs
Secure Data Software, Inc.
www.secdat.com    www.andromeda-project.org
631-689-7200   Fax: 631-689-0527
cell: 631-379-0010

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20070928/f6ff80e3/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20070928/f6ff80e3/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023483.html">[nycphp-talk] Not-so-subtle attack on PHP
</A></li>
	<LI>Next message: <A HREF="023486.html">[nycphp-talk] Not-so-subtle attack on PHP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23485">[ date ]</a>
              <a href="thread.html#23485">[ thread ]</a>
              <a href="subject.html#23485">[ subject ]</a>
              <a href="author.html#23485">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

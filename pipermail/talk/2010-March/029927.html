<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Adding indexes
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2010-March/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Adding%20indexes&In-Reply-To=%3C4BA7879B.50905%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029926.html">
   <LINK REL="Next"  HREF="029929.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Adding indexes</H1>
    <B>Anthony W</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Adding%20indexes&In-Reply-To=%3C4BA7879B.50905%40gmail.com%3E"
       TITLE="[nycphp-talk] Adding indexes">ant92083 at gmail.com
       </A><BR>
    <I>Mon Mar 22 11:07:07 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="029926.html">[nycphp-talk] Adding indexes
</A></li>
        <LI>Next message: <A HREF="029929.html">[nycphp-talk] Adding indexes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29927">[ date ]</a>
              <a href="thread.html#29927">[ thread ]</a>
              <a href="subject.html#29927">[ subject ]</a>
              <a href="author.html#29927">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It depends on where the join is occurring.  If you have a HABTM 
relationship between the join tables then a index should be added to the 
pivot table.  If not then I would assume that the column you are joining 
on would be a candidate for an index.  Do these tables have a PRIMARY 
KEY already established?  Take for example the following tables:


/* create our habtm tags table */
CREATE TABLE IF NOT EXISTS pictures_tags (
  picture_id int(11) NOT NULL,
  tag_id int(11) NOT NULL,
  PRIMARY KEY  (`picture_id`,`tag_id`),
  KEY `fk_tag_id` (`tag_id`),
  KEY `fk_picture_id` (`picture_id`)
);

On the pivot table I have added two foreign key constraints for look ups 
either by tag or by picture on the pivot table.  With an average load of 
ten pictures per tag it loads the picture set of ten tags in about .003 
seconds.  When adding indexes I never have found a magic formula to 
always use.  Just look for the basics (PRIMARY KEY) and then move onto 
any columns that you are joining on.

Hope this helps.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029926.html">[nycphp-talk] Adding indexes
</A></li>
	<LI>Next message: <A HREF="029929.html">[nycphp-talk] Adding indexes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29927">[ date ]</a>
              <a href="thread.html#29927">[ thread ]</a>
              <a href="subject.html#29927">[ subject ]</a>
              <a href="author.html#29927">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

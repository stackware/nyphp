<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Adding indexes
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2010-March/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Adding%20indexes&In-Reply-To=%3C3F65D9AC-9607-4255-8762-CB4B177B30EA%40beaffinitive.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029932.html">
   <LINK REL="Next"  HREF="029935.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Adding indexes</H1>
    <B>Rob Marscher</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Adding%20indexes&In-Reply-To=%3C3F65D9AC-9607-4255-8762-CB4B177B30EA%40beaffinitive.com%3E"
       TITLE="[nycphp-talk] Adding indexes">rmarscher at beaffinitive.com
       </A><BR>
    <I>Mon Mar 22 13:42:14 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="029932.html">[nycphp-talk] Adding indexes
</A></li>
        <LI>Next message: <A HREF="029935.html">[nycphp-talk] Adding indexes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29933">[ date ]</a>
              <a href="thread.html#29933">[ thread ]</a>
              <a href="subject.html#29933">[ subject ]</a>
              <a href="author.html#29933">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mar 22, 2010, at 1:31 PM, John Campbell wrote:
...snip...
&gt;<i> 1:  add an index on the timestamp 'leave'
</I>...snip...
&gt;<i> This is because mysql never uses indexes when a function is on the
</I>&gt;<i> left hand side.
</I>&gt;<i> There is no &quot;formula&quot; to follow, but you need to intuitively
</I>&gt;<i> understand how relational databases work to write fast queries.  As a
</I>&gt;<i> starting point, 1. index foreign keys
</I>&gt;<i> 2. no formulas on the left side of a where statement
</I>&gt;<i> 3. create indexes for columns in the where clause.
</I>
One caveat to this is that mysql will only use one index per table in your query.  So it can either use the index on the foreign key for the join, or it can use the index on the column in the where clause.  Sometimes, by creating a multi-column index, it's able to use that index both for the join and the where clause... but it doesn't seem to work in all cases.  The query profiler can help you figure out what mysql is doing - <A HREF="http://dev.mysql.com/tech-resources/articles/using-new-query-profiler.html.">http://dev.mysql.com/tech-resources/articles/using-new-query-profiler.html.</A>  This gives you a lot more info than EXPLAIN.  With EXPLAIN, you can only check the key_len to try to figure out how much of your index is getting used.

By the way, you might want to make posts like this to the nyphp-mysql list because it seems to be watched by some experts in the mysql community.
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029932.html">[nycphp-talk] Adding indexes
</A></li>
	<LI>Next message: <A HREF="029935.html">[nycphp-talk] Adding indexes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29933">[ date ]</a>
              <a href="thread.html#29933">[ thread ]</a>
              <a href="subject.html#29933">[ subject ]</a>
              <a href="author.html#29933">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] PHP 4.3RC2 Module and Apache 2.0 revisited
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2002-December/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%204.3RC2%20Module%20and%20Apache%202.0%20revisited&In-Reply-To=%3C20021202041409.97346.qmail%40web12803.mail.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001539.html">
   <LINK REL="Next"  HREF="001541.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] PHP 4.3RC2 Module and Apache 2.0 revisited</H1>
    <B>Hans Zaunere</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%204.3RC2%20Module%20and%20Apache%202.0%20revisited&In-Reply-To=%3C20021202041409.97346.qmail%40web12803.mail.yahoo.com%3E"
       TITLE="[nycphp-talk] PHP 4.3RC2 Module and Apache 2.0 revisited">hans at nyphp.org
       </A><BR>
    <I>Sun Dec  1 23:14:09 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001539.html">[nycphp-talk] PHP 4.3RC2 Module and Apache 2.0 revisited
</A></li>
        <LI>Next message: <A HREF="001541.html">Anyone buying this? Linux vs. Win2k
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1540">[ date ]</a>
              <a href="thread.html#1540">[ thread ]</a>
              <a href="subject.html#1540">[ subject ]</a>
              <a href="author.html#1540">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
--- evan heller &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">evan.heller at alum.rpi.edu</A>&gt; wrote:
&gt;<i> Hi:
</I>&gt;<i> 
</I>&gt;<i> Does anyone know why apache would corrupt files
</I>&gt;<i> over a few K. I am running Apache 2.0 with php as
</I>&gt;<i> a module and with virtual hosts. The upload
</I>&gt;<i> directory is set correctly and I'm running with
</I>&gt;<i> the open_basedir and safemode on.
</I>
As noted in other posts, be sure to run Apache 2 in it's classic prefork
process model (<A HREF="http://httpd.apache.org/docs-2.0/mod/#core">http://httpd.apache.org/docs-2.0/mod/#core</A>).  I've had issues
with threads on FreeBSD, but seems to work well on RH 7.3; no idea what the
process model under Windows (mpm_winnt) means, however.  Either way, AFAIK
PHP isn't thread-safe yet, so go with the prefork process module.

&gt;<i> Any thoughts or ideas why images would be
</I>&gt;<i> corrupted. For example, I have the system output
</I>&gt;<i> bad data and it says that a file sized: 63,887
</I>&gt;<i> bytes gets uploaded as 113,231 bytes?? Anyhow, I'm
</I>&gt;<i> confused why this would happen. Any help would be
</I>&gt;<i> of great assistance.
</I>
Although the size increase seems a bit large, this sounds like it could be a
binary safety issue.  UNIX doesn't make a distinction for most file
operations but Windows will.  Make sure you open the file properly, something
like: fopen('pathtofile', 'rb') (the b is vital, as noted in the second Note
at <A HREF="http://www.php.net/manual/en/function.fopen.php">http://www.php.net/manual/en/function.fopen.php</A>

And make sure that the other functions you are using within PHP to operate on
the file's data are specified as binary safe (not fgets(), but rather
fread(), for example) and the Note at
<A HREF="http://www.php.net/manual/en/function.fread.php">http://www.php.net/manual/en/function.fread.php</A>

Best,


=====
Hans Zaunere
New York PHP
<A HREF="../../../index.html">http://nyphp.org</A>
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">hans at nyphp.org</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001539.html">[nycphp-talk] PHP 4.3RC2 Module and Apache 2.0 revisited
</A></li>
	<LI>Next message: <A HREF="001541.html">Anyone buying this? Linux vs. Win2k
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1540">[ date ]</a>
              <a href="thread.html#1540">[ thread ]</a>
              <a href="subject.html#1540">[ subject ]</a>
              <a href="author.html#1540">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Compressing PDF's
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-July/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Compressing%20PDF%27s&In-Reply-To=%3C003501c346bc%24f7883280%24de01a8c0%40duron.lan.newageweb.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004168.html">
   <LINK REL="Next"  HREF="004174.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Compressing PDF's</H1>
    <B>Jerry Kapron</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Compressing%20PDF%27s&In-Reply-To=%3C003501c346bc%24f7883280%24de01a8c0%40duron.lan.newageweb.com%3E"
       TITLE="[nycphp-talk] Compressing PDF's">nyphp at NewAgeWeb.com
       </A><BR>
    <I>Thu Jul 10 04:26:30 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004168.html">[nycphp-talk] XML &lt;-&gt; Globals
</A></li>
        <LI>Next message: <A HREF="004174.html">[nycphp-talk] embedding one web page in another
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4173">[ date ]</a>
              <a href="thread.html#4173">[ thread ]</a>
              <a href="subject.html#4173">[ subject ]</a>
              <a href="author.html#4173">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>Hans Zaunere wrote:
</I>&gt;<i>Since PDF is just text, why not gzip, bzip2 or even zip?
</I> 
I know I wasn't specific enough, when I said &quot;compress&quot;.
Raw PDF format is just text. However contents of a PDF file can be optimized (compressed). I'm not looking to create a .zip or .gz file (that would be a nobrainer). I want to compress the PDF file &quot;internally&quot;. Most PDF's created with Acrobat/Distiller are already compressed.
If you download this PDF:
<A HREF="http://www.tax.state.ny.us/pdf/2000/wt/nys45mn_100.pdf">http://www.tax.state.ny.us/pdf/2000/wt/nys45mn_100.pdf</A>
and open it in a text editor, you'll see that some parts are binary.
Those are FlateCoded content streams.
 
The file I'm working with was created with Adobe Illustrator and saved as raw PDF (text only). I need raw PDF to use it as a template (by preg_replacing some &quot;variable text&quot;).  The problem is that the file is 700Kb (way too big for this web app).  When I open it and save optimized in Adobe Distiller, the size is reduced to 195Kb, but the compressed file can not be used directly as a template anymore.
I could take two different routes:
1) use the raw PDF file as a template &gt; preg_replace some text &gt; compress the new PDF &gt; send it to the client
 
2) use an already compressed PDF file as a template &gt; fetch and uncompress the FlateCoded streams &gt; preg_replace some text &gt; recompress the modified content &gt; send the new PDF to the client.
 
I know I could also use PDF4PHP to create a compressed PDF file from scratch but for performance reasons I really wanted to stick to using a template file. I searched the web but could not find any ready code specifically for what I want to do. I'm looking under the hood of the PDF4PHP class (it support FlateDecode compression) to get an idea how to uncompress the compressed streams. Any suggestions, pointers or code would be greatly appreciated.
 
Cheers,
Jerry

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20030710/7cbc7f0d/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20030710/7cbc7f0d/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004168.html">[nycphp-talk] XML &lt;-&gt; Globals
</A></li>
	<LI>Next message: <A HREF="004174.html">[nycphp-talk] embedding one web page in another
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4173">[ date ]</a>
              <a href="thread.html#4173">[ thread ]</a>
              <a href="subject.html#4173">[ subject ]</a>
              <a href="author.html#4173">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

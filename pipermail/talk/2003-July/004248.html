<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] pre MySQL upgrade sanity check
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-July/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20pre%20MySQL%20upgrade%20sanity%20check&In-Reply-To=%3CPine.NEB.4.55.0307161529190.15895%40panix5.panix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004242.html">
   <LINK REL="Next"  HREF="004251.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] pre MySQL upgrade sanity check</H1>
    <B>David Mintz</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20pre%20MySQL%20upgrade%20sanity%20check&In-Reply-To=%3CPine.NEB.4.55.0307161529190.15895%40panix5.panix.com%3E"
       TITLE="[nycphp-talk] pre MySQL upgrade sanity check">dmintz at panix.com
       </A><BR>
    <I>Wed Jul 16 15:34:58 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004242.html">[nycphp-talk] pre MySQL upgrade sanity check
</A></li>
        <LI>Next message: <A HREF="004251.html">[nycphp-talk] Loading CVS files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4248">[ date ]</a>
              <a href="thread.html#4248">[ thread ]</a>
              <a href="subject.html#4248">[ subject ]</a>
              <a href="author.html#4248">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Thanks Hans for your unfailing helpfulness (perhaps combined with a
self-interested quest for entertainment to ease the boredom of your
training course (-: ?)

I can feel my heart rate picking up, that surely means I'm gonna do it.
Who needs hard drugs when we have this stuff? Woo hoooo!

	David



On Wed, 16 Jul 2003, Hans Zaunere wrote:

&gt;<i>
</I>&gt;<i> As I sit at an IIS training course...
</I>&gt;<i>
</I>&gt;<i> &gt; 1) shut down mysql and httpd
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 2) I have Mysql client and server installed as RedHat RPMs. Remove these
</I>&gt;<i> &gt; with rpm --erase ... after backing up data.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 3) install MySQL according to
</I>&gt;<i> &gt; <A HREF="http://www.mysql.com/doc/en/Installing_binary.html">http://www.mysql.com/doc/en/Installing_binary.html</A> including
</I>&gt;<i> &gt; post-installation setup
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 4) rebuild PHP with ./configure --prefix=/usr/local
</I>&gt;<i> &gt; --with-apxs=/usr/local/apache/bin/apxs --with-mysql=/usr/local/mysql
</I>&gt;<i> &gt; [--with-other-stuff etc]
</I>&gt;<i>
</I>&gt;<i> I always install php into /usr/local/php which can be handy if you have
</I>&gt;<i> multiple installs (for instance, I have distinct DSO and CLI compiles) but this
</I>&gt;<i> is of course just a preferance.  I also like to use the php.ini-recommended
</I>&gt;<i> file, so:  cp PHPSRC/php.ini-
</I>&gt;<i> recommended /where/you/installed/to/php/lib/php.ini  (or something like that)
</I>&gt;<i>
</I>&gt;<i> &gt; followed by make; make install
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 5) my httpd.conf has been working fine; leave it alone
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 6) restart httpd and mysql
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 7) crack open a beer
</I>&gt;<i>
</I>&gt;<i> Yes, #7 is vital.  Something else you may want to consider:  since it's
</I>&gt;<i> a &quot;considerable&quot; upgrade from MySQL 3.x to 4.x, I'm always most comfortable
</I>&gt;<i> rebuilding the databases/tables in 4.x (especially if they aren't that big).
</I>&gt;<i> This may just be paranoia, but at a minimum you'll get slightly optimized
</I>&gt;<i> tables.  There are a couple ways of doing this; here's one that I liked:
</I>&gt;<i>
</I>&gt;<i> mysqldump -u 'theuser' -p 'thepassword' --quick --allow-keywords -h thehost.com
</I>&gt;<i> db1 table1 | mysql -u 'root' -p 'passwd' --database=db1new
</I>&gt;<i>
</I>&gt;<i> There are of course variations on the theme, from doing multiple DBs, to
</I>&gt;<i> tables, users, etc.
</I>&gt;<i>
</I>

---
David Mintz
<A HREF="http://davidmintz.org/">http://davidmintz.org/</A>
Email: See <A HREF="http://dmintzweb.com/whitelist.php">http://dmintzweb.com/whitelist.php</A> first!

     &quot;You want me to pour the beer, Frank?&quot;

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004242.html">[nycphp-talk] pre MySQL upgrade sanity check
</A></li>
	<LI>Next message: <A HREF="004251.html">[nycphp-talk] Loading CVS files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4248">[ date ]</a>
              <a href="thread.html#4248">[ thread ]</a>
              <a href="subject.html#4248">[ subject ]</a>
              <a href="author.html#4248">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

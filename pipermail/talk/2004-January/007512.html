<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] back button, page timeout, sessions
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2004-January/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20back%20button%2C%20page%20timeout%2C%20sessions&In-Reply-To=%3C401ABC02.4010307%40phpwerx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007504.html">
   <LINK REL="Next"  HREF="007513.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] back button, page timeout, sessions</H1>
    <B>Dan Cech</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20back%20button%2C%20page%20timeout%2C%20sessions&In-Reply-To=%3C401ABC02.4010307%40phpwerx.net%3E"
       TITLE="[nycphp-talk] back button, page timeout, sessions">dcech at phpwerx.net
       </A><BR>
    <I>Fri Jan 30 15:18:10 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007504.html">[nycphp-talk] back button, page timeout, sessions
</A></li>
        <LI>Next message: <A HREF="007513.html">[nycphp-talk] back button, page timeout, sessions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7512">[ date ]</a>
              <a href="thread.html#7512">[ thread ]</a>
              <a href="subject.html#7512">[ subject ]</a>
              <a href="author.html#7512">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Chris Shiflett wrote:

&gt;<i> --- Dan Cech &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">dcech at phpwerx.net</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i>I tend to use some cache control headers:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Expires:&#183;Fri,&#183;30&#183;Jan&#183;2004&#183;17:39:20&#183;GMT
</I>&gt;&gt;<i>Cache-Control:&#183;private,&#183;no-store,&#183;no-cache,&#183;no-transform,
</I>&gt;&gt;<i>&#183;must-revalidate
</I>&gt;&gt;<i>Cache-Control:&#183;max-age=1,&#183;s-maxage=1,&#183;pre-check=1,&#183;post-check=1
</I>&gt;&gt;<i>Pragma:&#183;no-cache
</I>&gt;<i> 
</I>&gt;<i> I've seen this approach before by people who just want to eliminate
</I>&gt;<i> caching altogether. That's not always best, and this question actually
</I>&gt;<i> highlights one reason why. Using no-store is pretty absolute, although
</I>&gt;<i> different browsers interpret this in different ways (see
</I>&gt;<i> <A HREF="http://lists.nyphp.org/pipermail/talk/2003-March/002828.html">http://lists.nyphp.org/pipermail/talk/2003-March/002828.html</A>). In general,
</I>&gt;<i> it is better to understand the various directives for Cache-Control and
</I>&gt;<i> use the ones most appropriate for your situation.
</I>
You can find the source for my header-generation functions at:

<A HREF="http://php.phpwerx.net/">http://php.phpwerx.net/</A>

The combination of different headers above should give the desired 
effect on the majority of browsers for web-application type situations, 
that is when you wish to always see a 'fresh' copy of a page.

&gt;&gt;<i>Other than than I also use a per-form token to ensure that a given form 
</I>&gt;&gt;<i>cannot be submitted twice.
</I>&gt;<i> 
</I>&gt;<i> This can ensure that a form is not submitted twice (as well as help to
</I>&gt;<i> protect against CSRF and similar attacks), but it doesn't help the &quot;page
</I>&gt;<i> has expired&quot; problem that was originally asked. The most common approach
</I>&gt;<i> is to use an intermediate page for processing, so that the POST request
</I>&gt;<i> does not exist in the browser's history mechanism.
</I>
Fair enough, I do see what you mean in terms of the browser history. 
Here again it really depends on the type of application you are 
building, as to whether or not you want to allow the users to go 'back' 
to a previous page.

If this is desirable then the processing page approach has advantages, 
however if you are speaking in terms of a 'web application', you are 
just as well off avoiding the extra request cycle and using a 
token-based (or similar) system.

As usual the best solution is dependent on the exact problem you are 
trying to solve.

Dan



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007504.html">[nycphp-talk] back button, page timeout, sessions
</A></li>
	<LI>Next message: <A HREF="007513.html">[nycphp-talk] back button, page timeout, sessions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7512">[ date ]</a>
              <a href="thread.html#7512">[ thread ]</a>
              <a href="subject.html#7512">[ subject ]</a>
              <a href="author.html#7512">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Urgent: Help in Defending Attack
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Urgent%3A%20Help%20in%20Defending%20Attack&In-Reply-To=%3C200802281110.14312.jellicle%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024971.html">
   <LINK REL="Next"  HREF="024972.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Urgent: Help in Defending Attack</H1>
    <B>Michael Sims</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Urgent%3A%20Help%20in%20Defending%20Attack&In-Reply-To=%3C200802281110.14312.jellicle%40gmail.com%3E"
       TITLE="[nycphp-talk] Urgent: Help in Defending Attack">jellicle at gmail.com
       </A><BR>
    <I>Thu Feb 28 11:10:14 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="024971.html">[nycphp-talk] Urgent: Help in Defending Attack
</A></li>
        <LI>Next message: <A HREF="024972.html">[nycphp-talk] Urgent: Help in Defending Attack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24969">[ date ]</a>
              <a href="thread.html#24969">[ thread ]</a>
              <a href="subject.html#24969">[ subject ]</a>
              <a href="author.html#24969">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On February 28, 2008, Randal Rust wrote:
&gt;<i> On Thu, Feb 28, 2008 at 10:33 AM, Cliff Hirsch &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">cliff at pinestream.com</A>&gt; 
</I>wrote:
&gt;<i> &gt;  What kind of hit? Does the url have &quot;attack&quot; strings? Check out phpids
</I>&gt;<i> &gt; -- might help.
</I>&gt;<i>
</I>&gt;<i> here is what i know:
</I>&gt;<i>
</I>&gt;<i> 1. got up this AM and was getting error messages that there are too
</I>&gt;<i> many connections to the database
</I>&gt;<i> 2. the hosting company looked at the server logs and sent me this:
</I>&gt;<i>
</I>&gt;<i> 7-0 28568 0/1/1 W 0.08 5 0 0.0 0.01 0.01 64.185.201.77
</I>&gt;<i> ohiohistorycentral.org GET /entry.php?rec=891 HTTP/1.0
</I>
You know, all modern browsers - for the last ten years - use http/1.1 rather 
than 1.0.  So you can probably just discard all http/1.0 requests as being 
clearly the work of machines rather than humans.

&gt;<i> 16-0 28585 0/2/2 W 0.08 2 0 0.0 0.03 0.03 127.0.0.1
</I>&gt;<i> localhost.localdomain GET /dsm-server-status HTTP/1.0
</I>
Your monitoring software will stop working if you do.

Also, if you're running a niche site which it appears you are, feel free to 
ban areas of the world that annoy you.  I see you have requests coming in 
from Mumbai, Japan, Spain, etc.  It seems unlikely that these are people 
actually interested in the history of Ohio.  So feel free, at the server or 
Apache level, to just deny requests from large swathes of the IP address 
space.  You won't lose many (or any) legitimate viewers.

You should solve this problem at the server or Apache level (or higher), not 
at the PHP level.  I don't know how much control you have over the server, 
but if it's your machine, you can use, e.g., hosts.deny to block IP address 
ranges that annoy you.


Michael Sims


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024971.html">[nycphp-talk] Urgent: Help in Defending Attack
</A></li>
	<LI>Next message: <A HREF="024972.html">[nycphp-talk] Urgent: Help in Defending Attack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24969">[ date ]</a>
              <a href="thread.html#24969">[ thread ]</a>
              <a href="subject.html#24969">[ subject ]</a>
              <a href="author.html#24969">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

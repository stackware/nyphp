<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] javascript calling php function -- now question on	Ajax
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20javascript%20calling%20php%20function%20--%20now%20question%20on%0A%09Ajax&In-Reply-To=%3C655441.22711.qm%40web50202.mail.re2.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024906.html">
   <LINK REL="Next"  HREF="024909.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] javascript calling php function -- now question on	Ajax</H1>
    <B>Susan Shemin</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20javascript%20calling%20php%20function%20--%20now%20question%20on%0A%09Ajax&In-Reply-To=%3C655441.22711.qm%40web50202.mail.re2.yahoo.com%3E"
       TITLE="[nycphp-talk] javascript calling php function -- now question on	Ajax">susan_shemin at yahoo.com
       </A><BR>
    <I>Tue Feb 19 14:10:55 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="024906.html">[nycphp-talk] javascript calling php function -- now	question	on Ajax
</A></li>
        <LI>Next message: <A HREF="024909.html">[nycphp-talk] Mod_rewrite problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24908">[ date ]</a>
              <a href="thread.html#24908">[ thread ]</a>
              <a href="subject.html#24908">[ subject ]</a>
              <a href="author.html#24908">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The most direct answer to my question ended up in my spam folder!  Because subsequent emails referred to Austin's reply, I went hunting for it, and there it was in spam.

I'm into keeping programming as simple as possible except where a more complex solution is warranted, and this is workable.

Thanks for all your replies!

Susan


----- Original Message ----
From: Austin Smith &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">asmith at observer.com</A>&gt;
To: NYPHP Talk &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>&gt;
Sent: Monday, February 18, 2008 10:34:13 PM
Subject: Re: [nycphp-talk] javascript calling php function -- now question on Ajax

Not to discourage you from using xAjax, which I've seen put to fine use, it seems to me like you're adding Javascript where PHP would do the job just fine, all by itself. Assuming that your anchor element is really going to direct the user off the page, you might do well to implement something like this:

&lt;a href=&quot;redirect.php?website=<A HREF="http://www.nyphp.com&amp;link=nyphp">http://www.nyphp.com&amp;link=nyphp</A>&quot;&gt;NY PHP&lt;/a&gt;

Then redirect.php would be the contents of your aforementioned code. You'd also have to call your capture_click function yourself in the PHP code with your two GET variables as arguments--and be sure to run them through mysql_real_escape_string.

Plenty of sites use this method to track clicked links off-site, especially when they monetize their clicks.

Have you considered a simple solution like Google Analytics? I'm no web stats/SEO guru, but our sales and marketing people like it a lot... and it's free.

Hope that helps a bit.
Austin


On Feb 18, 2008 11:58 PM, Susan Shemin &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">susan_shemin at yahoo.com</A>&gt; wrote:

thanks, Mike and Ken
 
first off, I'm not using a form (so no POST); the link is in an anchor tag.  I could put a form around it, but that seems to me making a simple link complex.
 
I want to run this php code when the link is clicked 
 
 $webpage=&quot;&quot;;
 $link_clicked=&quot;&quot;;
 
Function capture_click($webpage,$link_clicked)
{

     $entry_date=date(&quot;m-d-y-H-i&quot;);
 
      $sql = &quot;INSERT INTO click_details &quot; .
             &quot;SET webpage='$webpage', link_clicked='$link_clicked', entry_date='$entry_date'&quot;;
      $ok = mysql_query($sql);

      if ($ok) {
        //error checking
      }
}
?&gt;

and then the anchor text (or how I guessed would work)
 
&lt;a href=www.nyphp.org onclick=&quot;&lt;?php capture_click(name_of_my_webpage,link_name); ?&gt;&quot;;&gt;info on PHP&lt;/a&gt;

 




-----Inline Attachment Follows-----

_______________________________________________
New York PHP Community Talk Mailing List
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>

NYPHPCon 2006 Presentations Online
<A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>

Show Your Participation in New York PHP
<A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20080219/41e1ff7d/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20080219/41e1ff7d/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024906.html">[nycphp-talk] javascript calling php function -- now	question	on Ajax
</A></li>
	<LI>Next message: <A HREF="024909.html">[nycphp-talk] Mod_rewrite problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24908">[ date ]</a>
              <a href="thread.html#24908">[ thread ]</a>
              <a href="subject.html#24908">[ subject ]</a>
              <a href="author.html#24908">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

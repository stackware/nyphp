<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Drupal Performance
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2011-October/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Drupal%20Performance&In-Reply-To=%3C20111006023109.GA16655%40panix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030917.html">
   <LINK REL="Next"  HREF="030921.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Drupal Performance</H1>
    <B>Spencer Thomas Hoffman</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Drupal%20Performance&In-Reply-To=%3C20111006023109.GA16655%40panix.com%3E"
       TITLE="[nycphp-talk] Drupal Performance">sth at panix.com
       </A><BR>
    <I>Wed Oct  5 22:31:09 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030917.html">[nycphp-talk] Drupal Performance
</A></li>
        <LI>Next message: <A HREF="030921.html">[nycphp-talk] Drupal Performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30918">[ date ]</a>
              <a href="thread.html#30918">[ thread ]</a>
              <a href="subject.html#30918">[ subject ]</a>
              <a href="author.html#30918">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Oct 05, 2011 at 10:02:21PM -0400, Russ Demarest wrote:
&gt;<i> 	I am working on porting a site from a custom LAMP code base to Drupal 7. Drupal is running pretty slow on the same server config/VM that has hosted the site nicely for years. I have enabled Drupal caching but things are still sluggish. I am trying to determine what a reasonable hardware config would be to run Drupal. We currently run on a fairly standard LAMP stack and serve around 500k pages a month on a VM with 512MB of RAM. 
</I>&gt;<i> 
</I>&gt;<i> 	Essentially my question is, how much hardware does it take to run Drupal compared to a straight php/mysql site? Also are there some configuration changes I could make that would speed Drupal up, other than the standard stuff I have found on the web? Any insight or comments or ideas would be appreciated.
</I>&gt;<i> 
</I>
You don't have a great deal of detail about your setup, custom code,
what response times (in ms) you expect, but here are some broad things
to think about.

1) Look at your modules' memory footprint. There are modules to sort of
help you do this, but the &quot;turn one off then look at your web server
memory usage&quot; is often faster. Turning off modules or writing custom,
optimized code does sort of defeat the purpose of using a modular system
like Drupal, but it's sometimes unavoidable with piggish modules (and
it may just be small number or single culprit.)

2) Aside from normal caching, make sure you're using minified JS,
gzipped HTML output, APC, a reverse proxy(Squid or a module like
Varnish) for static content and/or something like Boost, separate hostnames
for different sorts of content to increase parallelism, etc. The Page Speed
module for Chrome and Firefox is helpful here. Depending on your
specific site, memcache can also be helpful.

3) Check your MySQL query cache, key cache and friends. tuning-primer.sh
is very handy for this.

The other considerations are of course your VM host/machine. Are you sharing
the system with many others? Has their usage ticked up recently? Is your
host's (or your own) internal/external networks' usage increased? With
the ease of cloud rollouts these days, you can easily check it by
deploying a copy of your setup elsewhere (AWS &lt;-&gt; RS, for example) to
quickly sanity check your hosting environment.

As far as whether your setup is underpowered, it's hard to huge without
knowing the specifics of your site. Highly dynamic? Lots of complex
DB queries? 

Anyway, that should get you started.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030917.html">[nycphp-talk] Drupal Performance
</A></li>
	<LI>Next message: <A HREF="030921.html">[nycphp-talk] Drupal Performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30918">[ date ]</a>
              <a href="thread.html#30918">[ thread ]</a>
              <a href="subject.html#30918">[ subject ]</a>
              <a href="author.html#30918">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

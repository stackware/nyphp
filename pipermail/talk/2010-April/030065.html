<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Deploying PHP Applications
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2010-April/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Deploying%20PHP%20Applications&In-Reply-To=%3C4BD9F045.2010900%40devonianfarm.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030064.html">
   <LINK REL="Next"  HREF="030057.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Deploying PHP Applications</H1>
    <B>Paul A Houle</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Deploying%20PHP%20Applications&In-Reply-To=%3C4BD9F045.2010900%40devonianfarm.com%3E"
       TITLE="[nycphp-talk] Deploying PHP Applications">paul at devonianfarm.com
       </A><BR>
    <I>Thu Apr 29 16:47:01 EDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="030064.html">[nycphp-talk] Deploying PHP Applications
</A></li>
        <LI>Next message: <A HREF="030057.html">[nycphp-talk] Deploying PHP Applications
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30065">[ date ]</a>
              <a href="thread.html#30065">[ thread ]</a>
              <a href="subject.html#30065">[ subject ]</a>
              <a href="author.html#30065">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Anthony Papillion wrote:
&gt;<i>
</I>&gt;<i> So I&#8217;m a bit curious and perhaps I&#8217;m missing the point here (probably 
</I>&gt;<i> am) but why go through all this hassle? Why not just do a straight FTP 
</I>&gt;<i> of the files from the staging machine to the deployment machine? Does 
</I>&gt;<i> using checkin/check out benefit us in some way besides the original 
</I>&gt;<i> file integrity and management?
</I>&gt;<i>
</I>&gt;<i> Anthony Papillion
</I>&gt;<i>
</I>Well, FTP has the advantage of inertia. In a lot of IT departments, FTP 
is still considered a viable internet protocol, despite numerous 
problems: (i) it's over-complicated nature means that FTP clients and 
servers tend to be full of security flaws and (ii) it's just not 
compatible with the way the internet has worked ever since 1995 or so 
(NAT, Firewalls, etc.)

The inventors of 'SFTP' pulled a brilliant marketing coup by 
incorporated the three letters 'FTP' into the name of a modern protocol 
that has no relationship whatsoever with FTP.

Now, I'm assuming here that we're working in PHP so that there isn't any 
compilation, need to kick the server to unload Java classes, etc. 
Deployment issues become more complex as you have more artifacts like 
that. There's also the issue of how you deploy changes to database 
schemas and content.

If a system is busy, for one thing, I'd be concerned that many FTP-based 
ways of maintaining the state of a system would leave the files in an 
inconsistent state for several seconds to several minutes. There might 
be some some software out there that's smarter, but the obvious thing to 
do that &quot;always works&quot; is to delete the target directory and re-copy it, 
which means the system will be unnecessarily busted for some time. Rsync 
does better, but in my experience git, particularly with a local 
repository, is incredibly fast.

The big advantage for having your production system be 'checked in' is 
that you can make emergency changes directly to the production system, 
and then check them back into source control.

You certainly don't want to make changes in your production system on a 
daily basis, but I've faced situations, particularly when dealing with 
abusive user behavior, a wonky OS on the production machine, or bad 
interactions with external automated systems, where a very small patch 
to the production system (carefully monitored) is the most effective way 
to solve a problem. If your production system is checked in, you can 
manage this sort of change very easily -- you can keep track of what was 
done, when and be able to check it in or back the change out.

I've got a pretty nice system for website deployment on the server that 
serves up

<A HREF="http://ny-pictures.com/">http://ny-pictures.com/</A>

that server isn't heavily loaded yet, so I often run development, 
staging and production environments on the same system. I can deploy new 
instances of my 'CMS' in less than a minute. The only real trouble I've 
got is that I've got some databases that take 30 minutes to mysqldump 
these days... Also I am starting to have a number of things that are 
&quot;compiled&quot; in my system such as metadata that controls the autoloader, 
the data dictionary, and, soon, a cache of commonly autoloaded classes 
that will improve the effectiveness of an opcode cache.

Now, if you're working in a clustered environment, where there are 
multiple copies of the software pushed out to multiple servers, that's a 
whole different game.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030064.html">[nycphp-talk] Deploying PHP Applications
</A></li>
	<LI>Next message: <A HREF="030057.html">[nycphp-talk] Deploying PHP Applications
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30065">[ date ]</a>
              <a href="thread.html#30065">[ thread ]</a>
              <a href="subject.html#30065">[ subject ]</a>
              <a href="author.html#30065">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Building trees
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2006-July/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Building%20trees&In-Reply-To=%3C29da5d150607261623t19e60a74nce86d4d394f6f895%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018770.html">
   <LINK REL="Next"  HREF="018772.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Building trees</H1>
    <B>Brian O'Connor</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Building%20trees&In-Reply-To=%3C29da5d150607261623t19e60a74nce86d4d394f6f895%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] Building trees">gatzby3jr at gmail.com
       </A><BR>
    <I>Wed Jul 26 19:23:33 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018770.html">[nycphp-talk] NYPHP Presentations Updated
</A></li>
        <LI>Next message: <A HREF="018772.html">[nycphp-talk] Building trees
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18771">[ date ]</a>
              <a href="thread.html#18771">[ thread ]</a>
              <a href="subject.html#18771">[ subject ]</a>
              <a href="author.html#18771">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all,

Right now I'm building a site that has a &quot;tree&quot; like structure, and right
now in order to get the children I'm using a recursive function to get them
all, works fine, but that strikes me as inefficient and I'm trying to find a
way to get it with one query, rather than a variable amount of queries based
on how many 'events' a user has.

I looked through the archives of the list to find a thread exactly like
this, but was in 2002 apparently before MySQL had subqueries (and apparently
that's what you need; I'm not sure but that's what I gathered looking
through the responses).

I was wondering if anyone could help me out.

Right now all the events are in a table called 'cal_events', each row has an
id and a parent_id (among other things that I don't think are important for
this).  If you'd like to see the function I can certainly post that as well.

All I do is get all the events that have a parent_id of 0 (top level), loop
through them to get their children, and loop through them to get their
children etc (in order), and indent them as needed on the display side.

Thanks in advance for any ideas.

-- 
Brian O'Connor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20060726/b00292db/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20060726/b00292db/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018770.html">[nycphp-talk] NYPHP Presentations Updated
</A></li>
	<LI>Next message: <A HREF="018772.html">[nycphp-talk] Building trees
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18771">[ date ]</a>
              <a href="thread.html#18771">[ thread ]</a>
              <a href="subject.html#18771">[ subject ]</a>
              <a href="author.html#18771">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

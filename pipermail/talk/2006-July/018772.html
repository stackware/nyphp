<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Building trees
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2006-July/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Building%20trees&In-Reply-To=%3C44C804A9.8020307%40beaffinitive.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018771.html">
   <LINK REL="Next"  HREF="018773.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Building trees</H1>
    <B>Rob Marscher</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Building%20trees&In-Reply-To=%3C44C804A9.8020307%40beaffinitive.com%3E"
       TITLE="[nycphp-talk] Building trees">rmarscher at beaffinitive.com
       </A><BR>
    <I>Wed Jul 26 20:11:21 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018771.html">[nycphp-talk] Building trees
</A></li>
        <LI>Next message: <A HREF="018773.html">[nycphp-talk] Building trees
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18772">[ date ]</a>
              <a href="thread.html#18772">[ thread ]</a>
              <a href="subject.html#18772">[ subject ]</a>
              <a href="author.html#18772">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Maybe try using a modified preorder tree.  This article explains it in 
MySQL/PHP terms - 
&lt;<A HREF="http://www.sitepoint.com/article/hierarchical-data-database/2">http://www.sitepoint.com/article/hierarchical-data-database/2</A>&gt;.  If you 
organize your tree that way, it will prevent the need for recusion.  The 
only downside is it's more difficult to understand and requires more 
queries when adding new nodes because you have to update the numbering 
for the other nodes.  But I recommend it.

FYI, nyphp-mysql is a special list for MySQL related PHP topics - 
&lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/mysql">http://lists.nyphp.org/mailman/listinfo/mysql</A>&gt;

-Rob


Brian O'Connor wrote:
&gt;<i> Hello all,
</I>&gt;<i> 
</I>&gt;<i> Right now I'm building a site that has a &quot;tree&quot; like structure, and 
</I>&gt;<i> right now in order to get the children I'm using a recursive function to 
</I>&gt;<i> get them all, works fine, but that strikes me as inefficient and I'm 
</I>&gt;<i> trying to find a way to get it with one query, rather than a variable 
</I>&gt;<i> amount of queries based on how many 'events' a user has.
</I>&gt;<i> 
</I>&gt;<i> I looked through the archives of the list to find a thread exactly like 
</I>&gt;<i> this, but was in 2002 apparently before MySQL had subqueries (and 
</I>&gt;<i> apparently that's what you need; I'm not sure but that's what I gathered 
</I>&gt;<i> looking through the responses).
</I>&gt;<i> 
</I>&gt;<i> I was wondering if anyone could help me out.
</I>&gt;<i> 
</I>&gt;<i> Right now all the events are in a table called 'cal_events', each row 
</I>&gt;<i> has an id and a parent_id (among other things that I don't think are 
</I>&gt;<i> important for this).  If you'd like to see the function I can certainly 
</I>&gt;<i> post that as well.
</I>&gt;<i> 
</I>&gt;<i> All I do is get all the events that have a parent_id of 0 (top level), 
</I>&gt;<i> loop through them to get their children, and loop through them to get 
</I>&gt;<i> their children etc (in order), and indent them as needed on the display 
</I>&gt;<i> side.
</I>&gt;<i> 
</I>&gt;<i> Thanks in advance for any ideas.
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> Brian O'Connor
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> 
</I>&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i> 
</I>&gt;<i> Show Your Participation in New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018771.html">[nycphp-talk] Building trees
</A></li>
	<LI>Next message: <A HREF="018773.html">[nycphp-talk] Building trees
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18772">[ date ]</a>
              <a href="thread.html#18772">[ thread ]</a>
              <a href="subject.html#18772">[ subject ]</a>
              <a href="author.html#18772">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

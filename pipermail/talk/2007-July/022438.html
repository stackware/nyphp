<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] advice on scaling up
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-July/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20advice%20on%20scaling%20up&In-Reply-To=%3CC182798A-D282-41C6-9AC5-2960182D6348%40beaffinitive.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022376.html">
   <LINK REL="Next"  HREF="022356.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] advice on scaling up</H1>
    <B>Rob Marscher</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20advice%20on%20scaling%20up&In-Reply-To=%3CC182798A-D282-41C6-9AC5-2960182D6348%40beaffinitive.com%3E"
       TITLE="[nycphp-talk] advice on scaling up">rmarscher at beaffinitive.com
       </A><BR>
    <I>Wed Jul 18 15:36:44 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022376.html">[nycphp-talk] advice on scaling up
</A></li>
        <LI>Next message: <A HREF="022356.html">[nycphp-talk] Resize pictures before uploading
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22438">[ date ]</a>
              <a href="thread.html#22438">[ thread ]</a>
              <a href="subject.html#22438">[ subject ]</a>
              <a href="author.html#22438">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Marc,

Pretty much all of my work is with social networking type sites... so  
I can chime in a little bit.  First off, in my experience the number  
of requests per second that can be handled by these apps is usually  
much less than your typical web app.  With it running on one server  
without major caching, we have a tough time handling more than 60-80  
requests per second.  This is because so many pages (at least for us)  
provide a portal of information that is very dynamic.

So... if you're not using APC... I'd recommend popping that in on  
your server for good measure... however, you might not notice much of  
an increase in the requests per second though because it is most  
likely database/disk i/o bound.  The main thing that will speed up  
your application is caching those database queries and objects.  If  
you're not doing any of this right now, I'd recommend making the leap  
straight to memcache (rather than a file based caching system)  
because ultimately this is the way to scale caching in a large  
setup.  Another step that will quickly alleviate stress while you're  
building out your caching solution is to separate your web server  
from your database server.  I think the number one thing you want  
with a database server is fast disk i/o.  Memory is nice on a db  
server to increase the various caches... however, (we're talking  
mysql here?) the mysql query cache gets invalidated so fast on a lot  
of your tables do to all the updates that usually happen in a social- 
networking system that you need a programmed cache solution that you  
can control when data is stale (hence the memcache recommendation).   
Another thing to consider is denormalizing certain parts of your  
database to eliminate certain complex joins and calculations you  
might find yourself having to do... this has really sped up parts of  
our applications.

The suggestion to have a static server is a good one as well as you  
can use a light web server tuned to serve the static content rather  
than the heavy apache processes loaded up with the php module +  
extensions.  It can also serve as a master server for all user  
uploaded content (i.e. user uploads content, regular server handles  
it, then moves the file to the static content server).

Good luck and post any findings/issues that come up because I'm sure  
a lot of us are interested in this topic.

-Rob


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022376.html">[nycphp-talk] advice on scaling up
</A></li>
	<LI>Next message: <A HREF="022356.html">[nycphp-talk] Resize pictures before uploading
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22438">[ date ]</a>
              <a href="thread.html#22438">[ thread ]</a>
              <a href="subject.html#22438">[ subject ]</a>
              <a href="author.html#22438">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] PHP MySQL File Upload Help
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2006-April/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20MySQL%20File%20Upload%20Help&In-Reply-To=%3Cb76252690604271134r1babe06euc79367f6477d0bac%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018231.html">
   <LINK REL="Next"  HREF="018233.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] PHP MySQL File Upload Help</H1>
    <B>csnyder</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20MySQL%20File%20Upload%20Help&In-Reply-To=%3Cb76252690604271134r1babe06euc79367f6477d0bac%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] PHP MySQL File Upload Help">chsnyder at gmail.com
       </A><BR>
    <I>Thu Apr 27 14:34:47 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018231.html">[nycphp-talk] PHP MySQL File Upload Help
</A></li>
        <LI>Next message: <A HREF="018233.html">[nycphp-talk] PHP MySQL File Upload Help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18232">[ date ]</a>
              <a href="thread.html#18232">[ thread ]</a>
              <a href="subject.html#18232">[ subject ]</a>
              <a href="author.html#18232">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 4/27/06, Brian O'Connor &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">gatzby3jr at gmail.com</A>&gt; wrote:
&gt;<i> This is the way I currently upload some images to my website now.  I really
</I>&gt;<i> have no idea how safe this is, so if its unsafe, please let me know.
</I>&gt;<i>
</I>&gt;<i> // FTP configuration
</I>&gt;<i>     $ftp_server = 'myftpaddr';
</I>&gt;<i>     $ftp_user_name = 'myuser';
</I>&gt;<i>     $ftp_user_pass = 'mypass';
</I>&gt;<i>
</I>&gt;<i>     // Connect
</I>&gt;<i>     $conn_id = ftp_connect($ftp_server);
</I>
[snip]

&gt;<i>
</I>&gt;<i>  // upload the file
</I>&gt;<i>         $upload = ftp_put($conn_id, $destination_file, $source_file,
</I>&gt;<i> FTP_BINARY);
</I>&gt;<i>
</I>&gt;<i> ftp_close($conn_id);
</I>

Ah, that ftp solution.

By using a localhost ftp connection, you can save the files as your
login user and avoid both world-writeable directories and undeleteable
(because owned by apache) files.

Those are big pros. There are also some big cons, depending on your situation.

First, we all know that ftp is an insecure protocol, right? This isn't
an issue if the ftp server is localhost, but if you are making
connections over a network you are potentially exposing your password
to anyone with access to the packets.

Second, and more importantly, you are potentially exposing your login
credentials to anyone else on the shared server with read access to
your script. This is the fundamental problem with shared hosting, and
it applies to database credentials as well. That seems like a bigger
risk (since all of your files are accessible) than just having a
world-writeable directory (where only uploaded files are accessible).

The convenience of having the uploaded files owned by you rather than
by the webserver may still outweigh the security issues, but you have
to make that call.

Not all shared servers are alike, of course. If you have any question
about whether other users on the box could read your scripts, ask your
hosting company.


--
Chris Snyder
<A HREF="http://chxo.com/">http://chxo.com/</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018231.html">[nycphp-talk] PHP MySQL File Upload Help
</A></li>
	<LI>Next message: <A HREF="018233.html">[nycphp-talk] PHP MySQL File Upload Help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18232">[ date ]</a>
              <a href="thread.html#18232">[ thread ]</a>
              <a href="subject.html#18232">[ subject ]</a>
              <a href="author.html#18232">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

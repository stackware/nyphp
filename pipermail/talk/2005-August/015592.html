<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Experts help needed (Sessions)
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Experts%20help%20needed%20%28Sessions%29&In-Reply-To=%3C42FB50C8.6020607%40phpwerx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015591.html">
   <LINK REL="Next"  HREF="015594.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Experts help needed (Sessions)</H1>
    <B>Dan Cech</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Experts%20help%20needed%20%28Sessions%29&In-Reply-To=%3C42FB50C8.6020607%40phpwerx.net%3E"
       TITLE="[nycphp-talk] Experts help needed (Sessions)">dcech at phpwerx.net
       </A><BR>
    <I>Thu Aug 11 09:21:12 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="015591.html">[nycphp-talk] Experts help needed (Sessions)
</A></li>
        <LI>Next message: <A HREF="015594.html">[nycphp-talk] Experts help needed (Sessions)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15592">[ date ]</a>
              <a href="thread.html#15592">[ thread ]</a>
              <a href="subject.html#15592">[ subject ]</a>
              <a href="author.html#15592">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Joseph,

 From my understanding this is the opposite of what Chris was 
suggesting, because it does not adapt to usage patterns.

On the first page load set $_SESSION['HTTP_USER_AGENT']
Also set $_SESSION['HTTP_USER_AGENT_MATCHES'] = 1
On each page load, if the user agent matches what is stored, increment 
$_SESSION['HTTP_USER_AGENT_MATCHES'] by 1
If the user agent does not match, and the count of matching agents is 
greater than some threshold, then prompt for a password.

The idea is to protect people whose user agent does not change often 
without unduly penalising people whose user agent does (for whatever 
reason).

The fact that the system 'learns' from the activity of the user to offer 
the best balance between security and convenience is what sets a system 
like this apart from the majority of rigid systems.

It occurs to me that this would be a good structure to generalise and 
implement in an extensible class, as it can (and should) really be 
applied to many different security tasks.

Dan

Joseph Crawford wrote:
&gt;<i> Chris,
</I>&gt;<i> 
</I>&gt;<i> the current way i have things working is like this.
</I>&gt;<i> 
</I>&gt;<i> On the first page load set $_SESSION['HTTP_USER_AGENT']
</I>&gt;<i> On the next page load compare the agents.
</I>&gt;<i> If they dont match increment the counter
</I>&gt;<i> otherwise continue on as normal
</I>&gt;<i> 
</I>&gt;<i> Once the counter hit's a limit of say 3 it shows the password box and tells 
</I>&gt;<i> the user they need to verify they are the same user. If they enter the 
</I>&gt;<i> correct password, everything is reset, otherwise a password check counter is 
</I>&gt;<i> incremented. If they enter the password wrong 3 times the system will 
</I>&gt;<i> destroy the session and assume it's not the correct user.
</I>&gt;<i> 
</I>&gt;<i> My questions is, did i get a clear understanding of what you were saying to 
</I>&gt;<i> do and did i implement this the proper way according to your thoughts?
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015591.html">[nycphp-talk] Experts help needed (Sessions)
</A></li>
	<LI>Next message: <A HREF="015594.html">[nycphp-talk] Experts help needed (Sessions)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15592">[ date ]</a>
              <a href="thread.html#15592">[ thread ]</a>
              <a href="subject.html#15592">[ subject ]</a>
              <a href="author.html#15592">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

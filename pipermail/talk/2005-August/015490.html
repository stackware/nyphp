<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Experts help needed (Sessions)
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Experts%20help%20needed%20%28Sessions%29&In-Reply-To=%3C42F23CE3.201%40phpwerx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015489.html">
   <LINK REL="Next"  HREF="015491.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Experts help needed (Sessions)</H1>
    <B>Dan Cech</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Experts%20help%20needed%20%28Sessions%29&In-Reply-To=%3C42F23CE3.201%40phpwerx.net%3E"
       TITLE="[nycphp-talk] Experts help needed (Sessions)">dcech at phpwerx.net
       </A><BR>
    <I>Thu Aug  4 12:05:55 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="015489.html">[nycphp-talk] Experts help needed (Sessions)
</A></li>
        <LI>Next message: <A HREF="015491.html">[nycphp-talk] Experts help needed (Sessions)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15490">[ date ]</a>
              <a href="thread.html#15490">[ thread ]</a>
              <a href="subject.html#15490">[ subject ]</a>
              <a href="author.html#15490">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Joseph,

Sounds like you're making progress.

As for changing the session id on every page load, this can easily break 
session support when the user clicks the 'back' button or opens multiple 
windows if not done very carefully.

If you're looking for something to help you with managing an ACL type 
permissions system I would recommend phpGACL 
(<A HREF="http://phpgacl.sourceforge.net">http://phpgacl.sourceforge.net</A>).  I'm a little biased as I engineered 
its database structure, but it sounds like it may be what you're looking 
for.

Dan

Joseph Crawford wrote:
&gt;<i> I think i finally got everything working the way i want it, i generate the 
</I>&gt;<i> hash and store it along side the session id, whenever the page is loaded it 
</I>&gt;<i> get's the hash from the db, and calculates the user s hash, if they match 
</I>&gt;<i> nothing is done, if they dont session_destroy is called and 
</I>&gt;<i> session_regenerate_id is called so the new user doesnt get the same session 
</I>&gt;<i> id as the one hijacked. Next i will implement a way to only do the check 
</I>&gt;<i> every X page loads for the user or something because every page querying 
</I>&gt;<i> this check could become resource intensive. I took a look at implementing 
</I>&gt;<i> adam's suggestion of regenerating the session id with every page load, i 
</I>&gt;<i> looked at doing this and then updating the current db record with the new id 
</I>&gt;<i> etc.. this would work if my hash didnt include the current session_id. The 
</I>&gt;<i> way it is now if i regenerate every page, every other page thinks the 
</I>&gt;<i> session has been hijacked ;)
</I>&gt;<i> 
</I>&gt;<i> Maybe sometime down the road i will look at implementing this ability as i 
</I>&gt;<i> am sure it's a small restructure problem but i think it's ok for now ;)
</I>&gt;<i> 
</I>&gt;<i> Now i get to work on my user managment and permissions system, figure out 
</I>&gt;<i> how i am going to implement the roles and who has what role ;)
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015489.html">[nycphp-talk] Experts help needed (Sessions)
</A></li>
	<LI>Next message: <A HREF="015491.html">[nycphp-talk] Experts help needed (Sessions)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15490">[ date ]</a>
              <a href="thread.html#15490">[ thread ]</a>
              <a href="subject.html#15490">[ subject ]</a>
              <a href="author.html#15490">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

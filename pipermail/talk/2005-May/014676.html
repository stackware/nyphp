<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Making an array from a list item?
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-May/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Making%20an%20array%20from%20a%20list%20item%3F&In-Reply-To=%3C429C9908.7000000%40phpwerx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014677.html">
   <LINK REL="Next"  HREF="014678.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Making an array from a list item?</H1>
    <B>Dan Cech</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Making%20an%20array%20from%20a%20list%20item%3F&In-Reply-To=%3C429C9908.7000000%40phpwerx.net%3E"
       TITLE="[nycphp-talk] Making an array from a list item?">dcech at phpwerx.net
       </A><BR>
    <I>Tue May 31 13:04:08 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014677.html">[nycphp-talk] Making an array from a list item?
</A></li>
        <LI>Next message: <A HREF="014678.html">[nycphp-talk] Making an array from a list item?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14676">[ date ]</a>
              <a href="thread.html#14676">[ thread ]</a>
              <a href="subject.html#14676">[ subject ]</a>
              <a href="author.html#14676">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Try:

$output = array();

$query = 'select skillID,knackID from characters.skill_knacks';
$result = mysql_query($query,$link_id);

while($row = mysql_fetch_array($result)) {
   if (empty($output[$row['skillID']])) {
     $output[$row['skillID']] = array();
   }
   $output[$row['skillID']][] = $row['knackID'];
}

print_r($output);

Dan

<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">leam at reuel.net</A> wrote:
&gt;<i> Trying to read code from last year. *sigh* At least it isn't as difficult as perl...
</I>&gt;<i> 
</I>&gt;<i> Looking through the archives I don't think I've asked this before. If there is a better way, and I'd not be surprised, feel free to suggest it.  ;)
</I>&gt;<i> 
</I>&gt;<i> My project is a character sheet for a game. Each character has a different set of skills, and each skill has a sub-skill called a &quot;knack&quot;. A character can have a rank of 0-5 in a knack. &quot;0&quot; means they don't have that knack. Skills are not ranked; you just have it or not. For example, a character might have the Skill &quot;Hunter&quot; and have the knacks &quot;Fishing (2)&quot;, &quot;Stealth (2)&quot;, and &quot;Tracking (1)&quot;. A character may or may not have all the knacks in a skill. Some knacks are in more than one skill.
</I>&gt;<i> 
</I>&gt;<i> Each Skill and Knack has a unique short name like &quot;hntr&quot;, &quot;fshng&quot;, and &quot;stlth&quot;. I've been using the short name as array keys. The character sheet pulls the list of skills that character has and then looks up what knacks are in that skill. It then writes the Skill header, lists each knack and the rank the character has in that knack. 
</I>&gt;<i> 
</I>&gt;<i> The current problem is that I'm using an included file that manually sets the array $htnr to have the knacks &quot;fshg&quot;, &quot;stlth&quot;, etc. I'd rather, if possible, have the array built from a database pull. I'm failing because I don't know how to iterate through a list and make the list item an array, and then populate the array with the knacks.
</I>&gt;<i> 
</I>&gt;<i> Line from the included file:
</I>&gt;<i> 
</I>&gt;<i> $hntr = array( &quot;ambsh&quot;, &quot;anmltn&quot;, &quot;fshg&quot;, &quot;sknng&quot;, &quot;stlth&quot;, &quot;srvl&quot;, &quot;trkng&quot;, &quot;trlsgns&quot;, &quot;trps&quot;  );
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> So far the code looks like this:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> foreach ( $skills As $s ) {
</I>&gt;<i>         $a = $s;
</I>&gt;<i>         $s = array ();
</I>&gt;<i>         $$s[0] = $a;
</I>&gt;<i>         echo &quot;&lt;p&gt;s[0] is $s[0]!   &quot;;
</I>&gt;<i>         $skill_knack_query = &quot;select knackID from characters.skill_knacks where skillID='$a'&quot;;
</I>&gt;<i>         $skill_knack_result = mysql_query(&quot;$skill_knack_query&quot;, $link_id);
</I>&gt;<i>         // echo &quot;skill_knack_result is $skill_knack_result \n&quot;;
</I>&gt;<i>         while($skill_knack_data = mysql_fetch_array($skill_knack_result)) {
</I>&gt;<i>         //      echo &quot;hello $skill_knack_data&quot;;
</I>&gt;<i>                 echo &quot; &lt;p&gt; hello $skill_knack_data[knackID]&quot;;
</I>&gt;<i>                 array_push($s , $skill_knack_data[&quot;$knackID&quot;] );
</I>&gt;<i>                 }
</I>&gt;<i>                 echo &quot; &lt;p&gt; s[0] is $s[0]  &quot;;
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> If I comment out the included file and try the above code it gives output like this:
</I>&gt;<i> 
</I>&gt;<i> s[0] is ! 
</I>&gt;<i> hello ambsh hello anmltn hello fshg hello sknng hello stlth hello srvl hello trkng hello trlsgns hello trps 
</I>&gt;<i> s[0] is
</I>&gt;<i> 
</I>&gt;<i> So the &quot;echo $skill_knack_data[knackID]&quot; line shows the short name is being gotten, I've just not gotten it onto the array. If I change the bottom &quot;s[0] is $s[0] to higher number it still shows nothing in the array.
</I>&gt;<i> 
</I>&gt;<i> It seems easiest to build the array to match the included file, but there may be a better, easier way.
</I>&gt;<i> 
</I>&gt;<i> Thoughts? Suggestions? Crude comments?
</I>&gt;<i> 
</I>&gt;<i> ciao!
</I>&gt;<i> 
</I>&gt;<i> leam
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Talk Mailing List
</I>&gt;<i> AMP Technology
</I>&gt;<i> Supporting Apache, MySQL and PHP
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> <A HREF="http://www.nyphp.org">http://www.nyphp.org</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014677.html">[nycphp-talk] Making an array from a list item?
</A></li>
	<LI>Next message: <A HREF="014678.html">[nycphp-talk] Making an array from a list item?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14676">[ date ]</a>
              <a href="thread.html#14676">[ thread ]</a>
              <a href="subject.html#14676">[ subject ]</a>
              <a href="author.html#14676">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

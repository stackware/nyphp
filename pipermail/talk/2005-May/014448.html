<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Writing a file and ownership
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-May/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Writing%20a%20file%20and%20ownership&In-Reply-To=%3Cb76252690505071058b189d78%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014446.html">
   <LINK REL="Next"  HREF="014460.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Writing a file and ownership</H1>
    <B>csnyder</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Writing%20a%20file%20and%20ownership&In-Reply-To=%3Cb76252690505071058b189d78%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] Writing a file and ownership">chsnyder at gmail.com
       </A><BR>
    <I>Sat May  7 13:58:34 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014446.html">[nycphp-talk] Writing a file and ownership
</A></li>
        <LI>Next message: <A HREF="014460.html">[nycphp-talk] Writing a file and ownership
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14448">[ date ]</a>
              <a href="thread.html#14448">[ thread ]</a>
              <a href="subject.html#14448">[ subject ]</a>
              <a href="author.html#14448">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 5/7/05, David Mintz &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">dmintz at davidmintz.org</A>&gt; wrote:

&gt;<i> Doesn't it seem that the s?ftp cure would have to be coded with the utmost
</I>&gt;<i> care or it might be worse than the disease, especially on a shared host?
</I>&gt;<i> For example, if username/password are embedded in PHP scripts that
</I>&gt;<i> themselves are world-readable... It would be interesting to see an example
</I>&gt;<i> or psuedocode/outline showing an implementation.
</I>
You are exactly right. 

It depends on which is more distasteful in a given situation:
world-writeable directories and files, or the possibility that another
user will discover the (s)ftp password embedded in a configuration
file. On a shared host, and particularly for a cache, it's probably
preferable to have nobody own the files then to risk exposing your
password to all other scripts on the box.

But for the caching example, the workaround could be that you render
the pages on a local server that you control, which then (s)ftps them
to a shared host that has a public address and scads of bandwidth. Not
unlike Blogger, really.

A better but more complex workaround could be that files are uploaded
to a world-writeable directory that works as a drop box. A cron job,
running as you, could check the drop box for new files now and then,
and copy them to a normal directory with correct ownership and
permissions. It should compare the file with a hash stored in a
database to ensure that the file wasn't modified by someone else in
the meantime. The webserver will need to clean up the drop box
directory, since you won't be able to delete files owned by nobody.

Three parts to that, but I think it solves most of the problems
without storing a password or implicitly trusting what are, for all
practical purposes, world-writeable files.

----
Chris Snyder
<A HREF="http://chxo.com/">http://chxo.com/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014446.html">[nycphp-talk] Writing a file and ownership
</A></li>
	<LI>Next message: <A HREF="014460.html">[nycphp-talk] Writing a file and ownership
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14448">[ date ]</a>
              <a href="thread.html#14448">[ thread ]</a>
              <a href="subject.html#14448">[ subject ]</a>
              <a href="author.html#14448">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

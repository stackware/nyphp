<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Is it safe to log unsanitized,	unvalidated 	user-inputted data into a logfile?
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2009-April/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Is%20it%20safe%20to%20log%20unsanitized%2C%0A%09unvalidated%20%09user-inputted%20data%20into%20a%20logfile%3F&In-Reply-To=%3Cae0c70e80904072058h1e1f0e7cq8ba040467197943e%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027839.html">
   <LINK REL="Next"  HREF="027841.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Is it safe to log unsanitized,	unvalidated 	user-inputted data into a logfile?</H1>
    <B>Brian Williams</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Is%20it%20safe%20to%20log%20unsanitized%2C%0A%09unvalidated%20%09user-inputted%20data%20into%20a%20logfile%3F&In-Reply-To=%3Cae0c70e80904072058h1e1f0e7cq8ba040467197943e%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] Is it safe to log unsanitized,	unvalidated 	user-inputted data into a logfile?">brianw1975 at gmail.com
       </A><BR>
    <I>Tue Apr  7 23:58:07 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="027839.html">[nycphp-talk] Is it safe to log unsanitized,	unvalidated 	user-inputted data into a logfile?
</A></li>
        <LI>Next message: <A HREF="027841.html">[nycphp-talk] Is it safe to log unsanitized,	unvalidated 	user-inputted data into a logfile?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27840">[ date ]</a>
              <a href="thread.html#27840">[ thread ]</a>
              <a href="subject.html#27840">[ subject ]</a>
              <a href="author.html#27840">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Apr 7, 2009 at 10:34 PM, Konstantin Rozinov &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">krozinov at gmail.com</A>&gt;wrote:

&gt;<i> On Mon, Apr 6, 2009 at 12:47 AM, Brian Williams &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">brianw1975 at gmail.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; if his code had read:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; error_log(__FUNCTION__ . &quot;($username): called.&quot;, 3, $log_file);
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I wouldn't have made any comment at all.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If the backticked code were not in double quotes it would be executed and
</I>&gt;<i> &gt; the resulting output of the backticked code would be recorded to the log.
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> Brian,
</I>&gt;<i>
</I>&gt;<i> This is not true.  I tested what was discussed in this thread and here
</I>&gt;<i> are the results.
</I>&gt;<i>
</I>&gt;<i> (1)
</I>&gt;<i> If an attacker submits the following as the $username: `touch /tmp/fooooo`
</I>&gt;<i> This will be outputted to the logfile: check_username(`touch
</I>&gt;<i> /tmp/fooooo`): called.
</I>&gt;<i> The attacker's input is not executed.  It is treated as a string.
</I>&gt;<i>
</I>&gt;<i> (2)
</I>&gt;<i> If an attacker submits the following as the $username: &lt;?php `touch
</I>&gt;<i> /tmp/fooooo` ?&gt;
</I>&gt;<i> This will be outputted to the logfile: check_username(&lt;?php `touch
</I>&gt;<i> /tmp/fooooo` ?&gt;): called.
</I>&gt;<i> The attacker's input is not executed.  It is treated as a string.
</I>&gt;<i>
</I>&gt;<i> Only if I process the logfile with php -f &lt;logfile&gt; will the code in
</I>&gt;<i> (2) actually execute.
</I>&gt;<i> The code in (1) won't even run since it's outside the &lt;?php ?&gt; tags,
</I>&gt;<i> but that's a minor point.
</I>&gt;<i>
</I>&gt;<i> Paul raises a good question about log processing software that might
</I>&gt;<i> interpret and run the code....it seems that's where the real problem
</I>&gt;<i> lies.
</I>&gt;<i>
</I>&gt;<i> Konstantin Rozinov
</I>


Ok, after bad examples, and all the hulabaloo, and being proven wrong about
said bad examples... what I say still stands:

Always check the data the user sent you - just check it in such a way that
is appropriate for your situation.

If you don't believe in that then stop checking the data any user enters on
any of your forms, and don't worry about XSS or SQL injections because
that's basically what Michael is saying, only escape user data before
inserting into the database.

I guess that would make form processing easier.

Insanity.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20090407/367903ae/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20090407/367903ae/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027839.html">[nycphp-talk] Is it safe to log unsanitized,	unvalidated 	user-inputted data into a logfile?
</A></li>
	<LI>Next message: <A HREF="027841.html">[nycphp-talk] Is it safe to log unsanitized,	unvalidated 	user-inputted data into a logfile?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27840">[ date ]</a>
              <a href="thread.html#27840">[ thread ]</a>
              <a href="subject.html#27840">[ subject ]</a>
              <a href="author.html#27840">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

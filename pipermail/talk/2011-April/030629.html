<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Writing daemons in PHP
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2011-April/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Writing%20daemons%20in%20PHP&In-Reply-To=%3C4D9E2EC2.6090007%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030628.html">
   <LINK REL="Next"  HREF="030630.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Writing daemons in PHP</H1>
    <B>Gary Mort</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Writing%20daemons%20in%20PHP&In-Reply-To=%3C4D9E2EC2.6090007%40gmail.com%3E"
       TITLE="[nycphp-talk] Writing daemons in PHP">garyamort at gmail.com
       </A><BR>
    <I>Thu Apr  7 17:38:10 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030628.html">[nycphp-talk] Project pricing
</A></li>
        <LI>Next message: <A HREF="030630.html">[nycphp-talk] Writing daemons in PHP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30629">[ date ]</a>
              <a href="thread.html#30629">[ thread ]</a>
              <a href="subject.html#30629">[ subject ]</a>
              <a href="author.html#30629">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Just wondering what, in general, others are using for writing daemons in
PHP.

Just code it directly using libevent...   or using a framework such as
phpdaemon, <A HREF="https://github.com/kakserpom/phpdaemon">https://github.com/kakserpom/phpdaemon</A>


For a first pass, I need to set up a more intelligent CPULimit app to
meet my specific goals.  Since all CPULimit basically does is check all
the PID's every 2ms and send out kill to processes with SIGSTOP and
SIGCONT - it seems simple to do the same with PHP.

Just loop through every 2 ms and when cpu usage is over the threshold,
do some quick calcs to determine how many microseconds before the
processes can be continued in order to drop the cpu usage below the
threshold and use libevent to set the callback time.

Granted, this is supposedly &quot;better&quot; to program in C rather than PHP,
but since I want to be able to do quick changes and keep the learning
curve small, I'd rather do it in PHP until everything has been tweaked
and perfected.  Then it's always an option to try using HipHop to
convert it.... or if it is running well and doing what is needed, leave
it be.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030628.html">[nycphp-talk] Project pricing
</A></li>
	<LI>Next message: <A HREF="030630.html">[nycphp-talk] Writing daemons in PHP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30629">[ date ]</a>
              <a href="thread.html#30629">[ thread ]</a>
              <a href="subject.html#30629">[ subject ]</a>
              <a href="author.html#30629">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Interesting PHP5 benchmarks
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2006-May/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Interesting%20PHP5%20benchmarks&In-Reply-To=%3CEE702CA684057843958BF6CE882E9101022EF948%40cci019.hq.communityconnect.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018277.html">
   <LINK REL="Next"  HREF="018280.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Interesting PHP5 benchmarks</H1>
    <B>Nicholas Tang</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Interesting%20PHP5%20benchmarks&In-Reply-To=%3CEE702CA684057843958BF6CE882E9101022EF948%40cci019.hq.communityconnect.com%3E"
       TITLE="[nycphp-talk] Interesting PHP5 benchmarks">ntang at communityconnect.com
       </A><BR>
    <I>Tue May  9 01:24:34 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018277.html">[nycphp-talk] Interesting PHP5 benchmarks
</A></li>
        <LI>Next message: <A HREF="018280.html">[nycphp-talk] talk Digest, Vol 36, Issue 6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18278">[ date ]</a>
              <a href="thread.html#18278">[ thread ]</a>
              <a href="subject.html#18278">[ subject ]</a>
              <a href="author.html#18278">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Honestly, in this case, it was dumb luck - we happened to have one box that was still running U2 in the cluster we were using for stress testing.  We were watching the performance of each box, and I noticed that one was consistently answering requests more quickly than the rest.  The only difference was the update version of RHEL4.  We then tried rolling back more machines and testing and we found that it really was faster.
 
I haven't used callgrind, myself.  We used a combination of various tools to benchmark and profile things - strace, sar, top, vmstat, iostat, etc. on the host level, apd for php, and finally, measuring things like response time, throughput, etc. on the webserver level.
 
Finally - we're using prefork.  I haven't heard particularly good things about PHP/APC running under any other MPM.  (It may be improved now; I haven't checked.)
 
Nicholas

________________________________

From: Andrew Yochum [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">andrew at plexpod.com</A>]
Sent: Tue 5/9/2006 12:59 AM
To: Nicholas Tang
Cc: NYPHP Talk
Subject: Re: [nycphp-talk] Interesting PHP5 benchmarks



Nicholas,

On Sun, Apr 30, 2006 at 01:48:45PM -0400, Nicholas Tang wrote:
&gt;<i> We were benchmarking our new beta setup - Apache 2, PHP 5, and APC 3 -
</I>&gt;<i> and seeing absolutely terrible results.  Really, really bad.
</I>&gt;<i> Atrocious.  As in, I had momentary fears we'd have to pick between a
</I>&gt;<i> rewrite in PHP 4 or double the size of our webserver farm to manage
</I>&gt;<i> it.
</I>...
&gt;<i> Amazingly, while I did tweak some settings here and there, and we did
</I>&gt;<i> nudge a few things in the code, the biggest change?  We downgraded our
</I>&gt;<i> servers from Red Hat Enterprise 4 Update 3 to Update 2.  That was it.
</I>&gt;<i> Approximately 90% of the difference in the two tests came from that
</I>&gt;<i> one shift - a shift that should have been completely inconsequential.
</I>...

I'm curious... What made you try downgrading from 3 to 2 to discover
this?  Are you using prefork or another MPM?  Have you compared
callgrind data when running 3 vs. 2?

Please send more details and/or updates.  I, for one, would like to hear
more.

Regards,
Andrew

--
Andrew Yochum
Plexpod
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">andrew at plexpod.com</A>
718-360-0879


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20060509/3b083f56/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20060509/3b083f56/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018277.html">[nycphp-talk] Interesting PHP5 benchmarks
</A></li>
	<LI>Next message: <A HREF="018280.html">[nycphp-talk] talk Digest, Vol 36, Issue 6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18278">[ date ]</a>
              <a href="thread.html#18278">[ thread ]</a>
              <a href="subject.html#18278">[ subject ]</a>
              <a href="author.html#18278">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

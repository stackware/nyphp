<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] AJAX and character encoding
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2006-May/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20AJAX%20and%20character%20encoding&In-Reply-To=%3Cp06230901c0858d78a09c%40%5B192.168.1.44%5D%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018269.html">
   <LINK REL="Next"  HREF="018279.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] AJAX and character encoding</H1>
    <B>Marc Antony Vose</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20AJAX%20and%20character%20encoding&In-Reply-To=%3Cp06230901c0858d78a09c%40%5B192.168.1.44%5D%3E"
       TITLE="[nycphp-talk] AJAX and character encoding">suzerain at suzerain.com
       </A><BR>
    <I>Mon May  8 20:14:45 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018269.html">[nycphp-talk] AJAX and character encoding
</A></li>
        <LI>Next message: <A HREF="018279.html">[nycphp-talk] AJAX and character encoding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18276">[ date ]</a>
              <a href="thread.html#18276">[ thread ]</a>
              <a href="subject.html#18276">[ subject ]</a>
              <a href="author.html#18276">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At 10:24 AM -0400 5/8/06, Adam Maccabee Trachtenberg wrote:
&gt;<i>On Mon, 8 May 2006, tedd wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>  Correct me if I'm wrong, but if you are simply injecting code into a
</I>&gt;&gt;<i>  static web page, isn't it the &lt;meta... utf-8&gt; tab of the page that
</I>&gt;&gt;<i>  sets the charset?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  Ajax simply prompts a php routine to prepare stuff for ajax to take
</I>&gt;&gt;<i>  back an inject into whatever you want between html tags, right? At
</I>&gt;&gt;<i>  least that's the way I'm doing it -- but, I'm simple that way.
</I>&gt;<i>
</I>&gt;<i>Without doing any research, I would also guess the setting the charset
</I>&gt;<i>via a meta or HTTP header should fix this.
</I>&gt;<i>
</I>&gt;<i>If not, does you server have the iconv() extension enabled? That lets
</I>&gt;<i>you convert between arbitrary character sets.
</I>&gt;<i>
</I>

To clarify this for everyone: the character encoding of the page is 
in windows-1252.  Therefore, in my opinion, the browser ought to 
display all the content in the character set.

But, in researching AJAX, I've found that the httprequest object 
defaults all communication to UTF-8, no matter whether you set 
character encoding on it with a PHP header or not.  Most browsers 
seem to detect this and display the proper characters.

IE, though, doesn't.  I assume it would display the characters fine 
if my entire page was set with UTF-8 encoding, but unfortunately, 
unless I get my client to change their system, this isn't going to 
happen.

Here's the page in question (a rare book seller with a flair for the 
whimsical):

<A HREF="http://209.160.72.79/btc/search_results?btc_keywords=grass&amp;x=0&amp;y=0">http://209.160.72.79/btc/search_results?btc_keywords=grass&amp;x=0&amp;y=0</A>

There is a 'module' at the top of the page with some author info. 
Int he middle, on the left, are some product results.  Then, on the 
right, a narrower module contains related reference information about 
the author...this is the info coming into the page from AJAX (in this 
case, there are only a few responses, but sometimes there are dozens, 
in which case that module has some navigation to further items).

So, Gunter Grass' name gets mangled in IE.  It looks fine in all 
browsers that matter on OS X, and with another 'fix' I can get it to 
work in Firefox on Windows...but IE is just not doing it.

If anyone has any ideas, feel free to enlighten me.

I am trying to lobby them to perform some character encoding on the 
data before it gets to the server (it's a complicated system where 
all data is managed in an offline database, and it synchronizes with 
the web server via a series of cron jobs on their end and on the 
server).

Cheers,

Marc

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018269.html">[nycphp-talk] AJAX and character encoding
</A></li>
	<LI>Next message: <A HREF="018279.html">[nycphp-talk] AJAX and character encoding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18276">[ date ]</a>
              <a href="thread.html#18276">[ thread ]</a>
              <a href="subject.html#18276">[ subject ]</a>
              <a href="author.html#18276">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

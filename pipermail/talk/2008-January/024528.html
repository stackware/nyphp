<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Emails not being received when using mail()
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-January/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Emails%20not%20being%20received%20when%20using%20mail%28%29&In-Reply-To=%3C478C2890.30009%40cyberxdesigns.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024524.html">
   <LINK REL="Next"  HREF="024529.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Emails not being received when using mail()</H1>
    <B>Hans Kaspersetz</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Emails%20not%20being%20received%20when%20using%20mail%28%29&In-Reply-To=%3C478C2890.30009%40cyberxdesigns.com%3E"
       TITLE="[nycphp-talk] Emails not being received when using mail()">hans at cyberxdesigns.com
       </A><BR>
    <I>Mon Jan 14 22:29:20 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="024524.html">[nycphp-talk] Emails not being received when using mail()
</A></li>
        <LI>Next message: <A HREF="024529.html">[nycphp-talk] Emails not being received when using mail()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24528">[ date ]</a>
              <a href="thread.html#24528">[ thread ]</a>
              <a href="subject.html#24528">[ subject ]</a>
              <a href="author.html#24528">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i>
</I>&gt;<i> Thanks, Hans. Here are the headers:
</I>&gt;<i>
</I>&gt;<i> Return-path: &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">nobody at mercury.hostspectrum.com</A>&gt;
</I>&gt;<i> Envelope-to: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">recipient3 at example.com</A>
</I>&gt;<i> Delivery-date: Mon, 14 Jan 2008 19:49:12 -0600
</I>&gt;<i> Received: from nobody by hosting.company.com with local (Exim 4.68)
</I>&gt;<i>     (envelope-from &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">nobody at mercury.hostspectrum.com</A>&gt;)
</I>&gt;<i>     id 1JEavQ-0007T3-9u; Mon, 14 Jan 2008 19:49:12 -0600
</I>&gt;<i> To: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">recipient1 at example.com</A>
</I>&gt;<i> Subject: Newsletter Request
</I>&gt;<i> From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">me at example.com</A>
</I>&gt;<i> To: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">recipient2 at example.com</A>
</I>&gt;<i> Cc: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">recipient3 at example.com</A>
</I>&gt;<i> Reply-To: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">me at example.com</A>
</I>&gt;<i> Message-Id: &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">E1JEavQ-0007T3-9u at mercury.hostspectrum.com</A>&gt;
</I>&gt;<i> Date: Mon, 14 Jan 2008 19:49:12 -0600
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> // build additional headers
</I>&gt;<i> $additionalHeaders = &quot;From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">me at example.com</A>\r\n&quot;;
</I>&gt;<i> $additionalHeaders .= &quot;To: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">recipient2 at example.com</A>\r\n&quot;;
</I>&gt;<i> $additionalHeaders .= &quot;Cc: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">recipient3 at example.com</A>\r\n&quot;;
</I>&gt;<i> $additionalHeaders .= &quot;Return-Path: -f <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">me at example.com</A>\r\n&quot;;
</I>&gt;<i> $additionalHeaders .= &quot;Reply-To: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">me at example.com</A>\r\n&quot;;
</I>&gt;<i>
</I>&gt;<i>
</I>Well, as I suspected you definitely have some problems in your header 
and the address the mail is coming from doesn't exist in the real 
world.  The first thing to correct is the line:  $additionalHeaders .= 
&quot;Return-Path: -f <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">me at example.com</A>\r\n&quot;;  It is non-sense drop it all together.

Then make your mail() call something like this:  $mailSent = mail($to, 
$subject, $message, $additionalHeaders, &quot;-f <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">me at example.com</A>&quot;).  It is a 
little late any my eyes are dry, but that should go a long way to fixing 
you up.  However, this will only work if your host allows you to 
override with the -f flag.  Make the changes and send us the new headers.

In any event, you mail is not being routed by Google and the like 
because your Return-Path is not being set to an address that exists in 
the real world. 

Hans

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024524.html">[nycphp-talk] Emails not being received when using mail()
</A></li>
	<LI>Next message: <A HREF="024529.html">[nycphp-talk] Emails not being received when using mail()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24528">[ date ]</a>
              <a href="thread.html#24528">[ thread ]</a>
              <a href="subject.html#24528">[ subject ]</a>
              <a href="author.html#24528">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Text versioning/manipulation caching architecture	suggestions
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-January/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Text%20versioning/manipulation%20caching%20architecture%0A%09suggestions&In-Reply-To=%3C87e6ded30801281302k13c26e2fq7d6e56223c86dae1%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024703.html">
   <LINK REL="Next"  HREF="024699.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Text versioning/manipulation caching architecture	suggestions</H1>
    <B>max goldberg</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Text%20versioning/manipulation%20caching%20architecture%0A%09suggestions&In-Reply-To=%3C87e6ded30801281302k13c26e2fq7d6e56223c86dae1%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] Text versioning/manipulation caching architecture	suggestions">max.goldberg at gmail.com
       </A><BR>
    <I>Mon Jan 28 16:02:41 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="024703.html">[nycphp-talk] RE: IE Error - The security certificate presented by	this website
</A></li>
        <LI>Next message: <A HREF="024699.html">[nycphp-talk] about check box
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24698">[ date ]</a>
              <a href="thread.html#24698">[ thread ]</a>
              <a href="subject.html#24698">[ subject ]</a>
              <a href="author.html#24698">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello buds,

It's been a while since I've been active on the list but I figured I'd give
a holler and see if anyone had any suggestions for an application design
problem I've run into.

I have a large number of text fields across many tables in a fairly large
database all of which can be manipulated in any number of ways. Some common
manipulations would be scrubbing strings for display on the web (XHTML
compliance and XSS avoidance), censoring of &quot;bad&quot; words, rich-text, etc.

All in all, once you mix and match all of the various text manipulations,
you end up with a large number of versions of the same chunk of text, and
you need access to all of them based on a plethora of variables such as user
options, access interface etc. On top of that, some fields can be edited,
and I'd like to keep copies of the entire revision history, which adds
another level of complexity.

Originally I thought of some sort of memory caching solution, but the main
goal of this is to come up with a scalable solution and there is currently a
few gigabytes of text that this would apply to, so if anything it would
probably need to expire. It's possible that I could have some mixture of
short-term memory cache and long-term disk cache, as disk/database space
isn't a large concern.

Another issue is manipulation function versioning, e.g. when a new word is
added to the censor function, you want to purge the cache of all of the
censored text created by the last version.

Maybe I'm just over-complicating the entire thing, but doing this sort of
manipulation on a high traffic site seems like a gigantic duplication of
CPU-intensive work that could (and should) be avoided.

I've come up with a lot of solutions, but none of them seem very elegant.
I'm trying to avoid a lot of excess DB queries and SQL joins.

I've done some searching around and it seems like anyone who has solved this
problem hasn't discussed it publicly. I thought maybe someone dealing with
locale on a large scale might have come up with a good solution, but since
locale is mostly static, it doesn't seem to apply in most cases.

So has anyone dealt with something similar, or is there an obvious solution
that I'm missing? I'd be interested in hearing some of the more seasoned
NYPHPer's opinions.

Thanks for any advice in advance!
-Max
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20080128/642990f0/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20080128/642990f0/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024703.html">[nycphp-talk] RE: IE Error - The security certificate presented by	this website
</A></li>
	<LI>Next message: <A HREF="024699.html">[nycphp-talk] about check box
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24698">[ date ]</a>
              <a href="thread.html#24698">[ thread ]</a>
              <a href="subject.html#24698">[ subject ]</a>
              <a href="author.html#24698">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Writing large files to client efficiently
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-January/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Writing%20large%20files%20to%20client%20efficiently&In-Reply-To=%3C8f0676b40801101314k4ed7743k4b682db9f03adce9%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024456.html">
   <LINK REL="Next"  HREF="024458.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Writing large files to client efficiently</H1>
    <B>John Campbell</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Writing%20large%20files%20to%20client%20efficiently&In-Reply-To=%3C8f0676b40801101314k4ed7743k4b682db9f03adce9%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] Writing large files to client efficiently">jcampbell1 at gmail.com
       </A><BR>
    <I>Thu Jan 10 16:14:47 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="024456.html">[nycphp-talk] Writing large files to client efficiently
</A></li>
        <LI>Next message: <A HREF="024458.html">[nycphp-talk] Writing large files to client efficiently
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24457">[ date ]</a>
              <a href="thread.html#24457">[ thread ]</a>
              <a href="subject.html#24457">[ subject ]</a>
              <a href="author.html#24457">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> In your experience, how much slower is fpassthru compared to serving
</I>&gt;<i> static content? Is it twice as slow?
</I>
Well, I just tested it and it doesn't appear to make much difference.
You have to fire up the php interpreter either way.   I am running
PHP+APC, and I see 4.2 ms for both requests with the redirect method
and 4.7ms per request using fpassthru.  (I am testing with ab on the
local machine).

Bandwidth and storage will bite you first anyway.

&gt;<i> Also, regarding fpassthru on multiple servers, do you mean that with
</I>&gt;<i> static files you can redirect to other servers and distribute the
</I>&gt;<i> load?
</I>
Yeah that was what I was getting at.  You have a lot of options, but I
recommend designing your system so it separates the &quot;what&quot; from the
&quot;where&quot;.  E.g. you get a request for an asset, determine all of the
places it lives (Amazon S3, Akamai, local server, etc) and then
redirect the request to the best location.  How you design the
security is up to you.  Hashed file names are one way to go.  Some
sort of token system would be another option if you need more
security.

Regards,
John Campbell

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024456.html">[nycphp-talk] Writing large files to client efficiently
</A></li>
	<LI>Next message: <A HREF="024458.html">[nycphp-talk] Writing large files to client efficiently
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24457">[ date ]</a>
              <a href="thread.html#24457">[ thread ]</a>
              <a href="subject.html#24457">[ subject ]</a>
              <a href="author.html#24457">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

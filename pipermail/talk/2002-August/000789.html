<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Warning: Page has expired!!
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2002-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Warning%3A%20Page%20has%20expired%21%21&In-Reply-To=%3COFEBE8FFF8.CADDA80A-ON85256C0C.005B63F5%40pok.ibm.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000788.html">
   <LINK REL="Next"  HREF="000790.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Warning: Page has expired!!</H1>
    <B>Carlos A Hoyos</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Warning%3A%20Page%20has%20expired%21%21&In-Reply-To=%3COFEBE8FFF8.CADDA80A-ON85256C0C.005B63F5%40pok.ibm.com%3E"
       TITLE="[nycphp-talk] Warning: Page has expired!!">cahoyos at us.ibm.com
       </A><BR>
    <I>Mon Aug  5 12:38:21 EDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="000788.html">[nycphp-talk] Printing...............
</A></li>
        <LI>Next message: <A HREF="000790.html">[nycphp-talk] Warning: Page has expired!!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#789">[ date ]</a>
              <a href="thread.html#789">[ thread ]</a>
              <a href="subject.html#789">[ subject ]</a>
              <a href="author.html#789">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

I once wrote a task managing application where users would login to see in
the home page a queue of incoming tasks and work on them.
Many users would hit the refresh button on home page, or hit the back
button after reading a task, and because the home page was reached after a
login screen (username &amp; password posted), they would get the &quot;page has
expired message&quot;, very annoying.

The way I solved it:
1- I coded an authenticate function: User name &amp; password get validated,
and if OK, some important user data gets saved as session variables.
2- On top of each page, I call a validate function that starts the session
and checks the session variables in (1). If they're not registered, it will
display login page, otherwise continues with validation (acls,
initialization, etc....)

When user first logins (in index.php), I get their username/password via a
POST form. If authentication (2) returns true, I use &quot;header&quot; to forward
them to the mainpage (main.php), free of all forms and thus, free of the
&quot;expired&quot; problem when refresh/back buttons are hit.

Because on top of mainpage validation function gets called, nobody can
access it without passing first through authentication.



So, you can save your post variables (either in the DB with session as a
key, or link them to session variables (as cookies)) and then send a header
that forwards to a new php page that will fetch your variables and display
the page. Since this new page would not be associated to any post action --
your variables came from the DB, not from post --, reloading or going out
and back in with the back button will not give any &quot;expired&quot; problem.

Voila!!!!






</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000788.html">[nycphp-talk] Printing...............
</A></li>
	<LI>Next message: <A HREF="000790.html">[nycphp-talk] Warning: Page has expired!!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#789">[ date ]</a>
              <a href="thread.html#789">[ thread ]</a>
              <a href="subject.html#789">[ subject ]</a>
              <a href="author.html#789">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

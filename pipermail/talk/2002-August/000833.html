<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Paging through large result sets
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2002-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Paging%20through%20large%20result%20sets&In-Reply-To=%3C20020829144730.WCQI23887.mta10.onebox.com%40onebox.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000832.html">
   <LINK REL="Next"  HREF="000834.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Paging through large result sets</H1>
    <B>ophir prusak</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Paging%20through%20large%20result%20sets&In-Reply-To=%3C20020829144730.WCQI23887.mta10.onebox.com%40onebox.com%3E"
       TITLE="[nycphp-talk] Paging through large result sets">prutwo at onebox.com
       </A><BR>
    <I>Thu Aug 29 10:47:30 EDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="000832.html">mysql_pconnect()
</A></li>
        <LI>Next message: <A HREF="000834.html">[nycphp-talk] mysql_pconnect
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#833">[ date ]</a>
              <a href="thread.html#833">[ thread ]</a>
              <a href="subject.html#833">[ subject ]</a>
              <a href="author.html#833">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Mike,

You're on the right track, but it really depends on many different variables.
Can you tell us the specifics of the application in mind ?

If the site doesn't get to much traffic, and the original query is fast
enough for your needs, then who cares if it's not efficient :)
I'd only go with a different solution if the query takes a &quot;long time&quot;.
The solution you propose would work, but is it worth the comlexity ?

I have an idea that would work if :
1. Using MySQL 4.X is an option (yes I know it's beta, but it's really
quite stable) 
2. You can pump the MySQL and PHP machines with memory
3. You can limit the max number of results (to like a few hundred)

What you could do is:

1. Do the complicated query with a limit of the max number of results
2. read the whole thing into an array
3. just display array entires x to y.

MySQL 4.x has result caching, so re-doing the query will be FAST.

Basically it's more or less the same idea as you had, but instead of
trying to cache the results yourself, you're letting MySQL 4.X do it
for you. Of course there are plenty of other MySQL result cache solutions
out there if MySQL 4.x is not an option, or you need finer control of
the cache.

Hope that helped.
Ophir

p.s.
We've actually done exactly what you describe on one of the projects
where I work (Community Connect Inc).

----
Ophir Prusak
Internet developer 
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">prutwo at onebox.com</A> | <A HREF="http://www.prusak.com/">http://www.prusak.com/</A> 

---- Mike Myers &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">myersm at optonline.net</A>&gt; wrote:
&gt;<i> 
</I>&gt;<i> First: I am a newcomer to MySQL and PHP. So I will be asking many newbie
</I>&gt;<i> questions, which I hope is not a drag!
</I>&gt;<i> 
</I>&gt;<i> Environ: Macintosh G4 running OSX, MySQL and PHP installations provided
</I>&gt;<i> by
</I>&gt;<i> the inimitable Marc Liyanage. Webserver is Apache.
</I>&gt;<i> 
</I>&gt;<i> Experience: Proficient with UserLand Frontier scripting and webserving;
</I>&gt;<i> moderate experience with perl and javascript. PHP looks pretty
</I>&gt;<i> straightforward.
</I>&gt;<i> 
</I>&gt;<i> I have already built a few MySQL databases from scratch, so I have
</I>&gt;<i> some
</I>&gt;<i> experience with the mysql client, mysqladmin, and mysqlimport. Lately
</I>&gt;<i> I have
</I>&gt;<i> also been using the web-based frontend phpMyAdmin.
</I>&gt;<i> 
</I>&gt;<i> ----
</I>&gt;<i> 
</I>&gt;<i> What are the implementation strategies for allowing a user to page
</I>&gt;<i> through a
</I>&gt;<i> result set that is too large to view in its entirety?
</I>&gt;<i> 
</I>&gt;<i> I see that for simple queries (eg. 1 table or 1 join), the LIMIT statement
</I>&gt;<i> is the easy solution, which entails re-running the SQL query as the
</I>&gt;<i> user
</I>&gt;<i> browses.
</I>&gt;<i> 
</I>&gt;<i> But what if the query has multiple joins? It seems inefficient to re-run
</I>&gt;<i> the
</I>&gt;<i> query each time. If I want to cache the original result in a new MySQL
</I>&gt;<i> table, then I have to manage that on a per-user basis. This implies
</I>&gt;<i> using
</I>&gt;<i> cookies or session ID to track the user.
</I>&gt;<i> 
</I>&gt;<i> This also suggests I need to code a separate process that periodically
</I>&gt;<i> drops
</I>&gt;<i> these temporary result tables after a defined time has passed. Thus,
</I>&gt;<i> I need
</I>&gt;<i> to continually track the time of last access to each temp table. That
</I>&gt;<i> data
</I>&gt;<i> could go in another MySQL table, or a file of my own convention.
</I>&gt;<i> 
</I>&gt;<i> Whew! There are probably other aspects of this arrangement that require
</I>&gt;<i> management code.
</I>&gt;<i> 
</I>&gt;<i> Am I on the right track here, or am I making it harder than it needs
</I>&gt;<i> to be?
</I>&gt;<i> 
</I>&gt;<i> -- mike myers
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>

 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000832.html">mysql_pconnect()
</A></li>
	<LI>Next message: <A HREF="000834.html">[nycphp-talk] mysql_pconnect
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#833">[ date ]</a>
              <a href="thread.html#833">[ thread ]</a>
              <a href="subject.html#833">[ subject ]</a>
              <a href="author.html#833">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

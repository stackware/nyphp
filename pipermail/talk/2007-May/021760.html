<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] form spoofing
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-May/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20form%20spoofing&In-Reply-To=%3C17459-04598%40sneakemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021759.html">
   <LINK REL="Next"  HREF="021761.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] form spoofing</H1>
    <B>inforequest</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20form%20spoofing&In-Reply-To=%3C17459-04598%40sneakemail.com%3E"
       TITLE="[nycphp-talk] form spoofing">1j0lkq002 at sneakemail.com
       </A><BR>
    <I>Tue May  1 12:47:37 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="021759.html">[nycphp-talk] form spoofing
</A></li>
        <LI>Next message: <A HREF="021761.html">[nycphp-talk] form spoofing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21760">[ date ]</a>
              <a href="thread.html#21760">[ thread ]</a>
              <a href="subject.html#21760">[ subject ]</a>
              <a href="author.html#21760">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Michael.

Can you think of any good reason to accept a submission via a known open 
proxy? You can grab a maintained open proxy list and use it for a while 
Rolan-style... to tag potential spam as an experiment. Every market is 
different, but in the tech world I see no valid reason to accept 
connections from known open proxies (they are always spam). As a 
competitive SEO, I know of no easier way to automate web connections 
than via open proxies.

Bot nets are still a problem and all the big boys use them so maybe get 
used to a little spam here and there as well.

-=john


Michael Southwell michael.southwell-at-nyphp.com |nyphp dev/internal 
group use| wrote:

&gt;<i> I thought I was following best practices ( 
</I>&gt;<i> <A HREF="http://www.nyphp.org/phundamentals/spoofed_submission.php">http://www.nyphp.org/phundamentals/spoofed_submission.php</A> ) in 
</I>&gt;<i> creating a comment form for a restaurant client (There is no security 
</I>&gt;<i> issue here; the comments are emailed):
</I>&gt;<i>
</I>&gt;<i> I stored a random token in the session:
</I>&gt;<i>
</I>&gt;<i> session_start();
</I>&gt;<i> if ( ! isset( $_SESSION['secret'] ) ) $_SESSION['secret'] = uniqid( 
</I>&gt;<i> rand(), TRUE );
</I>&gt;<i>
</I>&gt;<i> I hid that token in the form:
</I>&gt;<i>
</I>&gt;<i> &lt;form action=&quot;comments.php&quot; method=&quot;post&quot; onSubmit=&quot;return 
</I>&gt;<i> checkForm(this)&quot;&gt;
</I>&gt;<i> &lt;input type=&quot;hidden&quot; name=&quot;secret&quot; value=&quot;&lt;?= $_SESSION['secret'] ?&gt;&quot; /&gt;
</I>&gt;<i>
</I>&gt;<i> Upon submission, I checked for the token:
</I>&gt;<i>
</I>&gt;<i> if ( $_POST['secret'] !== $_SESSION['secret'] ) die( 'invalid form 
</I>&gt;<i> submission' );
</I>&gt;<i>
</I>&gt;<i> But I still got obvious spoofed submissions, not very many of them, 
</I>&gt;<i> and all vapid and often nonsensical (a sample: &quot;I consider that beside 
</I>&gt;<i> Your site there is future!&quot;), but still maddening.  So I added a 
</I>&gt;<i> five-minute timeout:
</I>&gt;<i>
</I>&gt;<i> if ( ! isset( $_SESSION['timeout'] ) ) {
</I>&gt;<i>   $timeout = time() + 5 * 60;
</I>&gt;<i>   $_SESSION['timeout'] = $timeout;
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> and checked for that as well:
</I>&gt;<i>
</I>&gt;<i> $now = time();
</I>&gt;<i> if ( $_POST['secret'] !== $_SESSION['secret'] || $now &gt; 
</I>&gt;<i> $_SESSION['timeout'] ) die( 'invalid form submission' );
</I>&gt;<i>
</I>&gt;<i> But this hasn't helped much; I still get a few of them, though I can't 
</I>&gt;<i> figure out how they can be generated.  Any advice?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Michael Southwell, Vice President for Education
</I>&gt;<i> New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.com/training">http://www.nyphp.com/training</A> - In-depth PHP Training Courses
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i>
</I>&gt;<i> Show Your Participation in New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>&gt;<i>
</I>

-- 
-------------------------------------------------------------
Your web server traffic log file is the most important source of web business information available. Do you know where your logs are right now? Do you know who else has access to your log files? When they were last archived? Where those archives are? --John Andrews Competitive Webmaster and SEO Blogging at <A HREF="http://www.johnon.com">http://www.johnon.com</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021759.html">[nycphp-talk] form spoofing
</A></li>
	<LI>Next message: <A HREF="021761.html">[nycphp-talk] form spoofing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21760">[ date ]</a>
              <a href="thread.html#21760">[ thread ]</a>
              <a href="subject.html#21760">[ subject ]</a>
              <a href="author.html#21760">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

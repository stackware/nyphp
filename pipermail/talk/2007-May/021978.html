<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] How not to save HTML entities to the DB when using	htmlentities()?
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-May/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20How%20not%20to%20save%20HTML%20entities%20to%20the%20DB%20when%20using%0A%09htmlentities%28%29%3F&In-Reply-To=%3C20070527175547.614a3a34.mba2000%40ioplex.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021977.html">
   <LINK REL="Next"  HREF="021979.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] How not to save HTML entities to the DB when using	htmlentities()?</H1>
    <B>Michael B Allen</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20How%20not%20to%20save%20HTML%20entities%20to%20the%20DB%20when%20using%0A%09htmlentities%28%29%3F&In-Reply-To=%3C20070527175547.614a3a34.mba2000%40ioplex.com%3E"
       TITLE="[nycphp-talk] How not to save HTML entities to the DB when using	htmlentities()?">mba2000 at ioplex.com
       </A><BR>
    <I>Sun May 27 17:55:47 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="021977.html">[nycphp-talk] $_SERVER
</A></li>
        <LI>Next message: <A HREF="021979.html">[nycphp-talk] How not to save HTML entities to the DB when using	htmlentities()?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21978">[ date ]</a>
              <a href="thread.html#21978">[ thread ]</a>
              <a href="subject.html#21978">[ subject ]</a>
              <a href="author.html#21978">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi List,

I don't do a lot of websites so pardon me if this is a stupid question.

I am using htmlentities($text, ENT_COMPAT, 'UTF-8'); to escape text from
the db to be displayed in form fields. This works fine but when the text
is saved in the database the entities are saved with it.

For example, if the text in the db is 'Mike &amp; Ike', the form field looks like:

&lt;input type='text' name='foo' value='Mike &amp;amp; Ike'/&gt;

This is displayed correctly but when I submit this to the server it is
saved to the database as 'Mike &amp;amp; Ike'. The next time it is output
in HTML I get:

&lt;input type='text' name='foo' value='Mike &amp;amp;amp; Ike'/&gt;

which is, of course, NOT displayed correctly.

How can I protect my pages from script injection and display content in
form fields correctly?

Mike

-- 
Michael B Allen
PHP Active Directory Kerberos SSO
<A HREF="http://www.ioplex.com/">http://www.ioplex.com/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021977.html">[nycphp-talk] $_SERVER
</A></li>
	<LI>Next message: <A HREF="021979.html">[nycphp-talk] How not to save HTML entities to the DB when using	htmlentities()?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21978">[ date ]</a>
              <a href="thread.html#21978">[ thread ]</a>
              <a href="subject.html#21978">[ subject ]</a>
              <a href="author.html#21978">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

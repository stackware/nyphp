<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Need some understanding about a hacker attack...
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-October/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Need%20some%20understanding%20about%20a%20hacker%20attack...&In-Reply-To=%3C1223733640.6313.12.camel%40dan-linux-home.nycap.rr.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026828.html">
   <LINK REL="Next"  HREF="026829.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Need some understanding about a hacker attack...</H1>
    <B>Dan Horning</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Need%20some%20understanding%20about%20a%20hacker%20attack...&In-Reply-To=%3C1223733640.6313.12.camel%40dan-linux-home.nycap.rr.com%3E"
       TITLE="[nycphp-talk] Need some understanding about a hacker attack...">dan.horning at planetnoc.com
       </A><BR>
    <I>Sat Oct 11 10:00:40 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026828.html">[nycphp-talk] Need some understanding about a hacker	attack...
</A></li>
        <LI>Next message: <A HREF="026829.html">[nycphp-talk] Need some understanding about a hacker attack...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26827">[ date ]</a>
              <a href="thread.html#26827">[ thread ]</a>
              <a href="subject.html#26827">[ subject ]</a>
              <a href="author.html#26827">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 2008-10-11 at 09:42 -0400, David Krings wrote:
&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mikesz at qualityadvantages.com</A> wrote:
</I>&gt;<i> &gt; I checked my test system also and when I do a directory the /xml
</I>&gt;<i> &gt; folder, it shows me the content of the folder which is yet another
</I>&gt;<i> &gt; outcome unexpected.
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> There is a setting in the Apache config that prevents the listing of 
</I>&gt;<i> directories. In a production system that should be always turned off.
</I>&gt;<i> Also, IIRC you can specify the name of the access file in the config as well, 
</I>&gt;<i> so it may not always be .htaccess, but I cannot think of any plausible reason 
</I>&gt;<i> to change that. But that may be worthwhile to check out.
</I>&gt;<i> 
</I>&gt;<i> Oh, and at your earliest convenience change the hosting company. If they 
</I>&gt;<i> cannot tell you how such a takeover happened then I wonder what they charge 
</I>&gt;<i> you money for. Anyone with a PC can do that type of hosting...
</I>
On one hand i can understand how the host wouldn't know exactly how the
files got there - but the file ownership and logs should give much more
information away and they should know if it was a shell attack, a remote
file inclusion, or any number of common attacks. 

from your side though - are you using a common code base or module that
might be vulnerable, or maybe an old version of a now patched software
setup? if you are, what i use then might be something to look for in a
web host - we use an intrusion detection system that combines
mod_security with some well written rules along with some other software
that monitors everything. With that in place although I'm sure there is
still a way for someone to find a way into your system, it's incredibly
less likely, and the automated attackers would most certainly not work. 

to answer your question about the .htaccess file - there is also a
possibility that the host does not have all of the AllowOverride
directive active for your hosting account. in that case some items would
work and others wouldn't.

next up the content of your .htaccess
it's probably not what you wanted to do and i'm nearly positive that the
deny/allow isn't working
&gt;<i> -Indexes
</I>- turns off directory listings
you may also need to change this to another name - thus triggering the
default not to be shown
&gt;<i> DirectoryIndex index.php 
</I> - that will make the only file index.php that will show up when you did
<A HREF="http://host/xml/">http://host/xml/</A> (correct me if i'm thinking the other directive it's
early) 
--------------------------------------
&gt;<i> Options -Indexes
</I>&gt;<i> 
</I>&gt;<i> order deny,allow
</I>&gt;<i> 
</I>&gt;<i> &lt;files &quot;*.*&quot;&gt;
</I>&gt;<i> Deny from All
</I>&gt;<i> &lt;/files&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;files &quot;*.*&quot;&gt;
</I>&gt;<i> Allow from 127.0.0.1 localhost
</I>&gt;<i> &lt;/files&gt;
</I>
this is a working config for something i have running
&gt;<i> Options -Indexes                                                                
</I>&gt;<i>                                                                                 
</I>&gt;<i> AuthUserFile /pathto/.htpasswd&quot;                     
</I>&gt;<i> AuthType Basic                                                                  
</I>&gt;<i> AuthName &quot;Staff Only&quot;                                                           
</I>&gt;<i> Satisfy Any                                                                     
</I>&gt;<i>                                                                                 
</I>&gt;<i> &lt;Limit GET POST&gt;                                                                
</I>&gt;<i> order deny,allow                                                                
</I>&gt;<i> deny from all                                                                   
</I>&gt;<i> allow from some.ip.add.ress                                                        
</I>&gt;<i> require valid-user                                                              
</I>&gt;<i> &lt;/Limit&gt;        
</I>
-- 
Dan Horning

American Digital Services - Where you are only limited by imagination.
direct 1-866-493-4218 . main 1-800-863-3854 . fax 1-888-474-6133
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">dan.horning at planetnoc.com</A>
<A HREF="http://www.americandigitalservices.com">http://www.americandigitalservices.com</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026828.html">[nycphp-talk] Need some understanding about a hacker	attack...
</A></li>
	<LI>Next message: <A HREF="026829.html">[nycphp-talk] Need some understanding about a hacker attack...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26827">[ date ]</a>
              <a href="thread.html#26827">[ thread ]</a>
              <a href="subject.html#26827">[ subject ]</a>
              <a href="author.html#26827">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Blog Posts with Embedded Content
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-October/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Blog%20Posts%20with%20Embedded%20Content&In-Reply-To=%3C8f0676b40810130647r66d940f7p749a97df36e88227%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026840.html">
   <LINK REL="Next"  HREF="026843.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Blog Posts with Embedded Content</H1>
    <B>John Campbell</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Blog%20Posts%20with%20Embedded%20Content&In-Reply-To=%3C8f0676b40810130647r66d940f7p749a97df36e88227%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] Blog Posts with Embedded Content">jcampbell1 at gmail.com
       </A><BR>
    <I>Mon Oct 13 09:47:32 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026840.html">[nycphp-talk] Blog Posts with Embedded Content
</A></li>
        <LI>Next message: <A HREF="026843.html">[nycphp-talk] Blog Posts with Embedded Content
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26841">[ date ]</a>
              <a href="thread.html#26841">[ thread ]</a>
              <a href="subject.html#26841">[ subject ]</a>
              <a href="author.html#26841">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Oct 12, 2008 at 7:19 PM, Hans Zaunere &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">lists at zaunere.com</A>&gt; wrote:
&gt;<i> Gentlemen,
</I>&gt;<i>
</I>&gt;&gt;<i> &gt; The safest approach is probably to pass the html through tidy, and
</I>&gt;&gt;<i> &gt; then into DOM, and traverse and count the length of text nodes, but
</I>&gt;&gt;<i> &gt; that would be quite slow if you ran it on every request.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Right, +1 for Tidy and DOM, it's the &quot;real&quot; way to do it. You won't
</I>&gt;&gt;<i> need to do it on every request -- you can either store the summary
</I>&gt;&gt;<i> itself as a separate text field, or store the length of the summary as
</I>&gt;&gt;<i> an integer.
</I>&gt;<i>
</I>&gt;<i> I tried this, working through using both DOM and Tidy, and combinations of each - no luck.  The problem is getting the differential between the two versions of the text.
</I>&gt;<i>
</I>
This is a solvable problem, but the problem needs to be really well
defined.  I assume you want to snip the html, to show a preview.  If
you leave things like youtube videos and images, then the post could
be really long without much text.  Why do you need the differential
between the two versions?  As soon as you pass something through tidy,
getting the differential is impossible because it can change the html
in unpredictable ways.  Not cutting in the middle of a tag is pretty
easy to solve, just iterate and keep track of the open tags on a
stack.

-John Campbell

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026840.html">[nycphp-talk] Blog Posts with Embedded Content
</A></li>
	<LI>Next message: <A HREF="026843.html">[nycphp-talk] Blog Posts with Embedded Content
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26841">[ date ]</a>
              <a href="thread.html#26841">[ thread ]</a>
              <a href="subject.html#26841">[ subject ]</a>
              <a href="author.html#26841">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Blog Posts with Embedded Content
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-October/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Blog%20Posts%20with%20Embedded%20Content&In-Reply-To=%3C00ed01c928c3%247715a210%246540e630%24%40com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026798.html">
   <LINK REL="Next"  HREF="026801.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Blog Posts with Embedded Content</H1>
    <B>Hans Zaunere</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Blog%20Posts%20with%20Embedded%20Content&In-Reply-To=%3C00ed01c928c3%247715a210%246540e630%24%40com%3E"
       TITLE="[nycphp-talk] Blog Posts with Embedded Content">lists at zaunere.com
       </A><BR>
    <I>Tue Oct  7 17:27:13 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026798.html">[nycphp-talk] [OT] notebook recommendations - last call, Lenovo	T400 or T61?? 
</A></li>
        <LI>Next message: <A HREF="026801.html">[nycphp-talk] Blog Posts with Embedded Content
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26799">[ date ]</a>
              <a href="thread.html#26799">[ thread ]</a>
              <a href="subject.html#26799">[ subject ]</a>
              <a href="author.html#26799">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

So people post blogs, which may include a youtube link or image or href
embedded.

In one part of the application, they want to show only the first X number of
characters, before forcing a user to login.  So we need to cut the submitted
text at this character count, yet, of course, not cut in the middle of a
tag.

This has turned into a considerable annoyance and I'm wondering if anyone
has a quick tip/pointer to a resource to solve this - without writing
excessive text parsing code.

My general plan (although I hope someone has something better) is to:

-- write a function like DeltaOffsets( $Raw, $Stripped)  where $Raw is the
$Raw post and $Stripped is the post run through strip_tags.

-- the function would return an array with the positions relative to the
$Raw post of where the stripped text has started/stopped.

-- then upon writing to the browser, we could intelligently insert stripped
tags up to the cut-off-point of real text (ie, not counting the stripped
tags).

Although this seems like a lot of work for something that must be done all
the time, right?  Thoughts on how the other blog engines handle this?
There's got to be an easier way...?

Yes, security is another issue...

H



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026798.html">[nycphp-talk] [OT] notebook recommendations - last call, Lenovo	T400 or T61?? 
</A></li>
	<LI>Next message: <A HREF="026801.html">[nycphp-talk] Blog Posts with Embedded Content
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26799">[ date ]</a>
              <a href="thread.html#26799">[ thread ]</a>
              <a href="subject.html#26799">[ subject ]</a>
              <a href="author.html#26799">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

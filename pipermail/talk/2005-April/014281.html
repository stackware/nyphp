<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] PHP and Active Directory 2K3
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-April/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20and%20Active%20Directory%202K3&In-Reply-To=%3C000AF5E3911DB74CB6E2143BA91D1A25D309%40US1MAIL2.cubist.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014332.html">
   <LINK REL="Next"  HREF="014282.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] PHP and Active Directory 2K3</H1>
    <B>Shawn Coomey</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20and%20Active%20Directory%202K3&In-Reply-To=%3C000AF5E3911DB74CB6E2143BA91D1A25D309%40US1MAIL2.cubist.com%3E"
       TITLE="[nycphp-talk] PHP and Active Directory 2K3">shawn.coomey at cubist.com
       </A><BR>
    <I>Tue Apr 19 11:17:21 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014332.html">[nycphp-talk] memcache
</A></li>
        <LI>Next message: <A HREF="014282.html">[nycphp-talk] calling another script within php
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14281">[ date ]</a>
              <a href="thread.html#14281">[ thread ]</a>
              <a href="subject.html#14281">[ subject ]</a>
              <a href="author.html#14281">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi folks-

My first post!

I've been struggling with an issue for a few months. I am attempting to
search Active Directory 2003 via PHP, but am running into an issue searching
from the base DN (i.e. 'cn=company,cn=com'). This seems to be somewhat of a
known issue with AD2K3. A search at this level always returns:

Warning: ldap_search() [function.ldap-search]: Search: Partial results and
referral received

If I change my base DN to 'ou=someOU,dc=company,dc=com', searches work
properly. I was curious to see what would happen at the command line, so I
used openldap's ldapsearch function against AD and sure enough I got a bunch
of results that were truncated with 

ldap_result: Can't contact LDAP server

Of note: I have a base php class that sets the following options whenever a
bind is created (seems to be necessary for searching AD2K3 at all):

ldap_set_option($this-&gt;_ldap, LDAP_OPT_REFERRALS, 0);
ldap_set_option($this-&gt;_ldap, LDAP_OPT_PROTOCOL_VERSION, 3);

Anyone have any feedback about how to search the base dn of AD2K3?

TIA-

Shawn Coomey

-------------- next part --------------
_________________________________________________________________________

This e-mail and any attachments are meant for the intended recipient only and may contain information belonging to Cubist Pharmaceuticals, Inc. that is privileged, confidential, proprietary, and/or otherwise protected or prohibited from disclosure. If you have received this message in error, are not the intended recipient, or are uncertain about its proper handling, please notify the sender as soon as possible and immediately delete the e-mail and any attachments from your computer system. 
Cubist Pharmaceuticals, Inc., 65 Hayden Avenue, Lexington, Massachusetts, 02421, U.S.A.
781-860-8660 www.cubist.com
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014332.html">[nycphp-talk] memcache
</A></li>
	<LI>Next message: <A HREF="014282.html">[nycphp-talk] calling another script within php
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14281">[ date ]</a>
              <a href="thread.html#14281">[ thread ]</a>
              <a href="subject.html#14281">[ subject ]</a>
              <a href="author.html#14281">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

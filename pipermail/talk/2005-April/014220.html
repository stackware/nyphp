<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Zip webservice 0.1 
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-April/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Zip%20webservice%200.1%20&In-Reply-To=%3C4252BA24.1040404%40ceruleansky.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014235.html">
   <LINK REL="Next"  HREF="014224.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Zip webservice 0.1 </H1>
    <B>Jayesh Sheth</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Zip%20webservice%200.1%20&In-Reply-To=%3C4252BA24.1040404%40ceruleansky.com%3E"
       TITLE="[nycphp-talk] Zip webservice 0.1 ">jayeshsh at ceruleansky.com
       </A><BR>
    <I>Tue Apr  5 12:17:40 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014235.html">[nycphp-talk] Zip webservice 0.1
</A></li>
        <LI>Next message: <A HREF="014224.html">[nycphp-talk] Deconstructing google maps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14220">[ date ]</a>
              <a href="thread.html#14220">[ thread ]</a>
              <a href="subject.html#14220">[ subject ]</a>
              <a href="author.html#14220">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all,

I have an interesting followup question. I tried importing the 
aforementioned zip code data into MySQL using PHPMyAdmin, but it took 
over 5 minutes, and the script timed out.

I did the same using a PHP script run from the command line (using the 
CLI version of PHP) and it seemed to take but a few seconds (okay, maybe 
20 seconds) to insert 43191 rows.

The CLI import script follows. Does anyone know why PHPMyAdmin's import 
process takes so much longer?

Thanks,

- Jay Sheth

&lt;?php
// PHP Command Line script to import the all data from zipcodes.mysql 
into your database
/*
Usage:
On the command line -
c:\php4cli\php-cli.exe 
C:\your_comp\zipcodes\zipcodes_mysql\import_zip_cli.php

Remember to delete the last empty line from zipcode.mysql before running 
this script. Also, this script assumes that you have created the 
zipcodes table before hand, and have removed everything but the INSERT 
statements in the zipcodes.mysql file.
*/

$link = mysql_connect('localhost', 'root', '');
if (!$link)
{
   exit('Could not connect: ' . mysql_error());
}

mysql_select_db('zipcodes');

echo &quot;Connected successfully \n&quot;;

echo &quot;Loading file lines into array ... \n&quot;;

$lines = file(&quot;C:\\your_comp\\zipcodes\\zipcodes_mysql\\zipcodes.mysql&quot;);

echo &quot;Finished loading file lines into array ... \n&quot;;

echo &quot;Inserting data ... \n&quot;;

$num_lines = count($lines);

for ($i = 1; $i &lt;= $num_lines; $i++)
{
    $result = mysql_query( $lines[$i] );
   
    if (! $result)
    {
        exit(&quot;Error: could not read query at line $i :&quot; . $lines[$i] . &quot; 
. Exiting.&quot;);
    }
}

echo &quot;Finished importing data ... All done. $num_lines rows were 
inserted. Goodbye. \n&quot;;

mysql_close($link);
?&gt;

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014235.html">[nycphp-talk] Zip webservice 0.1
</A></li>
	<LI>Next message: <A HREF="014224.html">[nycphp-talk] Deconstructing google maps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14220">[ date ]</a>
              <a href="thread.html#14220">[ thread ]</a>
              <a href="subject.html#14220">[ subject ]</a>
              <a href="author.html#14220">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] session size important?
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-April/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20session%20size%20important%3F&In-Reply-To=%3C42680FCB.8000604%40phpwerx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014307.html">
   <LINK REL="Next"  HREF="014309.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] session size important?</H1>
    <B>Dan Cech</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20session%20size%20important%3F&In-Reply-To=%3C42680FCB.8000604%40phpwerx.net%3E"
       TITLE="[nycphp-talk] session size important?">dcech at phpwerx.net
       </A><BR>
    <I>Thu Apr 21 16:40:43 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014307.html">[nycphp-talk] session size important?
</A></li>
        <LI>Next message: <A HREF="014309.html">[nycphp-talk] aggregate views on serialized session data WAS:	session size important?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14308">[ date ]</a>
              <a href="thread.html#14308">[ thread ]</a>
              <a href="subject.html#14308">[ subject ]</a>
              <a href="author.html#14308">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've had pretty good success in the past using database-backed sessions 
with gzip compression.

I did it by writing my own session handlers which take the $_SESSION 
array, serialize and (optionally) gzip it, then store the result in a 
table.  A big advantage of this method is that you can store other 
useful data in the session like the activity time, user_id, etc for 
generating 'who's online' type reports, session timeouts, or whatever 
else might come in handy.

If you don't want to get involved with the inner workings of the session 
mechanism I would recommend looking at the session functions included 
with ADOdb.

Breaking session data across several different rows could work, however 
if data is getting that large I would probably think about using 
something like PEAR::Cache_Lite rather than extending the session mechanism.

Dan

csnyder wrote:
&gt;<i> On 4/21/05, Daniel Krook &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">krook at us.ibm.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> I saw some example a few months back about
</I>&gt;&gt;<i>about the space required by an application that had 20k of session data on
</I>&gt;&gt;<i>the file system x number of users x 20 minute time out which brought the
</I>&gt;&gt;<i>space needed to 2GB for a modest amount of users.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> So the answer is, store as much as you need to, and no more.
</I>&gt;<i> 
</I>&gt;<i> But I'm still curious about the performance implications of
</I>&gt;<i> serialize() / unserialize() -- should large sessions be broken up into
</I>&gt;<i> many rows of a table, so that updates only touch one row and not the
</I>&gt;<i> entire structure?
</I>&gt;<i> 
</I>&gt;<i> It seems like if you had A LOT of data being stored in the session,
</I>&gt;<i> you would be better off putting it into a db and only reading/writing
</I>&gt;<i> the rows you need for a given request. Then the only thing stored in
</I>&gt;<i> $_SESSION would be the key(s) to those rows...
</I>&gt;<i> 
</I>&gt;<i> The disk size requirements don't go away, but processing might be more
</I>&gt;<i> efficient.
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014307.html">[nycphp-talk] session size important?
</A></li>
	<LI>Next message: <A HREF="014309.html">[nycphp-talk] aggregate views on serialized session data WAS:	session size important?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14308">[ date ]</a>
              <a href="thread.html#14308">[ thread ]</a>
              <a href="subject.html#14308">[ subject ]</a>
              <a href="author.html#14308">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

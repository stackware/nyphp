<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Replace restrictions
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-April/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Replace%20restrictions&In-Reply-To=%3Cb7625269050412072674c70010%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014254.html">
   <LINK REL="Next"  HREF="014255.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Replace restrictions</H1>
    <B>csnyder</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Replace%20restrictions&In-Reply-To=%3Cb7625269050412072674c70010%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] Replace restrictions">chsnyder at gmail.com
       </A><BR>
    <I>Tue Apr 12 10:26:04 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014254.html">[nycphp-talk] Replace restrictions
</A></li>
        <LI>Next message: <A HREF="014255.html">[nycphp-talk] Anyone have experience with PC charge?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14256">[ date ]</a>
              <a href="thread.html#14256">[ thread ]</a>
              <a href="subject.html#14256">[ subject ]</a>
              <a href="author.html#14256">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Apr 11, 2005 3:25 PM, Spot &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">spot at deviantart.com</A>&gt; wrote:

&gt;<i> Each comment goes through quite a few search/replace operations. We have
</I>&gt;<i> some malicious users posting comments with thousands of emoticons (for
</I>&gt;<i> example) but we have not located an efficient way to limit this since
</I>&gt;<i> all search/replace function do not have a limiting option.
</I>
I'm guessing that you need to parse each comment every time its
displayed for this to really be a problem... if you were only parsing
on insert, you could discard any comments that had thousands of
anything.

One way to limit search and replace operations is to use the slower
but more controllable preg_match_all(), and check how many matches
were found before carrying out the replacements using the matches
array (with captured offsets). This is probably way too bulky to use
on every comment view, but should be fine on comment insertion.

You should definitely be caching parsed comments, though.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014254.html">[nycphp-talk] Replace restrictions
</A></li>
	<LI>Next message: <A HREF="014255.html">[nycphp-talk] Anyone have experience with PC charge?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14256">[ date ]</a>
              <a href="thread.html#14256">[ thread ]</a>
              <a href="subject.html#14256">[ subject ]</a>
              <a href="author.html#14256">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Can I do this in one query?
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-April/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Can%20I%20do%20this%20in%20one%20query%3F&In-Reply-To=%3C0IEQ00GYJMIHBY%40mta6.srv.hcvlny.cv.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014243.html">
   <LINK REL="Next"  HREF="014245.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Can I do this in one query?</H1>
    <B>Tom Melendez</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Can%20I%20do%20this%20in%20one%20query%3F&In-Reply-To=%3C0IEQ00GYJMIHBY%40mta6.srv.hcvlny.cv.net%3E"
       TITLE="[nycphp-talk] Can I do this in one query?">tom at supertom.com
       </A><BR>
    <I>Sun Apr 10 12:05:15 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014243.html">[nycphp-talk] Can I do this in one query?
</A></li>
        <LI>Next message: <A HREF="014245.html">[nycphp-talk] Can I do this in one query?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14244">[ date ]</a>
              <a href="thread.html#14244">[ thread ]</a>
              <a href="subject.html#14244">[ subject ]</a>
              <a href="author.html#14244">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Dan and Harvey,

It is actually normalized, with category in its own table.  I was just
trying to keep it simple.

I came to the same conclusion that you both did, so that's what I went with.

Thanks for the help!

Tom

<A HREF="http://www.liphp.org">http://www.liphp.org</A>
 

-----Original Message-----
From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A> [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>] On
Behalf Of Daniel Convissor
Sent: Saturday, April 09, 2005 4:07 PM
To: NYPHP Talk
Subject: Re: [nycphp-talk] Can I do this in one query?

Hi Tom:

On Sat, Apr 09, 2005 at 12:28:39AM -0400, Tom wrote:
&gt;<i> Can I do this in one query?
</I>&gt;<i>  
</I>&gt;<i> Suppose I have a three column table (it is really not, but I'm trying 
</I>&gt;<i> to keep it simple)
</I>&gt;<i>  
</I>&gt;<i> table: scores
</I>&gt;<i> name, varchar(40)
</I>&gt;<i> category, varchar(40)
</I>&gt;<i> points, int
</I>
Your question aside, you've got to normalize.  Category, and possibly name,
should be integers with the full text in another table.


&gt;<i> I would like to select the top 5 in each category with the most amount of
</I>&gt;<i> points, and group them by category, to ultimately be displayed like this:
</I>
I can't quickly think of a way to get the first five in a query.  But, 
what I'd do is run one query:

   select * from scores
   group by category, person
   order by category asc, points desc

Then loop through the result set.  After the first five, stop displaying
but continue looping until the category changes.  Then print those 5, 
etc...  Make sure to put in some logic to deal with tie scores.

--Dan

-- 
 T H E   A N A L Y S I S   A N D   S O L U T I O N S   C O M P A N Y
            data intensive web and database programming
                <A HREF="http://www.AnalysisAndSolutions.com/">http://www.AnalysisAndSolutions.com/</A>
 4015 7th Ave #4, Brooklyn NY 11232  v: 718-854-0335 f: 718-854-0409
_______________________________________________
New York PHP Talk Mailing List
AMP Technology
Supporting Apache, MySQL and PHP
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
<A HREF="http://www.nyphp.org">http://www.nyphp.org</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014243.html">[nycphp-talk] Can I do this in one query?
</A></li>
	<LI>Next message: <A HREF="014245.html">[nycphp-talk] Can I do this in one query?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14244">[ date ]</a>
              <a href="thread.html#14244">[ thread ]</a>
              <a href="subject.html#14244">[ subject ]</a>
              <a href="author.html#14244">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Debugging Remote Problem - Solved
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2006-February/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Debugging%20Remote%20Problem%20-%20Solved&In-Reply-To=%3C43FC7E5E.2010103%40cyberxdesigns.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017564.html">
   <LINK REL="Next"  HREF="017572.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Debugging Remote Problem - Solved</H1>
    <B>Hans Kaspersetz</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Debugging%20Remote%20Problem%20-%20Solved&In-Reply-To=%3C43FC7E5E.2010103%40cyberxdesigns.com%3E"
       TITLE="[nycphp-talk] Debugging Remote Problem - Solved">lamolist at cyberxdesigns.com
       </A><BR>
    <I>Wed Feb 22 10:08:14 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017564.html">[nycphp-talk] Debugging Remote Problem
</A></li>
        <LI>Next message: <A HREF="017572.html">[nycphp-talk] Debugging Remote Problem - Solved
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17570">[ date ]</a>
              <a href="thread.html#17570">[ thread ]</a>
              <a href="subject.html#17570">[ subject ]</a>
              <a href="author.html#17570">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The problem came down to Joomla and Mambo using the user's IP address 
authenticate users.  When users come from a proxy farm their IP address 
changes mid session and they loose the data that connects them to the 
stored session data and the user is logged out.

I would suggest reading: 
<A HREF="http://www.mambers.com/showthread.php?p=127067#post127067">http://www.mambers.com/showthread.php?p=127067#post127067</A>

 From the post:
----------------  snip -------------
The problem, as another poster outlined above, is that Mambo is using 
the users ip address to authenticate sessions ($_SERVER['REMOTE_ADDR']), 
and AOL users who use the AOL browser are coming through proxy banks, 
and could potentially have one of up to 128 different ip addresses for 
every separate page request.
----------------- end snip --------

When reading this post just substitute the word proxy farm for AOL.

I have implemented his suggested hack:

--------

|<i>$test = explode('.', $_SERVER['REMOTE_ADDR']);
</I>unset ($test[3]);
$test = join('.', $test);

------

My users in SA seem to be using the site successfully now.  One major 
problem with this hack is that you have to modify Mambo.php.  I hate 
making changes to the core of an application because now I have to track 
this thing and apply patches into the future manually or reapply my 
patch after the update.

Remember to apply this fix to any of your custom code that relies on 
session data.

I hope this helps, it certainly helped me.

Hans Kaspersetz
Cyber X Designs
<A HREF="http://www.cyberxdesigns.com">http://www.cyberxdesigns.com</A>

|<i>
</I>

&gt;&gt;<i> If a proxy is in the way
</I>&gt;&gt;<i> maybe this will help
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="http://forum.mamboserver.com/showthread.php?t=18759">http://forum.mamboserver.com/showthread.php?t=18759</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   
</I>&gt;&gt;<i>     
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017564.html">[nycphp-talk] Debugging Remote Problem
</A></li>
	<LI>Next message: <A HREF="017572.html">[nycphp-talk] Debugging Remote Problem - Solved
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17570">[ date ]</a>
              <a href="thread.html#17570">[ thread ]</a>
              <a href="subject.html#17570">[ subject ]</a>
              <a href="author.html#17570">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] PHP 5 Throwing Exceptions in Constructors
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-February/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%205%20Throwing%20Exceptions%20in%20Constructors&In-Reply-To=%3C20050214180053.C651DA87B1%40virtu.nyphp.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013607.html">
   <LINK REL="Next"  HREF="013613.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] PHP 5 Throwing Exceptions in Constructors</H1>
    <B>Hans Zaunere</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%205%20Throwing%20Exceptions%20in%20Constructors&In-Reply-To=%3C20050214180053.C651DA87B1%40virtu.nyphp.org%3E"
       TITLE="[nycphp-talk] PHP 5 Throwing Exceptions in Constructors">lists at zaunere.com
       </A><BR>
    <I>Mon Feb 14 13:00:47 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="013607.html">[nycphp-talk] PHP 5 Throwing Exceptions in Constructors
</A></li>
        <LI>Next message: <A HREF="013613.html">[nycphp-talk] PHP 5 Throwing Exceptions in Constructors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13655">[ date ]</a>
              <a href="thread.html#13655">[ thread ]</a>
              <a href="subject.html#13655">[ subject ]</a>
              <a href="author.html#13655">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> &gt; I was dealing with this exact same dilemma on a project I'm currently
</I>&gt;<i> &gt; coding.
</I>&gt;<i> &gt; We ending up going with Adam's option B: move the code which can fail
</I>&gt;<i> &gt; to outside the constructor.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; In the original design the you could create an object where the
</I>&gt;<i> &gt; constructor could read some information from a database.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; In the final design, we moved the database code to a new load()
</I>&gt;<i> &gt; function that executes the actual database call. This does add an
</I>&gt;<i> &gt; additional step, but having the constructor throw an execution just
</I>&gt;<i> &gt; messes things up.
</I>&gt;<i> 
</I>&gt;<i> This is a best practice in many OO languages (for instance c++)
</I>
Yeah, I in fact have an Init() method just for these reasons.

The issue really wasn't even about a constructor.  It boiled down to the fact that throwing an exception is just too &quot;strong&quot; for what I wanted to do, ie, let the object be created regardless.

Even after moving the throw out of __construct(), if __construct() called some other object or method that threw an exception, it was killed.  Sure, I could have added a bunch of try/catch pairs, but I started to feel I was removing encapsulation.  I ended up having these potential problem areas simply set properties, which can then be accessed later.

I guess the takeaway here is that if you have simple base classes that can succeed to different degrees or not, it's better to not have them throw exceptions unless you want to ensure a major change in program flow (thus, an exception :)

---
Hans Zaunere
President, Founder

New York PHP
<A HREF="http://www.nyphp.org">http://www.nyphp.org</A>

AMP Technology
Supporting Apache, MySQL and PHP





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013607.html">[nycphp-talk] PHP 5 Throwing Exceptions in Constructors
</A></li>
	<LI>Next message: <A HREF="013613.html">[nycphp-talk] PHP 5 Throwing Exceptions in Constructors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13655">[ date ]</a>
              <a href="thread.html#13655">[ thread ]</a>
              <a href="subject.html#13655">[ subject ]</a>
              <a href="author.html#13655">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

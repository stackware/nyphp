<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] 32bit vs AMD 64 versions of Apache and shared objects
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-February/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%2032bit%20vs%20AMD%2064%20versions%20of%20Apache%20and%20shared%20objects&In-Reply-To=%3C0MKz5u-1D5loe0a0s-0001Nq%40mrelay.perfora.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013789.html">
   <LINK REL="Next"  HREF="013790.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] 32bit vs AMD 64 versions of Apache and shared objects</H1>
    <B>Hans Zaunere</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%2032bit%20vs%20AMD%2064%20versions%20of%20Apache%20and%20shared%20objects&In-Reply-To=%3C0MKz5u-1D5loe0a0s-0001Nq%40mrelay.perfora.net%3E"
       TITLE="[nycphp-talk] 32bit vs AMD 64 versions of Apache and shared objects">lists at zaunere.com
       </A><BR>
    <I>Mon Feb 28 09:24:07 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="013789.html">[nycphp-talk] 32bit vs AMD 64 versions of Apache and shared objects
</A></li>
        <LI>Next message: <A HREF="013790.html">[nycphp-talk] Safely running root commands
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13799">[ date ]</a>
              <a href="thread.html#13799">[ thread ]</a>
              <a href="subject.html#13799">[ subject ]</a>
              <a href="author.html#13799">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hey Dan,

&gt;<i> I'm trying to configure a Xeon processor-based (EM64T/AMD 64) SuSE 9.2
</I>&gt;<i> Professional machine to run Apache 1.3.33, PHP 5.0.3 and WebSphere
</I>&gt;<i> Application Server 5.1.1.3.   I was able to get all these guys cooperating
</I>&gt;<i> on a 32 bit Pentium III machine on the same version of SuSE Pro.  But I
</I>&gt;<i> seem to be running into some 32 bit vs 64 bit issues on this new machine.
</I>
So if I read into this, IBM will be bundling PHP with WebSphere next?  :)

&gt;<i> The way things worked out on the older machine was that I had a binary
</I>&gt;<i> installation of Apache (IBM HTTP Server, based on 1.3.28) which used a
</I>&gt;<i> shared object to communicate with WAS, and which used libphp5.so that I
</I>&gt;<i> compiled against it via apxs for PHP.  All was well.
</I>&gt;<i> 
</I>&gt;<i> On this machine, however, I can't get the precompiled 32-bit Apache (IHS)
</I>&gt;<i> talking to PHP via libphp5.so, as the PHP build against it creates a
</I>&gt;<i> 64-bit object:
</I>&gt;<i> 
</I>&gt;<i> # /opt/IBMHttpServer/bin/apachectl configtest
</I>&gt;<i> Syntax error on line 231 of /opt/IBMHttpServer/conf/httpd.conf:
</I>&gt;<i> Cannot load /opt/IBMHttpServer/libexec/libphp5.so into server:
</I>&gt;<i> /opt/IBMHttpServer/libexec/libphp5.so: cannot open shared object file: No
</I>&gt;<i> such file or directory
</I>&gt;<i> 
</I>&gt;<i> # file /opt/IBMHttpServer/libexec/libphp5.so
</I>&gt;<i> /opt/IBMHttpServer/libexec/libphp5.so: ELF 64-bit LSB shared object, AMD
</I>&gt;<i> x86-64, version 1 (SYSV), not stripped
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On the other hand, if I try to compile my own version of Apache, it will
</I>&gt;<i> work with the 64-bit version of libphp5.so, but will not use the 32-bit
</I>&gt;<i> WebSphere plugin:
</I>&gt;<i> 
</I>&gt;<i> # /opt/local/apache/bin/apachectl configtest
</I>&gt;<i> Syntax error on line 243 of /opt/local/apache/conf/httpd.conf:
</I>&gt;<i> Cannot load /opt/WebSphere/AppServer/bin/mod_ibm_app_server_http.so into
</I>&gt;<i> server: /opt/WebSphere/AppServer/bin/mod_ibm_app_server_http.so: cannot
</I>&gt;<i> open shared object file: No such file or directory
</I>&gt;<i> 
</I>&gt;<i> # file /opt/WebSphere/AppServer/bin/mod_ibm_app_server_http.so
</I>&gt;<i> /opt/WebSphere/AppServer/bin/mod_ibm_app_server_http.so: ELF 32-bit LSB
</I>&gt;<i> shared object, Intel 80386, version 1 (SYSV), not stripped
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> So, I guess my question is how can I get my 64-bit version of Apache to
</I>&gt;<i> use the 32-bit WAS plugin, or alternately how can I get the 32-bit version
</I>&gt;<i> of IHS to use the 64-bit PHP object?  Is it possible to do that?  If not,
</I>
As far as I know (and from what I learned at our AMD meeting) it's not possible.  

&gt;<i> how would I compile a 32-bit version of libphp5.so on AMD 64 so that the
</I>&gt;<i> 32-bit version of IHS can use it?
</I>
You basically need to compile against the 32bit libs, which it probably is doing already, since you're not using PHP 5.1.  But then, to get it to link for 32bit, I'm not sure - possibly try --target=x86-unknown-linux-gnu in your ./configure.

Would be interested to hear what happens :)


---
Hans Zaunere
President, Founder

New York PHP
<A HREF="http://www.nyphp.org">http://www.nyphp.org</A>

AMP Technology
Supporting Apache, MySQL and PHP





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013789.html">[nycphp-talk] 32bit vs AMD 64 versions of Apache and shared objects
</A></li>
	<LI>Next message: <A HREF="013790.html">[nycphp-talk] Safely running root commands
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13799">[ date ]</a>
              <a href="thread.html#13799">[ thread ]</a>
              <a href="subject.html#13799">[ subject ]</a>
              <a href="author.html#13799">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] PHP segmentation fault with custom-compiled binaries -	Zen Cart
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-February/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20segmentation%20fault%20with%20custom-compiled%20binaries%20-%0A%09Zen%20Cart&In-Reply-To=%3C420D2CF9.9060102%40ceruleansky.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013633.html">
   <LINK REL="Next"  HREF="013636.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] PHP segmentation fault with custom-compiled binaries -	Zen Cart</H1>
    <B>Jayesh Sheth</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20segmentation%20fault%20with%20custom-compiled%20binaries%20-%0A%09Zen%20Cart&In-Reply-To=%3C420D2CF9.9060102%40ceruleansky.com%3E"
       TITLE="[nycphp-talk] PHP segmentation fault with custom-compiled binaries -	Zen Cart">jayeshsh at ceruleansky.com
       </A><BR>
    <I>Fri Feb 11 17:08:57 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="013633.html">[nycphp-talk] Re: Getting back to shopping carts [ WAS Re:	Liability	protection for consultants?]
</A></li>
        <LI>Next message: <A HREF="013636.html">[nycphp-talk] PEAR Prepare and Oracle to_date
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13635">[ date ]</a>
              <a href="thread.html#13635">[ thread ]</a>
              <a href="subject.html#13635">[ subject ]</a>
              <a href="author.html#13635">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all,

I have been having quite an 'interesting' time with some Zen Cart 
issues. The customer had Zen Cart installed on his shared host, Dreamhost.
The only payment module he had set up was PayPal. On step 3 of the 
checkout process, the cart would fail to post to PayPal, because it did 
not draw the required PayPal HTML form. Instead, it simply posted to his 
own site. (For a detailed description of the initial problem, please see 
my post here:
 <A HREF="http://www.zen-cart.com/modules/ipb/index.php?showtopic=16869&amp;st=0&amp;#entry96673">http://www.zen-cart.com/modules/ipb/index.php?showtopic=16869&amp;st=0&amp;#entry96673</A> 
)

Anyway, &quot;Kim&quot; from this forum with some 10,000 posts to her name, 
suggested that the reason it was failing was because the &quot;Zend 
Optimizer&quot; was not installed along with Dreamhost's PHP 4.3.10 binary. 
This seemed wrong to me, because Zend Optmizer only deals with 
'interpreting' compiled / encoded PHP code, and none of Zen Cart's code 
is compiled.

I installed Zen Cart on my local Windows, PHP 5, Apache 2, MySQL 
machine, and it ran fine. So, we thought that perhaps doing a custom 
compile of PHP 5 on Dreamhost (  for more info. please see: 
<A HREF="http://www.moztips.com/php5_install/">http://www.moztips.com/php5_install/</A> ) as a CGI binary, and registering 
that binary through a .htaccess file for .php files would make the 
program work, because there seemed to be some conflict between the 
current PHP version and Zen Cart.

The binary compiled file, the phpinfo() test script ( 
<A HREF="http://www.permanentimpressions1.com/phpinfo.php5">http://www.permanentimpressions1.com/phpinfo.php5</A> ) and other test 
scripts worked fine. But then, when encountering the main &quot;index.php&quot; 
page for Zen Cart (which serves as the main page controller / director 
to all its inner modules), produced an &quot;internal server error&quot;. I custom 
compiled PHP 4.3.10 too, the phpinfo ( 
<A HREF="http://www.permanentimpressions1.com/phpinfo.php4">http://www.permanentimpressions1.com/phpinfo.php4</A> ) and test script 
worked fine too, but I got the same error with Zen Cart.

Apache's error logs said the following:
[Fri Feb 11 12:53:58 2005] [error] [client 209.194.148.130] Premature 
end of script headers: /home/*username*/*domain*/cgi-bin/php4.cgi

I then decided to run the script in question through the command line to 
see what was happening:

cd /home/*username*/php/bin
./php /home/*username*/domainname.com/index.php

Then I got:
Segmentation fault

(The same thing happened with the PHP 4 compiled binary)

But with Dreamhost's PHP binary, it worked (And all the HTML spewed forth)
# It looks up php from the system path and runs it
php /home/*username*/domainname.com.com/index.php

Does anyone know:
a) Why Zen Cart failed to go past Step 3 in the first place?
b) Why the PHP interpreters are seg faulting on this index.php script? 
(It must be one heck of script!)

Thanks a billion in advance for any help.

- Jay




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013633.html">[nycphp-talk] Re: Getting back to shopping carts [ WAS Re:	Liability	protection for consultants?]
</A></li>
	<LI>Next message: <A HREF="013636.html">[nycphp-talk] PEAR Prepare and Oracle to_date
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13635">[ date ]</a>
              <a href="thread.html#13635">[ thread ]</a>
              <a href="subject.html#13635">[ subject ]</a>
              <a href="author.html#13635">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

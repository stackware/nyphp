<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Maybe [ot] Duplicate Content.
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-February/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Maybe%20%5Bot%5D%20Duplicate%20Content.&In-Reply-To=%3C20050203032010.GH18603%40desario.homelinux.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013516.html">
   <LINK REL="Next"  HREF="013543.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Maybe [ot] Duplicate Content.</H1>
    <B>Andrew Yochum</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Maybe%20%5Bot%5D%20Duplicate%20Content.&In-Reply-To=%3C20050203032010.GH18603%40desario.homelinux.net%3E"
       TITLE="[nycphp-talk] Maybe [ot] Duplicate Content.">andrew at plexpod.com
       </A><BR>
    <I>Wed Feb  2 22:20:22 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="013516.html">[nycphp-talk] Maybe [ot] Duplicate Content.
</A></li>
        <LI>Next message: <A HREF="013543.html">[nycphp-talk] Maybe [ot] Duplicate Content.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13542">[ date ]</a>
              <a href="thread.html#13542">[ thread ]</a>
              <a href="subject.html#13542">[ subject ]</a>
              <a href="author.html#13542">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Feb 01, 2005 at 04:38:09PM -0500, inforequest wrote:
&gt;<i> &gt;
</I>&gt;<i> Original Message:
</I>&gt;<i> -----------------
</I>&gt;<i> From: Andrew Yochum andrew-at-plexpod.com |nyphp dev/internal group use|
</I>&gt;<i> Date: Tue, 1 Feb 2005 15:05:46 -0500
</I>&gt;<i> To: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>
</I>&gt;<i> Subject: Re: [nycphp-talk] Maybe [ot] Duplicate Content.
</I>&gt;<i> I do something similar.  I have all domains point an A record at the
</I>&gt;<i> same IP, which normally would cause duplicate content.  To solve that I
</I>&gt;<i> have an include that goes in the my prepend of every site that looks
</I>&gt;<i> something like:
</I>&gt;<i> 
</I>&gt;<i>     $Config['Hostname'] = 'www.somedomain.com'
</I>&gt;<i> 
</I>&gt;<i>     if ($_SERVER['HTTP_HOST'] != $Config['Hostname']) {
</I>&gt;<i>         Header(&quot;HTTP/1.1 301 Moved Permanently&quot;);
</I>&gt;<i>         Header(&quot;Location: <A HREF="http://">http://</A>&quot; . $Config['Hostname'] .
</I>&gt;<i> $_SERVER['PHP_SELF'] . (StrLen($_SERVER['QUERY_STRING'])?
</I>&gt;<i> &quot;?&quot;.$_SERVER['QUERY_STRING'] : ''));
</I>&gt;<i>         exit();
</I>&gt;<i>     }
</I>&gt;<i> 
</I>&gt;<i> ... which ensures that the hostname being used to access the requested
</I>&gt;<i> page is the one we want to be called by...  &quot;I'm not Drew, I'm Andrew!&quot;
</I>&gt;<i> I call this &quot;hostname assertion&quot;.
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> Andrew
</I>&gt;<i> &lt;
</I>&gt;<i> 
</I>&gt;<i> Interesting to see PHP used to &quot;bypass&quot; Apache config...sort of (?)
</I>&gt;<i> 
</I>&gt;<i> What I wonder is why this might be a good thing to do? It won't get called
</I>&gt;<i> unless Apache says it belongs (hence you still have to set all the A
</I>&gt;<i> records) and then this has to tell apache to redirect anyway (which it
</I>&gt;<i> would have done if properly configured).
</I>
There are quite a few reasons why I don't let Apache do this.  Its
extremely useful in various situations and for various reasons.  In
general, its a consistent method that works for me and its part of my
usual framework.

If you're on a shared host, you don't always have control over Apache.
For instance, as you pointed out earlier newer CPanel versions park
domains w/ an A record pointed at the same IP, creating dupe content.
On a dedicated box w/ control of Apache you might still use this to
allow less technical people to have a method of managing requested URLs,
add new domains on-the-fly (you actually don't need to have it configed
in Apache if there is only one site on the box), etc.

Having a more complex version than the simple example above lets you
manage how these alternate domains are handled - either by redirecting
to the same desired domain with the same requested path &amp; query string,
or maybe to a specific page.  Think of a site called paintstore.com who
buys latexpaint.com and wants the latter to redirect to
paintstore.com/latex - easily managed if its all handled by your PHP
application.  Or, paintstore.com buys paint.com and wants to convert
that to their main domain.  This is a challenge to perform properly to
maintain your SEP.  You can even transition a user's session between old
and new domain so that there is no interruption for users at the time of
the cutover.  If you have code in there to inspect and manage the
requested URLs you can globally implement 301s, create hooks, etc.  Let
your imagination go.  There is a lot more power in having PHP in there
than just Apache, IMO.

Sure, some of this can be done in mod rewrite. And I do use some mod
rewrite stuff to complement this and even have some PHP to manage mod
rewrite rules.

Your thoughts on this?

&gt;<i> Maybe I ammissing something or maybe it's like mountain climbing?
</I>
Well, I don't know about mountain climbing. Maybe its like taking the
road less traveled?

Regards,
Andrew

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013516.html">[nycphp-talk] Maybe [ot] Duplicate Content.
</A></li>
	<LI>Next message: <A HREF="013543.html">[nycphp-talk] Maybe [ot] Duplicate Content.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13542">[ date ]</a>
              <a href="thread.html#13542">[ thread ]</a>
              <a href="subject.html#13542">[ subject ]</a>
              <a href="author.html#13542">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

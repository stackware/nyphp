<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] New to group and array question
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2006-September/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20New%20to%20group%20and%20array%20question&In-Reply-To=%3C6.1.2.0.2.20060911184401.02cb7d50%40pop.gmx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019228.html">
   <LINK REL="Next"  HREF="019229.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] New to group and array question</H1>
    <B>David Krings</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20New%20to%20group%20and%20array%20question&In-Reply-To=%3C6.1.2.0.2.20060911184401.02cb7d50%40pop.gmx.net%3E"
       TITLE="[nycphp-talk] New to group and array question">ramons at gmx.net
       </A><BR>
    <I>Mon Sep 11 19:51:51 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="019228.html">[nycphp-talk] Force download
</A></li>
        <LI>Next message: <A HREF="019229.html">[nycphp-talk] Calling Hans Zaunere
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19223">[ date ]</a>
              <a href="thread.html#19223">[ thread ]</a>
              <a href="subject.html#19223">[ subject ]</a>
              <a href="author.html#19223">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi!
         First of all, thank you for the great responses that pretty much 
cleared up my initial questions, but generated a few new ones. I will cut 
this digest down to some useful length (apologies to those who are hooked 
on thread IDs).

At 11:53 AM 9/11/2006, you wrote:
&gt;<i>    In general, yes, use single quotes.  Using double-quotes will cause
</I>&gt;<i>PHP to interpret the string, and is necessary if the key has a variable
</I>&gt;<i>in it, for example: $myarray[&quot;something_$var&quot;], with $var=='foo', will
</I>&gt;<i>get you the value of $myarray['something_foo'].
</I>
Single quotes it is.

&gt;<i>    While I'm not entirely sure about how you're echoing stuff, try just
</I>&gt;<i>not putting the array reference inside the string.  Instead, use the
</I>&gt;<i>concatenation operator &quot;.&quot;:
</I>&gt;<i>
</I>&gt;<i>     echo 'You are ' . $user['username'] . '.  Last login: ' .
</I>&gt;<i>$user['last_login']';
</I>
I echoed stuff this way:
echo &quot;This is for $lovedones['wife']!&quot;;
That throws this parse error
parse error, unexpected T_ENCAPSED_AND_WHITESPACE, expecting T_STRING or 
T_VARIABLE or T_NUM_STRING.
So, the correct(er) way is
echo &quot;This is for &quot;.$lovedones['wife'].&quot;!&quot;;
Duh! That apparently was just too easy to figure it out myself.

&gt;<i> &gt; I always stumble across an odd thing with arrays. I read in
</I>&gt;<i> &gt; many documentations and books that one should use the single
</I>&gt;<i> &gt; quotes when referencing to an array element, such as
</I>&gt;<i> &gt; $array['element'].
</I>&gt;<i>
</I>&gt;<i>I'm happy to see that you're questioning, but not discarding, PHP dogma.
</I>
I always assume that there are good reasons for designing something that 
blatantly inconsitent. It is just that I don't know about it, which doesn't 
mean that it is wrong.

&gt;<i>1. Quoting an array element inside a quoted string can be done with
</I>&gt;<i>curly braces:
</I>&gt;<i>
</I>&gt;<i>&quot;Once upon a {$myarray['time']}, ...&quot;
</I>
Ui! Curly braces. I haven't seen that one before, but a quick test shows 
that it indeed works (one of these I need to see it to believe it things). 
Will probably not become my most favourite way of doing this. I already 
know the concatenation stuff and understand what it does.

&gt;<i>2. If the arrays you're talking about are superglobals like $_GET and
</I>&gt;<i>$_POST, both of your examples probably demonstrate security
</I>&gt;<i>vulnerabilities. Using raw input in an echo creates a cross-site
</I>&gt;<i>scripting (XSS) vulnerability. Using raw input in a call to header()
</I>&gt;<i>creates an HTTP response splitting vulnerability.
</I>
Aha, no idea what that is. I do not want to design breakage into my script, 
so here quickly what I want to do. I use the header() mainly for redirects 
(and for turning off cache using code that I copied from the php.net site 
comments). In order to properly redirect I need to know what the root 
folder of my set of scripts is. As long as the directory hierarchy, the 
directory names, and the name of the start script stay intact it will not 
matter where on a server this block of files is located. On the first 
script I generate the redirect path section that I can use in all other 
scripts like this:
// Make path for redirects
$path = &quot;<A HREF="http://">http://</A>&quot;;
$path = $path.$_SERVER['HTTP_HOST'];
$script = $_SERVER['PHP_SELF'];
$script = str_replace(&quot;/login.php&quot;, &quot;&quot;, $script);
$path = $path.$script;

I then register $path with the session that I started earlier using
$_SESSION['sessionredirectpath'] = $path;

and use it later in scripts for redirects like this:
header(&quot;location:$_SESSION[sessionredirectpath]/administration/adminwelcome.php&quot;);

which really should be this:
header(&quot;location:&quot;.$_SESSION['sessionredirectpath'].&quot;/administration/adminwelcome.php&quot;);

[...] I read that stuff about the constants issue somewhere after I posted.

&gt;<i>3. NOT RECOMMENDED BUT USUALLY WORKS:  don't use the single quotation
</I>&gt;<i>marks: echo &quot;The $variable is $array[elementName]&quot;;
</I>
Yes, it works and in the worst case I can pick german variable names. 
Chances are the PHP folks will not introduce german keywords or constants. 
Besides the constants issue, is there anything else that makes not using 
the single quotes a bad idea? I ask because I use some scripts that I 
hacked together some time ago and for the time being they do their jobs. In 
case of some security issue I might want to pull them sooner than later.


&gt;<i>security that are around can tell you how to do this. If you are not
</I>&gt;<i>working with these kinds of arrays, but rather with ones that you
</I>&gt;<i>have created yourself, you may not need to worry about security
</I>&gt;<i>issues in using them.
</I>
So you are saying that the way I described it above might be OK since I set 
the session variable myself, correct?


&gt;<i>I think this is very good advice, David. If there is one thing I learned
</I>&gt;<i>about PHP, it is that PHP either makes rational sense or does not ;-) In
</I>&gt;<i>other words, there is not much actual need to follow &quot;dogma&quot; if you
</I>&gt;<i>understand how it works, except in those cases where PHP is kinda broke.
</I>&gt;<i>The hard part is knowing when it is broke, and this list is a *great*
</I>&gt;<i>resource for that. (please note I do suggest you follow best practices,
</I>&gt;<i>because you can't recognize what is and isn't &quot;dogma&quot; unless you already
</I>&gt;<i>know where all the real problems are).
</I>
Using the period as concatenation character is most likely one of those 
cases where PHP is broken, at least in my opinion. PHP is the only language 
that uses the period as far as I have seen. I have to admit that I haven't 
seen much in regards to programming. Actually, I hate programming, it is 
just that with PHP it is by far not so painful. And it is a good excercise 
for me as software tester to be not totally at the mercy of the developers.

&gt;<i>STATIC (i.e. to be used just as it is). In short just using 'single quote'
</I>&gt;<i>and concatenation you can write 99% code in PHP. This is true everywhere
</I>&gt;<i>in PHP whether you assign value to variables, print something, define
</I>&gt;<i>array with elements, pass arguments to function/class methods or evaluate
</I>&gt;<i>any expression. This is good practice throughout PHP and probably for all
</I>&gt;<i>other languages. Let me demonstrate few examples.
</I>&gt;<i>#1
</I>&gt;<i>
</I>&gt;<i>$as__name['first']='David';
</I>&gt;<i>
</I>&gt;<i>(Key of array has been quoted using 'single' quotes because key itself is
</I>&gt;<i>static, same for value for that array i.e. 'David';
</I>&gt;<i>
</I>&gt;<i>#2
</I>&gt;<i>
</I>&gt;<i>if('David' == $as__name['first'])
</I>&gt;<i>         echo 'Name is '.$as__name['first'];
</I>
The examples really helped understanding your point. I am sure that the 
vast majority of casual and even semi-professional PHP users always uses 
the double quote because this is how the official PHP documentation tells 
one to do. I just checked again and in the document topic about echo and 
only a single example shows it used with the single quotes. That though in 
combination with the note &quot;Using single quotes will print the variable 
name, not the value&quot;, which for the newvbie sounds bad. The PHP documentors 
should use your example and explanation, it makes it easier somehow.

&gt;<i>Bottom line: There is not any MANDATORY use of &quot;Double quotes&quot; in PHP
</I>&gt;<i>except in 1 case when:
</I>&gt;<i>
</I>&gt;<i>#a Special sequence like &quot;\n&quot;, &quot;\t&quot;, &quot;\s&quot; are to be expanded into New
</I>&gt;<i>line, Tab and Space respectively.
</I>
Now, that really sucks, doesn't it? I can't come up with a better proposal 
without violation the &quot;anything in single quotes is static&quot; rule.

&gt;<i>In short &quot;double quotes&quot; tries to expand each and every part of the
</I>&gt;<i>expression, which is not required mot of the time. Hope this will help you
</I>&gt;<i>clear some basic level of evaluation of expressions.
</I>
         Yes, indeed it does and all your superb responses cleared up quite 
a bit of other things as well. Wow! I haven't learned that much about PHP 
in such a short time for quite a while. Thank you very very much and I hope 
I don't get beaten up over this quite lengthy response.

                 Best regards,

                                 David



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019228.html">[nycphp-talk] Force download
</A></li>
	<LI>Next message: <A HREF="019229.html">[nycphp-talk] Calling Hans Zaunere
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19223">[ date ]</a>
              <a href="thread.html#19223">[ thread ]</a>
              <a href="subject.html#19223">[ subject ]</a>
              <a href="author.html#19223">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

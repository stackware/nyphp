<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] &quot;The Web is broken and it's all your fault.&quot;
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2006-September/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20%22The%20Web%20is%20broken%20and%20it%27s%20all%20your%20fault.%22&In-Reply-To=%3Cop.tfwshcnb6dyt8l%40aum1.aum.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019308.html">
   <LINK REL="Next"  HREF="019251.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] &quot;The Web is broken and it's all your fault.&quot;</H1>
    <B>Anirudh Zala</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20%22The%20Web%20is%20broken%20and%20it%27s%20all%20your%20fault.%22&In-Reply-To=%3Cop.tfwshcnb6dyt8l%40aum1.aum.com%3E"
       TITLE="[nycphp-talk] &quot;The Web is broken and it's all your fault.&quot;">arzala at gmail.com
       </A><BR>
    <I>Fri Sep 15 03:30:38 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="019308.html">[nycphp-talk] &quot;The Web is broken and it's all your fault.&quot;
</A></li>
        <LI>Next message: <A HREF="019251.html">[nycphp-talk] Pay Low Books! Certifications training at low prices...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19248">[ date ]</a>
              <a href="thread.html#19248">[ thread ]</a>
              <a href="subject.html#19248">[ subject ]</a>
              <a href="author.html#19248">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Proper programming practices solves 90% of security related problem that  
can occur at application level. However this &quot;practice&quot; is entirely  
dependent on experience of developer. But below mentioned steps would  
surely solve most of your problems.

1) The biggest area of this problem is browser. Not because that it is  
being exploited in many ways but why can't browser itself provide basic  
level of validation and input filtering like validations of name, email  
address, phone, fax, mobile etc. according to country or region. This is  
not big task or too much difficult for browser's and it's extension's  
developers. If we have characters set encoding, to display text in various  
languages, available in browser then why can't we have support of  
validation of above items. Now it is not that big that which validation  
format is to be used for each country or region. We can tell browser from  
our HTML in similar way about which character set encoding to be used.

Our browsers are in still baby or old styled which doesn't help much as  
far as security and input filtering related to forms are concerned. They  
have evolved in terms of designs and layout (we all know how fast support  
of various CSS format has grown) has but not in terms of programming.

Since this is not problem at an application area, it can not be solved at  
that level.

2) We need to start think and use Web in terms of &quot;Human&quot; and not just as  
machine. I am pointing towards Smart usage of our data rather than just  
using as it is. For example while mentioning email address at public  
place, user can write it in such a way that it can not be figured out from  
sources of data. By this way 70% of spamming can be stopped because  
spammer programs can not figure that out. See below examples:

a)
-----------------------------------------------
Anirudh Zala (Project Manager)
ASPL, <A HREF="http://www.aspl.in">http://www.aspl.in</A>
arzala@@gmail.com
-----------------------------------------------

I have used 2 @s while mentioning my email address. (This is vulnerable  
but not easy.)

b)

-----------------------------------------------
Anirudh Zala (Project Manager)
ASPL, <A HREF="http://www.aspl.in">http://www.aspl.in</A>
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">FIRSTNAME at gmail.com</A>
-----------------------------------------------

This would be interpreted as &quot;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">Anirudh at gmail.com</A>&quot; instead of  
&quot;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">FIRSTNAME at gmail.com</A>&quot;

Following these kind of practices can fool most of automatic spamming  
programs (because they search single &quot;@&quot; sign or &quot; at &quot; to grab email  
addresses from sources) but not the person who is viewing it because  
he/she knows that what it means. Even if they copy and paste above email  
address to send email, email client will not allow to send email and they  
will soon find problem area. One possible drawback of this approach at  
application level could be handling of such email addresses while storage  
and retrieval. But as far as just displaying is concerned, it is really  
magical.

3) Security and filtering must follow certain order rather than  
concentrating at 1 area only. Filtering divided at various levels  
effectively reduce burden on developers and at the end on application. One  
can follow below order to filter and store input data.

a) While designing database, if values of certain field is not going to  
exceed than certain limit, let's say maximum 3 types then use &quot;enum&quot; as  
field type rather than &quot;varchar&quot; or &quot;*int&quot; etc. By this way data that  
falls outside the range of &quot;enum&quot; values will not be stored.

b) Most of application has 2 areas viz. Administrative and Client.  
Administrative area needs almost full control over application's data  
while Client area might not need. So such application should be run as 2  
database users where 1st user will have higher privileges and more control  
over data than 2nd. 2nd user can mostly have &quot;select, update, insert and  
delete&quot; privileges on required tables only. So no other privileges should  
be given to that user for rest of the tables which are used for  
administrative purpose only.

c) Handle your errors properly. Instead of showing (knowingly or  
unknowingly) them into browser log them in file and report developers via  
email.

d) In most of applications (specially built using PHP), there is not any  
file which requires &quot;execution&quot; permission, so discard that permission  
fully for such files.

e) Keep files and folders outside web-root which are to be used internally  
like includable files, raw templates etc.

f) While validation data in your application, do not just concentrate in  
any 1 area like at SQL level etc., Instead filter/validate it at various  
stages.

1st stage is JS which is most close to client so you can do most of  
validation with that and can prompt client instantly to correct required  
data.

Do not mind if JS is off. 2nd stage could be validating same things using  
PHP. You can build powerful regular expressions for that. At this level  
most of data can be validated and filtered. Care taken at this level will  
make your application safe against most of attacks.

Most of time we know range and type of data which is being inserted. So we  
can easily check them using regular expressions. Order of filtering data  
should be GET, POST and COOKIE because exploitation level of these 3 types  
are 3, 2, 1 (1 means lowest, 3 means highest). Now if you are not  
satisfied with these, finally validate rest of data at SQL level (using  
mysql_real_escape_string etc. and perhaps converting SQL breaker  
characters, like ', &quot;, ; etc., into HTML entities) before storing into  
database.

I don't think that implementing these points is heavy or difficult task  
for developers so that it needs extra time and money from client. In fact  
security should be free with any application :)

Bottom-line: We all know that no application can be made 100% secure. But  
we can surely try hard not let exploiters and attackers figure out that  
where is the remaining % of area which is insecure.

-----------------------------------------------
Anirudh Zala (Project Manager)
ASPL, <A HREF="http://www.aspl.in">http://www.aspl.in</A>
arzala@@gmail.com
-----------------------------------------------

On Thu, 14 Sep 2006 19:51:42 +0530, Peter Sawczynec &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">ps at pswebcode.com</A>&gt;  
wrote:

&gt;<i> It would seem that it would be more optimally secure to both:
</I>&gt;<i> i) correctly handle the data, but also to
</I>&gt;<i> ii) check for what the data is.
</I>&gt;<i>
</I>&gt;<i> That would include checking length and data type. Wrong data types
</I>&gt;<i> and too long strings can break SQL queries.
</I>&gt;<i>
</I>&gt;<i> But, hypothetically, if one is stuffing all their data into type VARCHAR
</I>&gt;<i> fields
</I>&gt;<i> all kinds of things will get handled. But, later data summary reports  
</I>&gt;<i> from
</I>&gt;<i> the database can produce inaccurate results.
</I>&gt;<i>
</I>&gt;<i> I was just reviewing Adobe best practices on Flash ActionScript 2.0
</I>&gt;<i> and they suggested that all variables be declared and be
</I>&gt;<i> strongly typed to force your application to throw errors immediately
</I>&gt;<i> when wrong data types get sent to a function.
</I>&gt;<i>
</I>&gt;<i> The ActionScript strong data typing is of the form:
</I>&gt;<i> var cust_first_name : string
</I>&gt;<i> var this_date : Date
</I>&gt;<i>
</I>&gt;<i> It appears that almost every other language competitively positioned to  
</I>&gt;<i> PHP
</I>&gt;<i> forces discipline a bit more, starting with making one know the expected
</I>&gt;<i> data type(s) at all junctures.
</I>&gt;<i>
</I>&gt;<i> Warmest regards,
</I>&gt;<i> Peter Sawczynec,
</I>&gt;<i> Technology Director
</I>&gt;<i> PSWebcode
</I>&gt;<i> _Design &amp; Interface
</I>&gt;<i> _Ecommerce
</I>&gt;<i> _Database Management
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">ps at pswebcode.com</A>
</I>&gt;<i> 646.316.3678
</I>&gt;<i> www.pswebcode.com
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A> [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>]  
</I>&gt;<i> On
</I>&gt;<i> Behalf Of Dan Cech
</I>&gt;<i> Sent: Thursday, September 14, 2006 9:40 AM
</I>&gt;<i> To: NYPHP Talk
</I>&gt;<i> Subject: Re: [nycphp-talk] &quot;The Web is broken and it's all your fault.&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> michael wrote:
</I>&gt;&gt;<i> <A HREF="http://www.internetnews.com/dev-news/article.php/3631831">http://www.internetnews.com/dev-news/article.php/3631831</A>
</I>&gt;&gt;<i> &quot;
</I>&gt;&gt;<i> 	Those are the words that Rasmus Lerdorf, the creator of PHP,
</I>&gt;&gt;<i> 	said to kick off his keynote at the php|works conference under
</I>&gt;&gt;<i> 	way here.
</I>&gt;&gt;<i> 	...
</I>&gt;&gt;<i> 	&quot;The Web is pretty much broken, we can all go home now,&quot;
</I>&gt;&gt;<i> 	Lerdorf said somewhat sarcastically to the capacity crowd.
</I>&gt;&gt;<i> 	&quot;Luckily most people don't realize that it's broken.&quot;
</I>&gt;&gt;<i> 	
</I>&gt;&gt;<i> 	Part of the reason Lerdorf considers the Web &quot;broken&quot; is that
</I>&gt;&gt;<i> 	it is inherently insecure for a variety of reasons. One of those
</I>&gt;&gt;<i> 	reasons sits at the feet of developers.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 	&quot;You don't know that you have to filter user input,&quot; Lerdorf
</I>&gt;&gt;<i> 	exclaimed.
</I>&gt;&gt;<i> &quot;
</I>&gt;<i>
</I>&gt;<i> Personally, I'm of the opinion that right now people tend to focus too  
</I>&gt;<i> much
</I>&gt;<i> on input filtering, and not enough on safe storage and display practices.
</I>&gt;<i>
</I>&gt;<i> If you are correctly handling incoming data, it makes little difference  
</I>&gt;<i> what
</I>&gt;<i> that data may be.  For example, if you construct a query like:
</I>&gt;<i>
</I>&gt;<i> $query = &quot;SELECT * FROM mytable WHERE myid='$someid'&quot;;
</I>&gt;<i>
</I>&gt;<i> You are obviously vulnerable to assorted SQL injection attacks.
</I>&gt;<i>
</I>&gt;<i> However, construct the query like:
</I>&gt;<i>
</I>&gt;<i> $query = 'SELECT * FROM mytable WHERE myid='.
</I>&gt;<i> mysql_real_escape_string($someid);
</I>&gt;<i>
</I>&gt;<i> or:
</I>&gt;<i>
</I>&gt;<i> $query = 'SELECT * FROM mytable WHERE myid=?';
</I>&gt;<i> $args = array(
</I>&gt;<i>     $someid,
</I>&gt;<i> );
</I>&gt;<i>
</I>&gt;<i> And you have prevented the attack, regardless of the contents of $someid.
</I>&gt;<i> This is because you are correctly formatting the data in context, in this
</I>&gt;<i> case as an SQL string.
</I>&gt;<i>
</I>&gt;<i> The same goes for displaying data on a webpage, pass it through
</I>&gt;<i> htmlspecialchars and you'll be guaranteed that it is correctly formatted  
</I>&gt;<i> as
</I>&gt;<i> a block of HTML CDATA.
</I>&gt;<i>
</I>&gt;<i> The security breach comes from treating the data incorrectly, not from  
</I>&gt;<i> its
</I>&gt;<i> contents.
</I>&gt;<i>
</I>&gt;<i> That said, if you need to display html received from the client as html,  
</I>&gt;<i> you
</I>&gt;<i> need input filtering to separate the bad from the good.  However, these
</I>&gt;<i> cases are not the norm, and in many situations input filtering is merely
</I>&gt;<i> restricting the data you're allowing clients to input, without any real
</I>&gt;<i> security gains.
</I>&gt;<i>
</I>&gt;<i> If you need to enforce certain restrictions on user input, according to  
</I>&gt;<i> the
</I>&gt;<i> 'rules' of the system then input filtering is a great idea, but don't get
</I>&gt;<i> caught up in thinking that filtering input is the answer to all security
</I>&gt;<i> problems.
</I>&gt;<i>
</I>&gt;<i> Dan
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i>
</I>&gt;<i> Show Your Participation in New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i>
</I>&gt;<i> Show Your Participation in New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019308.html">[nycphp-talk] &quot;The Web is broken and it's all your fault.&quot;
</A></li>
	<LI>Next message: <A HREF="019251.html">[nycphp-talk] Pay Low Books! Certifications training at low prices...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19248">[ date ]</a>
              <a href="thread.html#19248">[ thread ]</a>
              <a href="subject.html#19248">[ subject ]</a>
              <a href="author.html#19248">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

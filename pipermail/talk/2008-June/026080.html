<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Disabling browser back button.
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Disabling%20browser%20back%20button.&In-Reply-To=%3CAD50981B-3170-478B-A415-17970088F6B4%40o2group.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026079.html">
   <LINK REL="Next"  HREF="026081.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Disabling browser back button.</H1>
    <B>Tim Lieberman</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Disabling%20browser%20back%20button.&In-Reply-To=%3CAD50981B-3170-478B-A415-17970088F6B4%40o2group.com%3E"
       TITLE="[nycphp-talk] Disabling browser back button.">tim_lists at o2group.com
       </A><BR>
    <I>Sun Jun 22 00:36:45 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026079.html">[nycphp-talk] Disabling browser back button.
</A></li>
        <LI>Next message: <A HREF="026081.html">[nycphp-talk] Disabling browser back button.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26080">[ date ]</a>
              <a href="thread.html#26080">[ thread ]</a>
              <a href="subject.html#26080">[ subject ]</a>
              <a href="author.html#26080">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Jun 21, 2008, at 2:07 PM, PaulCheung wrote:

&gt;<i> Hi
</I>&gt;<i>
</I>&gt;<i> Can anybody suggest a way around this problem or point me in the  
</I>&gt;<i> right direction?
</I>&gt;<i>
</I>&gt;<i> I have a genuinely legitimate reason to disable the browser back  
</I>&gt;<i> button, or at least the pages that have anything to do with the PHP  
</I>&gt;<i> application I am working on.
</I>&gt;<i>
</I>&gt;<i> Here is the scenario
</I>&gt;<i> A user likes the on-line service provided and decides to purchase  
</I>&gt;<i> it using one of the standard on-line payment methods, typically  
</I>&gt;<i> PayPal.
</I>&gt;<i>
</I>&gt;<i> Once payment has been made, confirmed and received, the user is  
</I>&gt;<i> directed to an customer account creation page. Here the user enters  
</I>&gt;<i> the usual standard account details such as Name, Address, Telephone  
</I>&gt;<i> Number, User-Id, Password and so on.
</I>

Why do you make them wait to create their account until after they  
pay?  Aren't Name, Address, and phone necessary for payment  
processing anyway?

&gt;<i>
</I>&gt;<i> The application then generates an access code, which is  
</I>&gt;<i> automatically emailed from the application to the customer. As a  
</I>&gt;<i> precaution all PHP sessions variables are cleared, the &quot;customer  
</I>&gt;<i> account creation page&quot; is cleared and the user steered away from  
</I>&gt;<i> the signup part of the application to Google's main navigation page  
</I>&gt;<i> (this last bit being for testing purposes).
</I>
A precaution against what?

&gt;<i>
</I>&gt;<i> Here in lays the problem. After initial creation of the account  
</I>&gt;<i> code and when the back button is pressed a few times, the user  
</I>&gt;<i> eventually return to the &quot;customer account creation page&quot;. Which is  
</I>&gt;<i> the step immediately following payment validation. At this point,  
</I>&gt;<i> if the customer wants to create another new account all she or he  
</I>&gt;<i> has to do is, fill it the form once more, press submit and another  
</I>&gt;<i> new account is created. If the user just keeps doing this, he or  
</I>&gt;<i> she just keeps on creating new accounts.
</I>
I assume you keep some record of the payment, that has some  
identifier.  Like maybe a primary key on some &quot;payments&quot; table in a  
database.  So why not associate accounts with payment_ids, and force  
accounts to have a unique payment id?  Adding that sort of simple  
rule to the account-creation process would solve things.  If someone  
backs up and tries to come through again, you don't create a second  
account, you just tell the user &quot;Nice try, buddy...&quot;

&gt;<i>
</I>&gt;<i> I have tried to disable the browser back button; but am unable to.  
</I>&gt;<i> I have researched JavaScript solutions and learnt, if the user  
</I>&gt;<i> turns off JavaScript, that is that.
</I>
Of course.

You're trying to solve an authorization problem at the user interface  
level.  If something is supposed to be impossible, it's better to  
make the underlying model or business logic enforce the model.   
Trying to enforce it by tightly controlling stuff that happens in the  
user's browser is ineffective, because you don't control the user's  
browser.  But you do control what happens on the server.  And you can  
make sure the server only allows one account per payment in just a  
few lines of code.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026079.html">[nycphp-talk] Disabling browser back button.
</A></li>
	<LI>Next message: <A HREF="026081.html">[nycphp-talk] Disabling browser back button.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26080">[ date ]</a>
              <a href="thread.html#26080">[ thread ]</a>
              <a href="subject.html#26080">[ subject ]</a>
              <a href="author.html#26080">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Disabling browser back button.
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Disabling%20browser%20back%20button.&In-Reply-To=%3C78c6bd860806211639g51e0769ci2e0487aff21c09e1%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026078.html">
   <LINK REL="Next"  HREF="026080.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Disabling browser back button.</H1>
    <B>Michael B Allen</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Disabling%20browser%20back%20button.&In-Reply-To=%3C78c6bd860806211639g51e0769ci2e0487aff21c09e1%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] Disabling browser back button.">ioplex at gmail.com
       </A><BR>
    <I>Sat Jun 21 19:39:25 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026078.html">[nycphp-talk] Disabling browser back button.
</A></li>
        <LI>Next message: <A HREF="026080.html">[nycphp-talk] Disabling browser back button.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26079">[ date ]</a>
              <a href="thread.html#26079">[ thread ]</a>
              <a href="subject.html#26079">[ subject ]</a>
              <a href="author.html#26079">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 6/21/08, PaulCheung &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">paulcheung at tiscali.co.uk</A>&gt; wrote:
&gt;<i> Hi
</I>&gt;<i>
</I>&gt;<i>  Can anybody suggest a way around this problem or point me in the right
</I>&gt;<i> direction?
</I>&gt;<i>
</I>&gt;<i>  I have a genuinely legitimate reason to disable the browser back button, or
</I>&gt;<i> at least the pages that have anything to do with the PHP application I am
</I>&gt;<i> working on.
</I>&gt;<i>
</I>&gt;<i>  Here is the scenario
</I>&gt;<i>  A user likes the on-line service provided and decides to purchase it using
</I>&gt;<i> one of the standard on-line payment methods, typically PayPal.
</I>&gt;<i>
</I>&gt;<i>  Once payment has been made, confirmed and received, the user is directed to
</I>&gt;<i> an customer account creation page. Here the user enters the usual standard
</I>&gt;<i> account details such as Name, Address, Telephone Number, User-Id, Password
</I>&gt;<i> and so on.
</I>&gt;<i>
</I>&gt;<i>  The application then generates an access code, which is automatically
</I>&gt;<i> emailed from the application to the customer. As a precaution all PHP
</I>&gt;<i> sessions variables are cleared, the &quot;customer account creation page&quot; is
</I>&gt;<i> cleared and the user steered away from the signup part of the application to
</I>&gt;<i> Google's main navigation page (this last bit being for testing purposes).
</I>&gt;<i>
</I>&gt;<i>  Here in lays the problem. After initial creation of the account code and
</I>&gt;<i> when the back button is pressed a few times, the user eventually return to
</I>&gt;<i> the &quot;customer account creation page&quot;. Which is the step immediately
</I>&gt;<i> following payment validation. At this point, if the customer wants to create
</I>&gt;<i> another new account all she or he has to do is, fill it the form once more,
</I>&gt;<i> press submit and another new account is created. If the user just keeps
</I>&gt;<i> doing this, he or she just keeps on creating new accounts.
</I>&gt;<i>
</I>&gt;<i>  I have tried to disable the browser back button; but am unable to. I have
</I>&gt;<i> researched JavaScript solutions and learnt, if the user turns off
</I>&gt;<i> JavaScript, that is that.
</I>
The way this is usually dealt with is to use an HTTP redirect after
the action is performed.

And / or when you create a form you can add a hidden field containing
a random token. The server stores a copy of the random token in the
user's session. When the form is submitted, check to make sure the
token matches the one in the session. If it does destroy it and
perform the desired operation. Now if the user later backs into the
form and submits it the token will be old and you'll know not to
process the POST request action.

Mike

-- 
Michael B Allen
PHP Active Directory SPNEGO SSO
<A HREF="http://www.ioplex.com/">http://www.ioplex.com/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026078.html">[nycphp-talk] Disabling browser back button.
</A></li>
	<LI>Next message: <A HREF="026080.html">[nycphp-talk] Disabling browser back button.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26079">[ date ]</a>
              <a href="thread.html#26079">[ thread ]</a>
              <a href="subject.html#26079">[ subject ]</a>
              <a href="author.html#26079">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

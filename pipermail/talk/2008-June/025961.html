<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] PHP $_SESSION
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20%24_SESSION&In-Reply-To=%3CFA833156-9CD2-4532-820C-268AC785BAB6%40o2group.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025976.html">
   <LINK REL="Next"  HREF="025963.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] PHP $_SESSION</H1>
    <B>Tim Lieberman</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20%24_SESSION&In-Reply-To=%3CFA833156-9CD2-4532-820C-268AC785BAB6%40o2group.com%3E"
       TITLE="[nycphp-talk] PHP $_SESSION">tim_lists at o2group.com
       </A><BR>
    <I>Thu Jun  5 14:14:00 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025976.html">[nycphp-talk] PHP $_SESSION
</A></li>
        <LI>Next message: <A HREF="025963.html">[nycphp-talk] PHP $_SESSION
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25961">[ date ]</a>
              <a href="thread.html#25961">[ thread ]</a>
              <a href="subject.html#25961">[ subject ]</a>
              <a href="author.html#25961">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>There's a section in the phpinfo() output called session.

Compare those sections between the two php versions.  If you don't  
see anything obvious, post at least the php5 config here, and maybe  
we'll see something.

It sounds to me like wherever PHP5 is trying to save session files on  
disk is not writable, but it could be any number of things.

-Tim

On Jun 5, 2008, at 12:05 PM, N&#233;stor wrote:

&gt;<i> To answer the last 3 postings
</I>&gt;<i>
</I>&gt;<i> I get the session_id() and save it in $_SESSION['mysession']
</I>&gt;<i> then in every page I compare them if not the same then I send the  
</I>&gt;<i> user back to
</I>&gt;<i> the login page:
</I>&gt;<i>   if($_SESSION['mysession'] != session_id() ){
</I>&gt;<i>      // redirect to the HR admin page
</I>&gt;<i>      header(&quot;Location:/login.php&quot;);
</I>&gt;<i>   }
</I>&gt;<i>
</I>&gt;<i> The redirect works!!!
</I>&gt;<i>
</I>&gt;<i> YES!    $_SESSION['mysession'] is empty,  the session information  
</I>&gt;<i> is disappearing
</I>&gt;<i> from one page to the other.
</I>&gt;<i>
</I>&gt;<i> When i do a phpinfo() I do not have any $_SESSION variables;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Thu, Jun 5, 2008 at 10:55 AM, David Krings &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">ramons at gmx.net</A>&gt; wrote:
</I>&gt;<i> N&#233;stor wrote:
</I>&gt;<i> I understand this.  Like I said it is not working on PHP 5.1.
</I>&gt;<i> I do the session_start()
</I>&gt;<i> and then I put the session_id() into my $_SESSION['mysession'];
</I>&gt;<i>
</I>&gt;<i> The problem is that my $_SESSION['mysession'] is empty on php 5.1
</I>&gt;<i> when it was not in php 4.1.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Out of curiosity, why do you store the session ID in the session  
</I>&gt;<i> array when session_id() will give you what you are looking for? And  
</I>&gt;<i> then, what does session_id() produce? If that is an empty value  
</I>&gt;<i> then $_SESSION['mysession'] will be empty as well.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Apparently a logs of people where having this problim according to  
</I>&gt;<i> this link:
</I>&gt;<i> <A HREF="http://bugs.php.net/bug.php?id=16263">http://bugs.php.net/bug.php?id=16263</A>
</I>&gt;<i>
</I>&gt;<i> I am reading the above link to see what the answer to the problem is.
</I>&gt;<i> I was hoping that some one on this list had seen this problem and
</I>&gt;<i> knows the answer.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The answers boil down to two things:
</I>&gt;<i> 1. Check where the session files are written to and make sure that  
</I>&gt;<i> PHP has full access to that place and that nothing else wipes those  
</I>&gt;<i> files out.
</I>&gt;<i> 2. Use this:
</I>&gt;<i> &lt;?php
</I>&gt;<i> session_start();
</I>&gt;<i> header(&quot;Cache-control: private&quot;);
</I>&gt;<i>
</I>&gt;<i> I use sessions extensively in my projects and didn't find that  
</I>&gt;<i> there is any issue. I do set the cache control.
</I>&gt;<i>
</I>&gt;<i> HTH
</I>&gt;<i>
</I>&gt;<i> David
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i>
</I>&gt;<i> Show Your Participation in New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i>
</I>&gt;<i> Show Your Participation in New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20080605/2821b7f5/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20080605/2821b7f5/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025976.html">[nycphp-talk] PHP $_SESSION
</A></li>
	<LI>Next message: <A HREF="025963.html">[nycphp-talk] PHP $_SESSION
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25961">[ date ]</a>
              <a href="thread.html#25961">[ thread ]</a>
              <a href="subject.html#25961">[ subject ]</a>
              <a href="author.html#25961">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

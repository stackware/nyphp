<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] PHP and MySQL Connections
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-April/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20and%20MySQL%20Connections&In-Reply-To=%3Ca9caffe50804110351i527bed4fn4fb3a63c13551b85%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025278.html">
   <LINK REL="Next"  HREF="025282.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] PHP and MySQL Connections</H1>
    <B>Randal Rust</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20and%20MySQL%20Connections&In-Reply-To=%3Ca9caffe50804110351i527bed4fn4fb3a63c13551b85%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] PHP and MySQL Connections">randalrust at gmail.com
       </A><BR>
    <I>Fri Apr 11 06:51:34 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025278.html">[nycphp-talk] export to access or excel
</A></li>
        <LI>Next message: <A HREF="025282.html">[nycphp-talk] PHP and MySQL Connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25281">[ date ]</a>
              <a href="thread.html#25281">[ thread ]</a>
              <a href="subject.html#25281">[ subject ]</a>
              <a href="author.html#25281">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We have been having some performance issues on one of our larger
sites, and I'm trying to figure out the best way to go about fixing
them. We use the adoDB abstraction library. Since day one, we've used
persistent connections, and I think that might be at least part of the
problem. So if I switch from the persistent connection, PConnect() to
the non-persistent, Connect(), I want to make sure of one particular
thing:

My understanding is that PHP automatically cleans up a database
connection after it has executed the query. Therefore, I don't need to
use the close() function. Is that correct?

On a related note, our main issue is that the site keeps slowing down
and we are getting a 'Too Many Connections' error from MySQL. I had
the number of connections increased from 100 to 150 on both Apache and
MySQL two weeks ago, but we are still having the problem, although
less frequently. One thing I'd like to be able to do is check how many
connections have physically been made to the database. I did this a
couple of weeks ago, but now I can't find the MySQL query returns that
information. If anyone could throw that out to me, I'd greatly
appreciate it.

-- 
Randal Rust
R.Squared Communications
www.r2communications.com

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025278.html">[nycphp-talk] export to access or excel
</A></li>
	<LI>Next message: <A HREF="025282.html">[nycphp-talk] PHP and MySQL Connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25281">[ date ]</a>
              <a href="thread.html#25281">[ thread ]</a>
              <a href="subject.html#25281">[ subject ]</a>
              <a href="author.html#25281">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

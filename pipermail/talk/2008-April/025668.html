<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] using PHP mail function on Windows server - update
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-April/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20using%20PHP%20mail%20function%20on%20Windows%20server%20-%20update&In-Reply-To=%3C1209259762.11052%40coral.he.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025667.html">
   <LINK REL="Next"  HREF="025669.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] using PHP mail function on Windows server - update</H1>
    <B>Kristina Anderson</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20using%20PHP%20mail%20function%20on%20Windows%20server%20-%20update&In-Reply-To=%3C1209259762.11052%40coral.he.net%3E"
       TITLE="[nycphp-talk] using PHP mail function on Windows server - update">ka at kacomputerconsulting.com
       </A><BR>
    <I>Sat Apr 26 21:29:22 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025667.html">[nycphp-talk] using PHP mail function on Windows server?
</A></li>
        <LI>Next message: <A HREF="025669.html">[nycphp-talk] using PHP mail function on Windows server - update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25668">[ date ]</a>
              <a href="thread.html#25668">[ thread ]</a>
              <a href="subject.html#25668">[ subject ]</a>
              <a href="author.html#25668">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everyone,

Well, more weirdness.  I tested the code this afternoon and it actually 
worked on the Windows box -- twice -- sent the email upon initial page 
load and again when I reloaded the page.  But then completely stopped 
working.  This was before I had created the php.ini file, and the only 
two times it ever worked on the Windows box.

I then tested the same code on my domain server (a Linux/Apache setup) 
and it worked like clockwork, so it is most definitely NOT my code that 
is the issue (or stuff needs to be added to the code to work with 
Windows).

Pretty basic mail() code:
//===
$to = '<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">ka at kacomputerconsulting.com</A>';
$subject = 'Completing your Registration';
$message = 'Hello there!Hello there!Hello there!Hello there!Hello there!
Hello there!Hello there!Hello there!Hello there!Hello there!Hello there!
Hello there!Hello there!Hello there!Hello there!Hello there!Hello there!
Hello there!Hello there!';
$headers = 'From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">registration at clientdomain.com</A>' . &quot;\r\n&quot;;
$wmessage = wordwrap($message,70);
mail($to, &quot;Subject: $subject&quot;, $wmessage, $headers);

//===


I then created a php.ini file and put the following in it:

SMTP = localhost
smtp_port = 25
sendmail_from = <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">registration at clientdomain.com</A>

and put this first in my local directory and then in the root 
directory; tested each time and still no dice, mail is not sending...

--Kristina


&gt;<i> Hello Kristina,
</I>&gt;<i> 
</I>&gt;<i> Friday, April 25, 2008, 3:16:55 AM, you wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; Hi Paul,
</I>&gt;<i> 
</I>&gt;<i> &gt; Thanks.  We are on PHP 4.x and Windows 2003 server and looking 
</I>through
&gt;<i> &gt; the directories through FTP, there doesn't appear to be an existing 
</I>&gt;<i> &gt; PHP.INI file...the tech support is directing my client in what 
</I>settings
&gt;<i> &gt; to configure in PHP.INI (Port 25 and STMP=localhost and so 
</I>on)...I'm 
&gt;<i> &gt; assuming for PHP 4.x I have to create this PHP.INI file?
</I>&gt;<i> 
</I>&gt;<i> &gt; Is it worth trying the below on a 4.x platform?
</I>&gt;<i> 
</I>&gt;<i> &gt; --Kristina
</I>&gt;<i> 
</I>&gt;<i> &gt;&gt; Hi Kristina
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; I was wrestling with this problem a few months ago, I remember 
</I>having 
&gt;<i> &gt; to do 
</I>&gt;<i> &gt;&gt; some fiddling with the PHP.INI. Anyway the coding below works for 
</I>&gt;<i> &gt; WINDOWS 
</I>&gt;<i> &gt;&gt; and PHP 5
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; &lt;?php session_start; ob_start;
</I>&gt;<i> &gt;&gt;     ini_set(&quot;SMTP&quot;, &quot;smtp.isp.com&quot;);
</I>&gt;<i> &gt;&gt;     ini_set(&quot;smtp_port&quot;, &quot;25&quot;);
</I>&gt;<i> &gt;&gt;     ini_set(&quot;sendmail_from&quot;, <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">admin at isp.com</A>);
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt;    $to  = &quot;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">johndoe at hotmail.com</A>&quot;;
</I>&gt;<i> &gt;&gt;    $subject  = &quot;Enter your subject here&quot;;
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt;    $message = &quot;YES IT WORKED @ LONG LAST
</I>&gt;<i> &gt;&gt;                         I can put anything I like here&quot;;
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt;    $from  = &quot;FROM: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">admin at isp.com</A> &quot;;
</I>&gt;<i> &gt;&gt;    mail(&quot;$to&quot;, &quot;$subject&quot;, &quot;$message&quot;, &quot;$from&quot;);
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt;    echo &quot;The email has been sent&quot;;
</I>&gt;<i> &gt;&gt; ?&gt;
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; Paul
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; ----- Original Message ----- 
</I>&gt;<i> &gt;&gt; From: &quot;Kristina Anderson&quot; &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">ka at kacomputerconsulting.com</A>&gt;
</I>&gt;<i> &gt;&gt; To: &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>&gt;
</I>&gt;<i> &gt;&gt; Sent: Thursday, April 24, 2008 12:28 AM
</I>&gt;<i> &gt;&gt; Subject: [nycphp-talk] using PHP mail function on Windows server?
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; &gt; Hi everyone --
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; My current client's app is a PHP 4 site running on a Windows box 
</I>&gt;<i> &gt; (don't
</I>&gt;<i> &gt;&gt; &gt; ask...I have no idea why).  I'm trying to use the mail() 
</I>function 
&gt;<i> &gt; and
</I>&gt;<i> &gt;&gt; &gt; the mail isn't cooperating.
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; (Two things that I noticed in phpinfo() are that Internal 
</I>Sendmail
&gt;<i> &gt;&gt; &gt; Support for Windows is enabled and the Zend engine is installed.
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; So maybe I could/should be using another method to send the 
</I>mails, 
&gt;<i> &gt; or
</I>&gt;<i> &gt;&gt; &gt; there is a trick that I'm not aware of that I need to use to get 
</I>&gt;<i> &gt; this
</I>&gt;<i> &gt;&gt; &gt; to work?)
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; It's not necessarily super high volume but we will be sending a
</I>&gt;<i> &gt;&gt; &gt; significant amount of automated emails to registered people on 
</I>the 
&gt;<i> &gt; site.
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; Thanks for any help...
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; --Kristina  (completely Uncertified in PHP and Unsure why the 
</I>mail 
&gt;<i> &gt; is
</I>&gt;<i> &gt;&gt; &gt; not sending!)
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; _______________________________________________
</I>&gt;<i> &gt;&gt; &gt; New York PHP Community Talk Mailing List
</I>&gt;<i> &gt;&gt; &gt; <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; NYPHPCon 2006 Presentations Online
</I>&gt;<i> &gt;&gt; &gt; <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; Show Your Participation in New York PHP
</I>&gt;<i> &gt;&gt; &gt; <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A> 
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; New York PHP Community Talk Mailing List
</I>&gt;<i> &gt;&gt; <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; NYPHPCon 2006 Presentations Online
</I>&gt;<i> &gt;&gt; <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; Show Your Participation in New York PHP
</I>&gt;<i> &gt;&gt; <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> 
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; New York PHP Community Talk Mailing List
</I>&gt;<i> &gt; <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> 
</I>&gt;<i> &gt; NYPHPCon 2006 Presentations Online
</I>&gt;<i> &gt; <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i> 
</I>&gt;<i> &gt; Show Your Participation in New York PHP
</I>&gt;<i> &gt; <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>&gt;<i> 
</I>&gt;<i> &gt; __________ NOD32 3053 (20080424) Information __________
</I>&gt;<i> 
</I>&gt;<i> &gt; This message was checked by NOD32 antivirus system.
</I>&gt;<i> &gt; <A HREF="http://www.eset.com">http://www.eset.com</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> php.ini is probably in the WINDOWS folders or the equivalent on your
</I>&gt;<i> server as is my.ini as I remember.
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> Best regards,
</I>&gt;<i>  mikesz                            mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mikesz at qualityadvantages.com</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> 
</I>&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i> 
</I>&gt;<i> Show Your Participation in New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025667.html">[nycphp-talk] using PHP mail function on Windows server?
</A></li>
	<LI>Next message: <A HREF="025669.html">[nycphp-talk] using PHP mail function on Windows server - update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25668">[ date ]</a>
              <a href="thread.html#25668">[ thread ]</a>
              <a href="subject.html#25668">[ subject ]</a>
              <a href="author.html#25668">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

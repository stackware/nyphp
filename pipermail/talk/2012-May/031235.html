<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Database Abstraction / ORM
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2012-May/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Database%20Abstraction%20/%20ORM&In-Reply-To=%3CCAAyV7nE2%2BMFKE6mE2a_oB9LMchaP5fr9NaGQty6YGakf04VHVw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031240.html">
   <LINK REL="Next"  HREF="031236.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Database Abstraction / ORM</H1>
    <B>Anthony Ferrara</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Database%20Abstraction%20/%20ORM&In-Reply-To=%3CCAAyV7nE2%2BMFKE6mE2a_oB9LMchaP5fr9NaGQty6YGakf04VHVw%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] Database Abstraction / ORM">ircmaxell at gmail.com
       </A><BR>
    <I>Mon May  7 10:13:15 EDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="031240.html">[nycphp-talk] Database Abstraction / ORM
</A></li>
        <LI>Next message: <A HREF="031236.html">[nycphp-talk] Database Abstraction / ORM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31235">[ date ]</a>
              <a href="thread.html#31235">[ thread ]</a>
              <a href="subject.html#31235">[ subject ]</a>
              <a href="author.html#31235">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Justin,

Replies inline;

On Mon, May 7, 2012 at 8:16 AM, Justin Demaris &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">justin.demaris at gmail.com</A>&gt; wrote:
&gt;<i> Hello PHP Talkers,
</I>&gt;<i>
</I>&gt;<i> How do you guys feel about ORM systems and other database abstraction
</I>&gt;<i> layers?
</I>
Personally, I do not like them.  I find that the ORM layers
specifically violate SRP (Single Responsibility Principle) and are
usually not worth while.  Instead, I prefer a light weight Data Mapper
layer ( <A HREF="http://martinfowler.com/eaaCatalog/dataMapper.html">http://martinfowler.com/eaaCatalog/dataMapper.html</A> ).  I
usually hard-code SQL in the mapper, but you *could* use an ORM there.
 But the key is to keep it completely separated from the business
objects.  That way your data model is free to evolve independently
from your business objects...

&gt;<i> Is there any ORM system out there
</I>&gt;<i> that just does it right? Namely, I'd be looking for things like:
</I>&gt;<i>
</I>&gt;<i> 1) When I instantiate an object by it's ID multiple times, it doesn't bother
</I>&gt;<i> to hit up the database after the first time, but just keeps giving me copies
</I>&gt;<i> of the same object
</I>
Well, do you really want this all of the time?  I can see cases where
you do want to re-query the database (especially in sensitive
areas)...

&gt;<i> 2) Lazy load the object values. There are a number of patterns where I've
</I>&gt;<i> seen people instantiate a bunch of objects and then only use a small subset
</I>&gt;<i> of them. It would be nice if the object only loaded the data when we try to
</I>&gt;<i> reference one of its non-ID properties.
</I>
Why?  Your business objects should have all the data they need at
creation time.  Otherwise you can wind up in the situation where
objects representing the same state have different states.  Which is
not a good thing...

&gt;<i> 3) Ability to tweak the back end to work with other database systems
</I>&gt;<i> (especially Riak, Mongo and Cassandra)
</I>
Unless you're building a project that you want to distribute to
others, I find this a bad feature.  Sure, it's nice to know you can
switch to another storage with a config change.  But practically, how
often do you do that?  And if you do that, you're going to want to
tune your data model specifically towards the strengths of the target
backend.  Otherwise you're constantly stuck with a sub-optimal
solution, and little way out when you need to scale...

&gt;<i> I have had really good luck in the past working with Yii and integrating
</I>&gt;<i> with Redis to use their Active Record structure, but I'm not sure of the
</I>&gt;<i> performance there. Also, I've been hearing a lot about Doctrine 2 lately and
</I>&gt;<i> the necessity of having an extra Data Mapper layer in the middle that
</I>&gt;<i> separates the classes and properties from the fields and tables that store
</I>&gt;<i> the data.
</I>
That mapper layer is a good thing...  It allows both to vary
independently of each other.  Which avoids un-needed coupling between
the layers.

As far as Doctrine 2 goes, IMHO it's the best layer out there.  I use
it when I have projects that dictate requirements that it helps fill.
But usually, I just use the database specific layer (MySQLi or
MongoDB).

I hope that helps,

Anthony

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031240.html">[nycphp-talk] Database Abstraction / ORM
</A></li>
	<LI>Next message: <A HREF="031236.html">[nycphp-talk] Database Abstraction / ORM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31235">[ date ]</a>
              <a href="thread.html#31235">[ thread ]</a>
              <a href="subject.html#31235">[ subject ]</a>
              <a href="author.html#31235">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

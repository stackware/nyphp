<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] set datadir in mysql config
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2011-January/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20set%20datadir%20in%20mysql%20config&In-Reply-To=%3C7CA84DBD-273B-493C-8093-1EB43C0C779B%40mac.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030471.html">
   <LINK REL="Next"  HREF="030473.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] set datadir in mysql config</H1>
    <B>Glenn</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20set%20datadir%20in%20mysql%20config&In-Reply-To=%3C7CA84DBD-273B-493C-8093-1EB43C0C779B%40mac.com%3E"
       TITLE="[nycphp-talk] set datadir in mysql config">glenn310b at mac.com
       </A><BR>
    <I>Mon Jan  3 20:28:11 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030471.html">[nycphp-talk] set datadir in mysql config
</A></li>
        <LI>Next message: <A HREF="030473.html">[nycphp-talk] MySQL: count()children on 2 related tables in 1 query
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30472">[ date ]</a>
              <a href="thread.html#30472">[ thread ]</a>
              <a href="subject.html#30472">[ subject ]</a>
              <a href="author.html#30472">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I don't have a definitive answer but I got curious and found this.

<A HREF="http://forums.admon.org/databases/8130-error-1018-hy000-cant-read-dir-errno-24-a.html">http://forums.admon.org/databases/8130-error-1018-hy000-cant-read-dir-errno-24-a.html</A>

So maybe there is an issue where files are not closing properly.
...and restarting mysql reset the open files counter?

or something like that?

HTH,

Glenn

On Jan 3, 2011, at 10:15 AM, Nicholas Hart wrote:

&gt;<i> I am trying to configure mysql to use a different datadir than  
</I>&gt;<i> default in order to move this to a larger volume.  I have copied all  
</I>&gt;<i> mysql data from /var/lib/mysql to my new volume and ran both chown - 
</I>&gt;<i> R mysql:mysql * and chmod -R 660 *  in order to setup correct  
</I>&gt;<i> ownership and rights for the data.  It was working for a few days  
</I>&gt;<i> until today upon going into mysql and typing show databases, I  
</I>&gt;<i> receive the following error:  ERROR 1018 (HY000): Can't read dir of  
</I>&gt;<i> '.' (errno: 24).  I quickly double checked my rights and found them  
</I>&gt;<i> to be correct, then I restarted mysqld and this has fixed it for now.
</I>&gt;<i>
</I>&gt;<i> Has anyone else run into this problem?  I am concerned that it will  
</I>&gt;<i> happen again if the actual cause is not corrected.  I am running the  
</I>&gt;<i> latest Fedora on new quad core Dell hardware with 24GB RAM and 1.7TB  
</I>&gt;<i> of disk.   Any help and/or suggestions much appreciated.  Thanks.
</I>&gt;<i>
</I>&gt;<i> Nick
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Users Group Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.nyphp.org/Show-Participation">http://www.nyphp.org/Show-Participation</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030471.html">[nycphp-talk] set datadir in mysql config
</A></li>
	<LI>Next message: <A HREF="030473.html">[nycphp-talk] MySQL: count()children on 2 related tables in 1 query
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30472">[ date ]</a>
              <a href="thread.html#30472">[ thread ]</a>
              <a href="subject.html#30472">[ subject ]</a>
              <a href="author.html#30472">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

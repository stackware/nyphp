<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Returning from Includes
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2004-October/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Returning%20from%20Includes&In-Reply-To=%3C41604E8E.4000304%40atopia.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011981.html">
   <LINK REL="Next"  HREF="011985.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Returning from Includes</H1>
    <B>Matt Juszczak</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Returning%20from%20Includes&In-Reply-To=%3C41604E8E.4000304%40atopia.net%3E"
       TITLE="[nycphp-talk] Returning from Includes">matt at atopia.net
       </A><BR>
    <I>Sun Oct  3 15:10:06 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="011981.html">[nycphp-talk] Returning from Includes 
</A></li>
        <LI>Next message: <A HREF="011985.html">[nycphp-talk] connecting objects and relations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11992">[ date ]</a>
              <a href="thread.html#11992">[ thread ]</a>
              <a href="subject.html#11992">[ subject ]</a>
              <a href="author.html#11992">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jose,

Because I have a static main file, module.inc, which I can't modify.  
All that does is check to see if the include file exists, and if it 
does, it includes it.  All my other checks need to be done in the actual 
module include file ... which is why I wanted to include ANOTHER file at 
the top of that that does checks....

Jose Villegas wrote:

&gt;<i> Why don't you check for the user id before you include the file?
</I>&gt;<i>
</I>&gt;<i> if (&quot;ManageUser&quot; == $go)
</I>&gt;<i> {
</I>&gt;<i>     if (!empty($UserID)) include(go.ManageUser);
</I>&gt;<i>     else echo('User ID is missing');
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> Otherwise I sometimes make includes into functions. This allows me to 
</I>&gt;<i> break from the code at certain points as well as keep track of variables:
</I>&gt;<i>
</I>&gt;<i> function largeIncludedProcess()
</I>&gt;<i> {
</I>&gt;<i>     global $action;
</I>&gt;<i>     global $UserID;
</I>&gt;<i>     etc.
</I>&gt;<i>
</I>&gt;<i>     code, code, code
</I>&gt;<i>
</I>&gt;<i>     $GLOBALS['result1'] = $result1;
</I>&gt;<i>     $GLOBALS['result2'] = $result2;
</I>&gt;<i>     etc.
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> -jose
</I>&gt;<i> www.josevillegasdesign.com
</I>&gt;<i>
</I>&gt;<i> On Oct 2, 2004, at 2:34 AM, Matt Juszczak wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hey all,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Just had a quick question.  I've got a system that currently runs 
</I>&gt;&gt;<i> that has a basic module file (module.main) which includes a couple 
</I>&gt;&gt;<i> files...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> header.html, footer.html, and the current module file .... go.none is 
</I>&gt;&gt;<i> included if $go is NULL, action.none is included if $action is NULL 
</I>&gt;&gt;<i> .... if action is UpdateUserInfo and go is ManageUser then 
</I>&gt;&gt;<i> action.UpdateUserInfo and go.ManageUser is included ... and so on and 
</I>&gt;&gt;<i> so forth.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> go.* is the text displayed to the screen and UpdateUserInfo is the 
</I>&gt;&gt;<i> include of the action that does updating, deleting, etc....
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It all works great, except for when someone modifies the URL ... for 
</I>&gt;&gt;<i> instance, changing go from NULL to go equals &quot;ManageUser&quot; .... 
</I>&gt;&gt;<i> go.ManageUser requires a userID, which is hard to check for in 
</I>&gt;&gt;<i> go.ManageUser because it pushes all the code in ....
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> for instance:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> File go.ManageUser
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> if (!empty($UserID))
</I>&gt;&gt;<i> {
</I>&gt;&gt;<i>     echo &quot;missing&quot;;
</I>&gt;&gt;<i> }
</I>&gt;&gt;<i> else
</I>&gt;&gt;<i> {
</I>&gt;&gt;<i>     // 100 lines of code here ... indented... :-(
</I>&gt;&gt;<i> }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I could do something else like
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> if (!empty($UserID))
</I>&gt;&gt;<i>     $errors = &quot;Missing file&quot;;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> if (empty($errors))
</I>&gt;&gt;<i> {
</I>&gt;&gt;<i>     // 100 lines of code here
</I>&gt;&gt;<i> }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> but that still does the indent ... so what i want to do is this:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> if (empty($errors))
</I>&gt;&gt;<i> {
</I>&gt;&gt;<i>     return; // return from the include
</I>&gt;&gt;<i> }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> //rest of code here
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I can't do an exit; because then it won't go back to the main 
</I>&gt;&gt;<i> &quot;module&quot; file and print footer.html, so the page will look messed 
</I>&gt;&gt;<i> up.  Will that single return work though?  What if I wanted to do 
</I>&gt;&gt;<i> multiple layers?  I've tried this and I can't seem to get it working 
</I>&gt;&gt;<i> like i want it to.  Is there a better way?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks :)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -Matt
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> New York PHP Talk
</I>&gt;&gt;<i> Supporting AMP Technology (Apache/MySQL/PHP)
</I>&gt;&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;&gt;<i> <A HREF="http://www.newyorkphp.org">http://www.newyorkphp.org</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Talk
</I>&gt;<i> Supporting AMP Technology (Apache/MySQL/PHP)
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> <A HREF="http://www.newyorkphp.org">http://www.newyorkphp.org</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> !DSPAM:415e56fc106731017818960!
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011981.html">[nycphp-talk] Returning from Includes 
</A></li>
	<LI>Next message: <A HREF="011985.html">[nycphp-talk] connecting objects and relations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11992">[ date ]</a>
              <a href="thread.html#11992">[ thread ]</a>
              <a href="subject.html#11992">[ subject ]</a>
              <a href="author.html#11992">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] NEW PHundamentals Question - Headers &amp; Downloads
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2004-October/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20NEW%20PHundamentals%20Question%20-%20Headers%20%26%20Downloads&In-Reply-To=%3C416C5324.306%40phpwerx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012127.html">
   <LINK REL="Next"  HREF="012134.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] NEW PHundamentals Question - Headers &amp; Downloads</H1>
    <B>Dan Cech</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20NEW%20PHundamentals%20Question%20-%20Headers%20%26%20Downloads&In-Reply-To=%3C416C5324.306%40phpwerx.net%3E"
       TITLE="[nycphp-talk] NEW PHundamentals Question - Headers &amp; Downloads">dcech at phpwerx.net
       </A><BR>
    <I>Tue Oct 12 17:56:52 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="012127.html">[nycphp-talk] NEW PHundamentals Question - Headers &amp; Downloads
</A></li>
        <LI>Next message: <A HREF="012134.html">[nycphp-talk] NEW PHundamentals Question - Headers &amp; Downloads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12130">[ date ]</a>
              <a href="thread.html#12130">[ thread ]</a>
              <a href="subject.html#12130">[ subject ]</a>
              <a href="author.html#12130">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jeff Siegel - PHundamentals wrote:
&gt;<i> For the next PHundamentals article, we are exploring best practices in 
</I>&gt;<i> the use of headers.  Over the next few weeks, we'll be asking about the 
</I>&gt;<i> various ways in which headers are used.  This week's question (see 
</I>&gt;<i> below) concerns the use of headers which force downloads.
</I>
I have used this combination of headers with pretty good success:

Given an array containing the details of the file like:

$attach = array(
   'filename' =&gt; 'myfile.pdf',
   'mimetype' =&gt; 'application/pdf',
   'content'  =&gt; 'pdf here'
);

header('Content-Disposition: attachment; filename='. $attach['filename']);
header('Content-length: '. strlen($attach['content']));
header('Content-type: '. $attach['mimetype']);
echo $attach['content'];
exit;

The Content-Disposition header tells the browser to open the download 
dialog, and lets it know the correct filename/extension.

The Content-length header allows the browser to display a meaningful 
progress bar.

The Content-type header lets the browser correctly display an indication 
of the file type to the user (PDF,XLS,EXE etc).  In most browsers it 
will also influence the default action (open vs download).

For some files (pdf mostly) it can be a good idea to use a different 
Content-Disposition header, namely:

header('Content-Disposition: inline; filename='. $attach['filename']);

In most browsers this will result in the pdf file being opened within 
the browser window.

I have a bunch more information regarding the use of headers for cache 
control...but that wasn't what you were asking was it ;)

Dan Cech

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012127.html">[nycphp-talk] NEW PHundamentals Question - Headers &amp; Downloads
</A></li>
	<LI>Next message: <A HREF="012134.html">[nycphp-talk] NEW PHundamentals Question - Headers &amp; Downloads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12130">[ date ]</a>
              <a href="thread.html#12130">[ thread ]</a>
              <a href="subject.html#12130">[ subject ]</a>
              <a href="author.html#12130">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

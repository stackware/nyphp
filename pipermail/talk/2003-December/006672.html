<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] MySQL concurrency 101
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-December/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20MySQL%20concurrency%20101&In-Reply-To=%3CC33C210B505AE448ACDB84D71C45E23D066DE9%40shosv2b.sholodge.corp%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006668.html">
   <LINK REL="Next"  HREF="006675.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] MySQL concurrency 101</H1>
    <B>Cogswell, Eric</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20MySQL%20concurrency%20101&In-Reply-To=%3CC33C210B505AE448ACDB84D71C45E23D066DE9%40shosv2b.sholodge.corp%3E"
       TITLE="[nycphp-talk] MySQL concurrency 101">eric.cogswell at innlink.com
       </A><BR>
    <I>Thu Dec 11 12:42:22 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="006668.html">[nycphp-talk] Looking for graphical CMS ...
</A></li>
        <LI>Next message: <A HREF="006675.html">[nycphp-talk] MySQL concurrency 101
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6672">[ date ]</a>
              <a href="thread.html#6672">[ thread ]</a>
              <a href="subject.html#6672">[ subject ]</a>
              <a href="author.html#6672">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I ran into the same problem not too long ago.  Solved it by sending in
the &quot;old&quot; field values along with the actual form values entered by the
user.

&lt;input type=&quot;text&quot; name=&quot;homephone&quot; value=&quot;&lt;?=$home_phone;?&gt;&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;old_homephone&quot; value=&quot;&lt;?=$home_phone;?&gt;&quot;&gt;

&lt;input type=&quot;text&quot; name=&quot;workphone&quot; value=&quot;&lt;?=$work_phone;?&gt;&quot;&gt;
&lt;input type=&quot;hidden&quot; name=&quot;old_workphone&quot; value=&quot;&lt;?=$work_phone;?&gt;&quot;&gt;

And so on.  Then, when you receive the form, check the user-entered
value against the &quot;old&quot; value.  If they are different, then save the new
value to the db, otherwise don't touch it.  Basically, you only update
the information that was changed by the user.  If user1 updates the home
phone number and user2 updates the work phone number, their repsective
data will not be overwritten by the other because it wasn't changed on
their form.  It seems to be working pretty well for me so far.

-Eric

-----Original Message-----
From: David Mintz [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">dmintz at davidmintz.org</A>] 
Sent: Thursday, December 11, 2003 11:13 AM
To: NYPHP Talk
Subject: [nycphp-talk] MySQL concurrency 101




Basic question. What is/are the recommended strategies for dealing with
the lost update problem in a PHP/MySQL application? The scenario I'm
thinking of is not the old shirt inventory example which can be solved
with relative as opposed to absolute updates. I'm thinking:  User1
requests a page containing a form populated by a row of John Customer's
data from a table; so does User2. User1 updates John Customer's work
phone in the form and User2 updates John Customer's home phone. User1
submits form/updates table, then User2 does likewise, overwriting
User1's update.

I've done considerable RTFM and I'm conversant with locks, transactions,
etc. I'm uncertain about how to put it all together in a web app, i.e.,
with lots of short-lived independent scripts running in a stateless
environment.

The possible approaches I can think of are a little cumbersome -- I'll
spare you, for the sake of brevity.

Any pointers to tutorials, articles etc are appreciated. Thanks.


---
David Mintz
<A HREF="http://davidmintz.org/">http://davidmintz.org/</A>

        &quot;Anybody else got a problem with Webistics?&quot; -- Sopranos 24:17
_______________________________________________
talk mailing list
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006668.html">[nycphp-talk] Looking for graphical CMS ...
</A></li>
	<LI>Next message: <A HREF="006675.html">[nycphp-talk] MySQL concurrency 101
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6672">[ date ]</a>
              <a href="thread.html#6672">[ thread ]</a>
              <a href="subject.html#6672">[ subject ]</a>
              <a href="author.html#6672">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

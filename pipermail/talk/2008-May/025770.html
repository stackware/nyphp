<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Schema Validation [Solved]
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-May/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Schema%20Validation%20%5BSolved%5D&In-Reply-To=%3C4829ADE5.3010908%40projectskyline.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025769.html">
   <LINK REL="Next"  HREF="025773.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Schema Validation [Solved]</H1>
    <B>Ben Sgro</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Schema%20Validation%20%5BSolved%5D&In-Reply-To=%3C4829ADE5.3010908%40projectskyline.com%3E"
       TITLE="[nycphp-talk] Schema Validation [Solved]">ben at projectskyline.com
       </A><BR>
    <I>Tue May 13 11:04:05 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025769.html">[nycphp-talk] Schema Validation
</A></li>
        <LI>Next message: <A HREF="025773.html">[nycphp-talk] Schema Validation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25770">[ date ]</a>
              <a href="thread.html#25770">[ thread ]</a>
              <a href="subject.html#25770">[ subject ]</a>
              <a href="author.html#25770">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

The first problem is that the .xsd was not up to date.

The second is that you cannot call load() on an xml string, you have to 
call loadXML().
load() is for a file.

- Ben

Ben Sgro wrote:
&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> I'm having a lot of trouble getting the dom object schema validation 
</I>&gt;<i> to work. After looking on google, it seems there isn't a straight 
</I>&gt;<i> forward way to handle
</I>&gt;<i> complex schemas.
</I>&gt;<i>
</I>&gt;<i> Take the following code:
</I>&gt;<i>
</I>&gt;<i>        if (is_file($schemaFile))
</I>&gt;<i>        {
</I>&gt;<i>            $domObj-&gt;load($requestXml);
</I>&gt;<i>            if (!$domObj-&gt;schemaValidate($schemaFile))
</I>&gt;<i>            {
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> load() is throwing a warning:
</I>&gt;<i> &lt;b&gt;Warning&lt;/b&gt;:  DOMDocument::load() [&lt;a 
</I>&gt;<i> href='function.DOMDocument-load'&gt;function.DOMDocument-load&lt;/a&gt;]: I/O 
</I>&gt;<i> warning : failed to load external entity
</I>&gt;<i>
</I>&gt;<i> And so is the call to schemaValidate()
</I>&gt;<i> &lt;b&gt;Warning&lt;/b&gt;:  DOMDocument::schemaValidate() [&lt;a 
</I>&gt;<i> href='function.DOMDocument-schemaValidate'&gt;function.DOMDocument-schemaValidate&lt;/a&gt;]: 
</I>&gt;<i> The document has no document element.
</I>&gt;<i>
</I>&gt;<i> My XML struct:
</I>&gt;<i>
</I>&gt;<i> &lt;Template archived=&quot;0&quot; id=&quot;2&quot; label=&quot;Millenium PredictR Template&quot; 
</I>&gt;<i> version=&quot;1&quot; xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</A>&quot;&gt;
</I>&gt;<i>  &lt;Meta /&gt;
</I>&gt;<i>  &lt;Phases&gt;
</I>&gt;<i>    &lt;Phase state=&quot;development&quot; /&gt;
</I>&gt;<i>    &lt;Phase state=&quot;testing&quot; /&gt;
</I>&gt;<i>    &lt;Phase state=&quot;published&quot;&gt;
</I>&gt;<i>      &lt;SubjectTypes&gt;
</I>&gt;<i>        &lt;SubjectTypeRef idref=&quot;MilleniumProperty&quot; /&gt;
</I>&gt;<i>      &lt;/SubjectTypes&gt;
</I>&gt;<i>      &lt;DataPointGroups&gt;
</I>&gt;<i>        &lt;DataPointGroup dataSourceMappingRef=&quot;1&quot; label=&quot;Millenium&quot;&gt;
</I>&gt;<i>          &lt;DataPoint name=&quot;prepredictr&quot; /&gt;
</I>&gt;<i>        &lt;/DataPointGroup&gt;
</I>&gt;<i>      &lt;/DataPointGroups&gt;
</I>&gt;<i>      &lt;Output&gt;
</I>&gt;<i>        &lt;Transformation enabled=&quot;true&quot; 
</I>&gt;<i> filename=&quot;PredictR_result_to_pxClient&quot; /&gt;
</I>&gt;<i>      &lt;/Output&gt;
</I>&gt;<i>    &lt;/Phase&gt;
</I>&gt;<i>  &lt;/Phases&gt;
</I>&gt;<i>  &lt;History&gt;
</I>&gt;<i>    &lt;Event dateTime=&quot;2008-04-14T10:56:12Z&quot; type=&quot;created&quot; user=&quot;ramap@&quot; /&gt;
</I>&gt;<i>  &lt;/History&gt;
</I>&gt;<i> &lt;/Template&gt;
</I>&gt;<i>
</I>&gt;<i> My schema struct:
</I>&gt;<i>
</I>&gt;<i> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
</I>&gt;<i> &lt;xs:schema xmlns:xs=&quot;<A HREF="http://www.w3.org/2001/XMLSchema">http://www.w3.org/2001/XMLSchema</A>&quot;&gt;
</I>&gt;<i>    &lt;xs:element name=&quot;Template&quot;&gt;
</I>&gt;<i>        &lt;xs:complexType&gt;
</I>&gt;<i>            &lt;xs:sequence&gt;
</I>&gt;<i>                              &lt;xs:element name=&quot;Meta&quot; minOccurs=&quot;0&quot;&gt;
</I>&gt;<i>                    &lt;xs:complexType&gt;
</I>&gt;<i>                        &lt;xs:sequence&gt;
</I>&gt;<i>                            &lt;xs:element name=&quot;Meta&quot; 
</I>&gt;<i> type=&quot;SimpleNameValuePairType&quot; minOccurs=&quot;0&quot;
</I>&gt;<i>                                maxOccurs=&quot;unbounded&quot;/&gt;
</I>&gt;<i>                        &lt;/xs:sequence&gt;
</I>&gt;<i>                    &lt;/xs:complexType&gt;                                  
</I>&gt;<i> &lt;/xs:element&gt;
</I>&gt;<i>
</I>&gt;<i>                &lt;xs:element name=&quot;Phases&quot;&gt;
</I>&gt;<i>                    &lt;xs:complexType&gt;
</I>&gt;<i>                        &lt;xs:sequence&gt;
</I>&gt;<i>                            &lt;xs:element name=&quot;Phase&quot; minOccurs=&quot;3&quot; 
</I>&gt;<i> maxOccurs=&quot;3&quot;&gt;
</I>&gt;<i>                                &lt;xs:complexType mixed=&quot;true&quot;&gt;
</I>&gt;<i>                                    &lt;xs:sequence&gt;
</I>&gt;<i>                                        &lt;xs:element name=&quot;SubjectTypes&quot; 
</I>&gt;<i> minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;&gt;
</I>&gt;<i>                                            &lt;xs:complexType&gt;
</I>&gt;<i>                                                &lt;xs:sequence&gt;
</I>&gt;<i>                                                    &lt;xs:element 
</I>&gt;<i> name=&quot;SubjectTypeRef&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;unbounded&quot;&gt;
</I>&gt;<i>                                                        &lt;xs:complexType&gt;
</I>&gt;<i>                                                            
</I>&gt;<i> &lt;xs:attribute name=&quot;idref&quot; type=&quot;xs:string&quot; use=&quot;required&quot;/&gt;
</I>&gt;<i>                                                        &lt;/xs:complexType&gt;
</I>&gt;<i>                                                    &lt;/xs:element&gt;
</I>&gt;<i>                                                &lt;/xs:sequence&gt;
</I>&gt;<i>                                            &lt;/xs:complexType&gt;
</I>&gt;<i>                                        &lt;/xs:element&gt;
</I>&gt;<i>                                       
</I>&gt;<i>                                        &lt;xs:element 
</I>&gt;<i> name=&quot;DataPointGroups&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;&gt;
</I>&gt;<i>                                            &lt;xs:complexType&gt;
</I>&gt;<i>                                                &lt;xs:sequence&gt;
</I>&gt;<i>                                                    &lt;xs:element 
</I>&gt;<i> name=&quot;DataPointGroup&quot;&gt;
</I>&gt;<i>                                                        &lt;xs:complexType&gt;
</I>&gt;<i>                                                            &lt;xs:sequence&gt;
</I>&gt;<i>                                                                
</I>&gt;<i> &lt;xs:element name=&quot;DataPoint&quot;&gt;
</I>&gt;<i>                                                                    
</I>&gt;<i> &lt;xs:complexType&gt;
</I>&gt;<i>                                                                        
</I>&gt;<i> &lt;xs:sequence&gt;                                                   
</I>&gt;<i>                                                                            
</I>&gt;<i> &lt;xs:element name=&quot;Exceptions&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;&gt;
</I>&gt;<i>                                                                                
</I>&gt;<i> &lt;xs:complexType&gt;
</I>&gt;<i>                                                                                    
</I>&gt;<i> &lt;xs:sequence&gt;
</I>&gt;<i>                                                                                        
</I>&gt;<i> &lt;xs:element name=&quot;Exception&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;
</I>&gt;<i>                                                                                            
</I>&gt;<i> &lt;xs:complexType&gt;
</I>&gt;<i>                                                                                                
</I>&gt;<i> &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:string&quot; use=&quot;required&quot;/&gt;
</I>&gt;<i>                                                                                                
</I>&gt;<i> &lt;xs:attribute name=&quot;value&quot; use=&quot;required&quot;/&gt;
</I>&gt;<i>                                                                                            
</I>&gt;<i> &lt;/xs:complexType&gt;
</I>&gt;<i>                                                                                        
</I>&gt;<i> &lt;/xs:element&gt;
</I>&gt;<i>                                                                                    
</I>&gt;<i> &lt;/xs:sequence&gt;                                                           
</I>&gt;<i>                                                                                
</I>&gt;<i> &lt;/xs:complexType&gt;
</I>&gt;<i>                                                                            
</I>&gt;<i> &lt;/xs:element&gt;
</I>&gt;<i>                                                                        
</I>&gt;<i> &lt;/xs:sequence&gt;                                               
</I>&gt;<i>                                                                        
</I>&gt;<i> &lt;xs:attribute name=&quot;name&quot; use=&quot;required&quot;/&gt;
</I>&gt;<i>                                                                        
</I>&gt;<i> &lt;xs:attribute name=&quot;dataSourceMappingRef&quot; use=&quot;required&quot;/&gt;
</I>&gt;<i>                                                                    
</I>&gt;<i> &lt;/xs:complexType&gt;
</I>&gt;<i>                                                                
</I>&gt;<i> &lt;/xs:element&gt;
</I>&gt;<i>                                                            
</I>&gt;<i> &lt;/xs:sequence&gt;                                   
</I>&gt;<i>                                                            
</I>&gt;<i> &lt;xs:attribute name=&quot;label&quot;/&gt;
</I>&gt;<i>                                                        &lt;/xs:complexType&gt;
</I>&gt;<i>                                                    &lt;/xs:element&gt;
</I>&gt;<i>                                                &lt;/xs:sequence&gt;
</I>&gt;<i>                                            &lt;/xs:complexType&gt;
</I>&gt;<i>                                        &lt;/xs:element&gt;
</I>&gt;<i>                                       
</I>&gt;<i>                                        &lt;xs:element name=&quot;Output&quot; 
</I>&gt;<i> minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;&gt;
</I>&gt;<i>                                            &lt;xs:complexType&gt;
</I>&gt;<i>                                                &lt;xs:sequence&gt;
</I>&gt;<i>                                                    &lt;xs:element 
</I>&gt;<i> name=&quot;Transformation&quot;/&gt;
</I>&gt;<i>                                                &lt;/xs:sequence&gt;
</I>&gt;<i>                                                &lt;xs:attribute 
</I>&gt;<i> name=&quot;enabled&quot; type=&quot;xs:boolean&quot;/&gt;
</I>&gt;<i>                                                &lt;xs:attribute 
</I>&gt;<i> name=&quot;filename&quot;/&gt;
</I>&gt;<i>                                            &lt;/xs:complexType&gt;
</I>&gt;<i>                                        &lt;/xs:element&gt;
</I>&gt;<i>                                    &lt;/xs:sequence&gt;
</I>&gt;<i>                                    &lt;xs:attribute name=&quot;state&quot;&gt;
</I>&gt;<i>                                        &lt;xs:simpleType&gt;
</I>&gt;<i>                                            &lt;xs:restriction 
</I>&gt;<i> base=&quot;NonEmptyString&quot;&gt;
</I>&gt;<i>                                                &lt;xs:pattern 
</I>&gt;<i> value=&quot;development|testing|published&quot;&gt;&lt;/xs:pattern&gt;
</I>&gt;<i>                                            &lt;/xs:restriction&gt;
</I>&gt;<i>                                        &lt;/xs:simpleType&gt;
</I>&gt;<i>                                    &lt;/xs:attribute&gt;
</I>&gt;<i>                                    &lt;xs:attribute name=&quot;version&quot; 
</I>&gt;<i> use=&quot;optional&quot; type=&quot;xs:integer&quot;/&gt;
</I>&gt;<i>                                &lt;/xs:complexType&gt;
</I>&gt;<i>                            &lt;/xs:element&gt;
</I>&gt;<i>                        &lt;/xs:sequence&gt;
</I>&gt;<i>                    &lt;/xs:complexType&gt;
</I>&gt;<i>                &lt;/xs:element&gt;
</I>&gt;<i>                      &lt;!--        &lt;xs:element name=&quot;History&quot; 
</I>&gt;<i> minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;&gt;
</I>&gt;<i>                    &lt;xs:complexType&gt;
</I>&gt;<i>                        &lt;xs:sequence&gt;
</I>&gt;<i>                                                      &lt;xs:element 
</I>&gt;<i> name=&quot;Event&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;
</I>&gt;<i>                                                  &lt;/xs:sequence&gt;
</I>&gt;<i>                        &lt;xs:attribute name=&quot;type&quot;/&gt;
</I>&gt;<i>                        &lt;xs:attribute name=&quot;user&quot;/&gt;
</I>&gt;<i>                        &lt;xs:attribute name=&quot;dateTime&quot;/&gt;
</I>&gt;<i>                    &lt;/xs:complexType&gt;
</I>&gt;<i>                &lt;/xs:element&gt; --&gt;
</I>&gt;<i>                             &lt;xs:element name=&quot;History&quot;&gt;
</I>&gt;<i>                    &lt;xs:complexType&gt;
</I>&gt;<i>                        &lt;xs:sequence minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;
</I>&gt;<i>                            &lt;xs:element name=&quot;Event&quot;&gt;
</I>&gt;<i>                                &lt;xs:complexType mixed=&quot;true&quot;&gt;
</I>&gt;<i>                                    &lt;xs:attribute name=&quot;type&quot;/&gt;
</I>&gt;<i>                                    &lt;xs:attribute name=&quot;user&quot;/&gt;
</I>&gt;<i>                                    &lt;xs:attribute name=&quot;dateTime&quot;/&gt;
</I>&gt;<i>                                    &lt;xs:anyAttribute namespace=&quot;##any&quot; 
</I>&gt;<i> processContents=&quot;lax&quot;/&gt;
</I>&gt;<i>                                &lt;/xs:complexType&gt;
</I>&gt;<i>                            &lt;/xs:element&gt;
</I>&gt;<i>                        &lt;/xs:sequence&gt;
</I>&gt;<i>                    &lt;/xs:complexType&gt;
</I>&gt;<i>                &lt;/xs:element&gt;
</I>&gt;<i>                          &lt;/xs:sequence&gt;
</I>&gt;<i>                      &lt;xs:attribute name=&quot;id&quot; type=&quot;xs:integer&quot;/&gt;
</I>&gt;<i>            &lt;xs:attribute name=&quot;label&quot; type=&quot;xs:string&quot;/&gt;
</I>&gt;<i>            &lt;xs:attribute name=&quot;version&quot; type=&quot;xs:integer&quot;/&gt;
</I>&gt;<i>            &lt;xs:attribute name=&quot;archived&quot; type=&quot;xs:integer&quot;/&gt;
</I>&gt;<i>        &lt;/xs:complexType&gt;
</I>&gt;<i>    &lt;/xs:element&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>    &lt;xs:complexType name=&quot;SimpleNameValuePairType&quot;&gt;
</I>&gt;<i>        &lt;xs:sequence&gt;
</I>&gt;<i>            &lt;xs:element name=&quot;Meta&quot; type=&quot;SimpleNameValuePairType&quot; 
</I>&gt;<i> minOccurs=&quot;0&quot;
</I>&gt;<i>                maxOccurs=&quot;unbounded&quot;/&gt;
</I>&gt;<i>        &lt;/xs:sequence&gt;
</I>&gt;<i>        &lt;xs:attribute name=&quot;name&quot; use=&quot;required&quot;&gt;
</I>&gt;<i>            &lt;xs:simpleType&gt;
</I>&gt;<i>                &lt;xs:restriction base=&quot;xs:string&quot;&gt;
</I>&gt;<i>                    &lt;xs:minLength value=&quot;1&quot;/&gt;
</I>&gt;<i>                    &lt;xs:whiteSpace value=&quot;collapse&quot;/&gt;
</I>&gt;<i>                &lt;/xs:restriction&gt;
</I>&gt;<i>            &lt;/xs:simpleType&gt;
</I>&gt;<i>        &lt;/xs:attribute&gt;
</I>&gt;<i>        &lt;xs:attribute name=&quot;value&quot; type=&quot;xs:anySimpleType&quot;/&gt;
</I>&gt;<i>    &lt;/xs:complexType&gt;
</I>&gt;<i>      &lt;xs:simpleType name=&quot;NonEmptyString&quot;&gt;
</I>&gt;<i>        &lt;xs:restriction base=&quot;xs:string&quot;&gt;
</I>&gt;<i>            &lt;xs:minLength value=&quot;1&quot;/&gt;
</I>&gt;<i>        &lt;/xs:restriction&gt;
</I>&gt;<i>    &lt;/xs:simpleType&gt;
</I>&gt;<i>   &lt;/xs:schema&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> - Ben
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i>
</I>&gt;<i> Show Your Participation in New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025769.html">[nycphp-talk] Schema Validation
</A></li>
	<LI>Next message: <A HREF="025773.html">[nycphp-talk] Schema Validation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25770">[ date ]</a>
              <a href="thread.html#25770">[ thread ]</a>
              <a href="subject.html#25770">[ subject ]</a>
              <a href="author.html#25770">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

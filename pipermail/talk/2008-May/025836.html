<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] protecting download directory in PHP app on Unix box?
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-May/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20protecting%20download%20directory%20in%20PHP%20app%20on%20Unix%20box%3F&In-Reply-To=%3C483D7A34.8040105%40projectskyline.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025835.html">
   <LINK REL="Next"  HREF="025839.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] protecting download directory in PHP app on Unix box?</H1>
    <B>Ben Sgro</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20protecting%20download%20directory%20in%20PHP%20app%20on%20Unix%20box%3F&In-Reply-To=%3C483D7A34.8040105%40projectskyline.com%3E"
       TITLE="[nycphp-talk] protecting download directory in PHP app on Unix box?">ben at projectskyline.com
       </A><BR>
    <I>Wed May 28 11:28:52 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025835.html">[nycphp-talk] protecting download directory in PHP app on Unix box?
</A></li>
        <LI>Next message: <A HREF="025839.html">[nycphp-talk] protecting download directory in PHP app on Unix box?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25836">[ date ]</a>
              <a href="thread.html#25836">[ thread ]</a>
              <a href="subject.html#25836">[ subject ]</a>
              <a href="author.html#25836">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Kristina,

First off, don't have the PDF's &quot;serveable&quot; from Apache.
Have them OUT of the web root.

Second, after they pay, and get the IPN feedback to validate the sale,
you could copy the pdf from your safe directory (outside of apache)
to the webroot and rename it something unique.

You could go so far as creating a maze of unique directories:

ie: /ra123/poo/fluff/uuid123123123123.pdf

Then remove it after 24 hours or something.

- Ben

Kristina Anderson wrote:
&gt;<i> This might be off topic as well...but I have a PHP app that submits to 
</I>&gt;<i> Paypal and then on the &quot;thank you&quot; page, I provide a link to a PDF that 
</I>&gt;<i> they bought.
</I>&gt;<i>
</I>&gt;<i> The server is Unix based, and before submitting the sale, I collect 
</I>&gt;<i> various information about the user, and then when the transaction is 
</I>&gt;<i> complete, I get a unique transaction ID from Paypal.
</I>&gt;<i>
</I>&gt;<i> What's the easiest, quickest way to provide some level of complexity to 
</I>&gt;<i> the downloads so that people can't just go back into the directory and 
</I>&gt;<i> download every PDF without paying?  It doesn't have to be 100% secure 
</I>&gt;<i> but should be secure enough to keep out &quot;most&quot; people.
</I>&gt;<i>
</I>&gt;<i> I've been looking into .htaccess but wondering if that's overkill and 
</I>&gt;<i> there isn't some way to authenticate against my DB information before 
</I>&gt;<i> allowing the download?
</I>&gt;<i>
</I>&gt;<i> -- Kristina 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i>
</I>&gt;<i> Show Your Participation in New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>&gt;<i>
</I>&gt;<i>   
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025835.html">[nycphp-talk] protecting download directory in PHP app on Unix box?
</A></li>
	<LI>Next message: <A HREF="025839.html">[nycphp-talk] protecting download directory in PHP app on Unix box?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25836">[ date ]</a>
              <a href="thread.html#25836">[ thread ]</a>
              <a href="subject.html#25836">[ subject ]</a>
              <a href="author.html#25836">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Apache Mod-Proxy Access Control
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-May/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Apache%20Mod-Proxy%20Access%20Control&In-Reply-To=%3Cb76252690805291308y3321ecf4wde7453524a9a83dc%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025882.html">
   <LINK REL="Next"  HREF="025893.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Apache Mod-Proxy Access Control</H1>
    <B>csnyder</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Apache%20Mod-Proxy%20Access%20Control&In-Reply-To=%3Cb76252690805291308y3321ecf4wde7453524a9a83dc%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] Apache Mod-Proxy Access Control">chsnyder at gmail.com
       </A><BR>
    <I>Thu May 29 16:08:56 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025882.html">[nycphp-talk] Apache Mod-Proxy Access Control
</A></li>
        <LI>Next message: <A HREF="025893.html">[nycphp-talk] Apache Mod-Proxy Access Control
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25892">[ date ]</a>
              <a href="thread.html#25892">[ thread ]</a>
              <a href="subject.html#25892">[ subject ]</a>
              <a href="author.html#25892">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, May 29, 2008 at 2:03 PM, Joe Leo &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">joeleo724 at gmail.com</A>&gt; wrote:

&gt;<i> The www.mainsite.com has my drupal users where they can sign-up and
</I>&gt;<i> authenticate. What I want is: If users enter url server1.mainsite.com then
</I>&gt;<i> the proxy would somehow prompt users to first login. But, I'm not sure how
</I>&gt;<i> this can be done/achieved. I would appreciate any comments/suggestions to
</I>&gt;<i> accomplish this.
</I>&gt;<i>
</I>
It sounds tough, because the browser isn't going to send the
www.mainsite.com cookie to server1.mainsite.com.

But wait, you said www was acting as a reverse proxy, so why would
someone go directly to server1?

If all the connections go through www, you can use mod_rewrite to
check for existence of drupal's session cookie, and redirect to login
if not found.

If someone knew the setup, they could fake the drupal cookie, so if
you're trying to protect something valuable using this scheme you may
need to consider a different mechanism, such as an auto-prepend script
that checks if the session is valid.


-- 
Chris Snyder
<A HREF="http://chxo.com/">http://chxo.com/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025882.html">[nycphp-talk] Apache Mod-Proxy Access Control
</A></li>
	<LI>Next message: <A HREF="025893.html">[nycphp-talk] Apache Mod-Proxy Access Control
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25892">[ date ]</a>
              <a href="thread.html#25892">[ thread ]</a>
              <a href="subject.html#25892">[ subject ]</a>
              <a href="author.html#25892">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

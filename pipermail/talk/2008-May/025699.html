<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] A question about run php variable in javascript
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-May/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20A%20question%20about%20run%20php%20variable%20in%20javascript&In-Reply-To=%3C8f0676b40805010918o3f55b5e7nc886fa0c7800a594%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025696.html">
   <LINK REL="Next"  HREF="025702.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] A question about run php variable in javascript</H1>
    <B>John Campbell</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20A%20question%20about%20run%20php%20variable%20in%20javascript&In-Reply-To=%3C8f0676b40805010918o3f55b5e7nc886fa0c7800a594%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] A question about run php variable in javascript">jcampbell1 at gmail.com
       </A><BR>
    <I>Thu May  1 12:18:20 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025696.html">[nycphp-talk] A question about run php variable in javascript
</A></li>
        <LI>Next message: <A HREF="025702.html">[nycphp-talk] A question about run php variable in javascript
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25699">[ date ]</a>
              <a href="thread.html#25699">[ thread ]</a>
              <a href="subject.html#25699">[ subject ]</a>
              <a href="author.html#25699">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, May 1, 2008 at 11:59 AM, chad qian &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">nynj.tech at hotmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>  I need to run php to get street from mysql database.
</I>&gt;<i> Then test the street variable in javascript
</I>&gt;<i> if street is emty,javascript will pop up alert window
</I>&gt;<i>
</I>&gt;<i>  Here are my thoughts:
</I>&gt;<i>
</I>&gt;<i>  &lt;?php
</I>&gt;<i>  //connection to server,database
</I>&gt;<i>
</I>&gt;<i> $q = &quot;select street from apt where username = '$user'&quot;;
</I>&gt;<i> $result = mysql_query($q) or die(mysql_error());
</I>&gt;<i> while($row = mysql_fetch_array($result)){
</I>&gt;<i>   $street=$row['street'];
</I>&gt;<i> }
</I>&gt;<i> ?&gt;
</I>&gt;<i>  &lt;script LANGUAGE=&quot;JavaScript&quot;&gt;
</I>&gt;<i> st=&lt;?=$street?&gt;;
</I>&gt;<i> if(st)
</I>&gt;<i>  alert(&quot;miss street&quot;);
</I>&gt;<i>  &lt;/script&gt;
</I>&gt;<i>
</I>&gt;<i>  Can I run st=&lt;?=street?&gt; in javascript?I'm not sure here.
</I>
Almost... that will produce the following:

st=123 abcd ave;

what you want is

var st = '123 abcd ave';
if(st === '') alert(&quot;miss street&quot;);

You also need to take care of escaping issues: what if the street name
is O'henry st?
then you would have
var st = '123 O'henry st'; // invalid javascript.

I  always use JSON to send data to javascript because it automatically
handles escaping and is much more flexible.  If you are not familiar
with JSON, it'll be worth your while to do a bit of reading.

Regards,
John Campbell

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025696.html">[nycphp-talk] A question about run php variable in javascript
</A></li>
	<LI>Next message: <A HREF="025702.html">[nycphp-talk] A question about run php variable in javascript
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25699">[ date ]</a>
              <a href="thread.html#25699">[ thread ]</a>
              <a href="subject.html#25699">[ subject ]</a>
              <a href="author.html#25699">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

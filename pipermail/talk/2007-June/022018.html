<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] PHP array_unique vs. SQL DISTINCT
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20array_unique%20vs.%20SQL%20DISTINCT&In-Reply-To=%3C46634946.5090308%40gmx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022015.html">
   <LINK REL="Next"  HREF="022019.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] PHP array_unique vs. SQL DISTINCT</H1>
    <B>David Krings</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20array_unique%20vs.%20SQL%20DISTINCT&In-Reply-To=%3C46634946.5090308%40gmx.net%3E"
       TITLE="[nycphp-talk] PHP array_unique vs. SQL DISTINCT">ramons at gmx.net
       </A><BR>
    <I>Sun Jun  3 19:05:42 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022015.html">[nycphp-talk] PHP array_unique vs. SQL DISTINCT
</A></li>
        <LI>Next message: <A HREF="022019.html">[nycphp-talk] PHP array_unique vs. SQL DISTINCT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22018">[ date ]</a>
              <a href="thread.html#22018">[ thread ]</a>
              <a href="subject.html#22018">[ subject ]</a>
              <a href="author.html#22018">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Adrian Noland wrote:
&gt;<i> The key to speedy SQL is in the indexes. Without an index the SQL engine 
</I>&gt;<i> iterates over every row. With an index it automagically grabs the 
</I>&gt;<i> correct value.
</I>
Good to know. I heard about indices before, but wasn't really aware that 
they have such a huge impact. Since my days of maintaining Paradox 
tables I am a bit scared of indices as for Paradox they are often more 
trouble than they are worth. I know, SQL is a different universe.
Any good tips as what to index? I doubt that indexing every column makes 
sense. I see what changes when I index those columns that I use within 
selects. There are some columns that I read out after I made my 
selection and also in a different script in a different context and 
there for only one row from.


&gt;<i> Try using EXPLAIN to check your queries if they don't seem to be working 
</I>&gt;<i> as expected.
</I>&gt;<i> 
</I>&gt;<i> EXPLAIN SELECT * FROM table_name;
</I>
I will let SQL explain to me what I try to explain to SQL. While working 
on a workaround I thought about what my misfiring query does and in fact 
it does what I want it to do. I'll have a copy of the old file and I 
will see what happens after indexing.

The workaround is something I used before and that works fairly well. I 
select the wanted rows from each of the three tables. They are all keyed 
based on an ID that logically links the records together (I don't use 
set table links, because I don't know how that works in MySQL). I end up 
with three arrays of IDs, I merge the arrays, make the values unique, 
rekey, then populate a temporary table that has the ID column and the 
few columns I want to do sorts on. I then pull a new array of IDs from 
that table using a simple select with the desired sorting.
Of course, the db now has to process hundreds (thousands) selects and 
deal with a temp table that requires simple inserts, but since each of 
those queries runs in a few microseconds if not faster this may be OK 
for what I need it for.
I read a few articles where some claim that people have no right to life 
for using temp tables, but others say that they are helpful and make 
things faster and easier, especially when it is about working through 
complex selects.

And there I thought I'm almost done...LOL.

David

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022015.html">[nycphp-talk] PHP array_unique vs. SQL DISTINCT
</A></li>
	<LI>Next message: <A HREF="022019.html">[nycphp-talk] PHP array_unique vs. SQL DISTINCT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22018">[ date ]</a>
              <a href="thread.html#22018">[ thread ]</a>
              <a href="subject.html#22018">[ subject ]</a>
              <a href="author.html#22018">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

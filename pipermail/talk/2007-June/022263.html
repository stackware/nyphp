<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] When to close a mysql connection
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20When%20to%20close%20a%20mysql%20connection&In-Reply-To=%3C4686F530.9060209%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022262.html">
   <LINK REL="Next"  HREF="022264.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] When to close a mysql connection</H1>
    <B>Jakob Buchgraber</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20When%20to%20close%20a%20mysql%20connection&In-Reply-To=%3C4686F530.9060209%40gmail.com%3E"
       TITLE="[nycphp-talk] When to close a mysql connection">jakob.buchgraber at googlemail.com
       </A><BR>
    <I>Sat Jun 30 20:28:32 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022262.html">[nycphp-talk] When to close a mysql connection
</A></li>
        <LI>Next message: <A HREF="022264.html">[nycphp-talk] When to close a mysql connection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22263">[ date ]</a>
              <a href="thread.html#22263">[ thread ]</a>
              <a href="subject.html#22263">[ subject ]</a>
              <a href="author.html#22263">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>David Krings wrote:
&gt;<i> Jakob Buchgraber wrote:
</I>&gt;<i>  &gt; No mysql doesn't hold many connections then as there is only one
</I>&gt;&gt;<i> connection at all when using persistent connections.
</I>&gt;&gt;<i>
</I>&gt;<i> Well, yes, but I assume one per client. So if I'd set the timeout to be 
</I>&gt;<i> x hours then it might just be quite easy to pile up a few hundred of 
</I>&gt;<i> unused connections. And that even with only a few concurrent connections 
</I>&gt;<i> at a time. Playing devil's advocate here.
</I>&gt;<i> 
</I>&gt;<i> I think that this might be less an issue when setting the timeout 
</I>&gt;<i> reasonably, such as 30 minutes. Much better to reconnect once every half 
</I>&gt;<i> hour (if that) then for every script call. Is that how it works?
</I>&gt;<i> 
</I>&gt;<i> David
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> 
</I>&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i> 
</I>&gt;<i> Show Your Participation in New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>&gt;<i> 
</I>No that's not how it works, that's how normal database connections work.
How should MySQL know which user connects? The user makes one HTTP 
Request and if he does it again nobody knows that he has ever been here 
(except if the webserver has set a cookie). I don't know how persistent 
connections exactly work as I haven't used them before. Everything I 
know and probably everything you need to know from a developers point of 
view is that when using persistent connections the connection is kept 
open even if the execution of the PHP script finishes and if the script 
is executed again and again there is always the same connection being 
used. If two scripts access this connection concurrently there is no 
second connection opened, no they are sharing this connection with each 
other.

That's actually how I understood it. So correct me if I am wrong ... :-)

- Jakob

-- 
Sun Certified Programmer for the Java 2 Platform, Standard Edition 5.0

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022262.html">[nycphp-talk] When to close a mysql connection
</A></li>
	<LI>Next message: <A HREF="022264.html">[nycphp-talk] When to close a mysql connection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22263">[ date ]</a>
              <a href="thread.html#22263">[ thread ]</a>
              <a href="subject.html#22263">[ subject ]</a>
              <a href="author.html#22263">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

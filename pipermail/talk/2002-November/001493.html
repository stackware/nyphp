<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] IMAP function imap_rfc822_parse_headers
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2002-November/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20IMAP%20function%20imap_rfc822_parse_headers&In-Reply-To=%3C20021121030739.94307.qmail%40web12808.mail.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001492.html">
   <LINK REL="Next"  HREF="001494.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] IMAP function imap_rfc822_parse_headers</H1>
    <B>Hans Zaunere</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20IMAP%20function%20imap_rfc822_parse_headers&In-Reply-To=%3C20021121030739.94307.qmail%40web12808.mail.yahoo.com%3E"
       TITLE="[nycphp-talk] IMAP function imap_rfc822_parse_headers">hans at nyphp.org
       </A><BR>
    <I>Wed Nov 20 22:07:39 EST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001492.html">[nycphp-talk] IMAP function imap_rfc822_parse_headers
</A></li>
        <LI>Next message: <A HREF="001494.html">Problem with imap_open and win2k imail pop server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1493">[ date ]</a>
              <a href="thread.html#1493">[ thread ]</a>
              <a href="subject.html#1493">[ subject ]</a>
              <a href="author.html#1493">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--- Jean B Flamand &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">jean at ufinity.com</A>&gt; wrote:
&gt;<i> Thanks a lot Hans, 
</I>&gt;<i> 
</I>&gt;<i> Now I manage to use this function , you need to replace all \
</I> by \\r\


Ahh, yeah, damn email standards  :)  The RFCs say only \\r\
 are allowed, but
most MTAs etc do only \
 - a real mess &lt;rant&gt;and RFCs don't help much!&lt;/rant&gt;

&gt;<i> before sending the string to the function, but now it appears that there
</I>&gt;<i> are some limitation to this function... 
</I>&gt;<i> With php 2.2.3 the number of address in the field &quot;to&quot; is forced to a
</I>&gt;<i> max of 140... If nore than 140 the function crashes badly... 
</I>&gt;<i> But it works fine wit php 2.2.2 !!! 
</I>&gt;<i> Gotta go in the C code of 2.2.3 to clear this up :(
</I>
Good luck.. from what I've seen, parts of this extension are a bit rough. 
Mailparse, which should be stable in 4.3 (and has been moved to PECL) looks
promising.

As I've been rewriting the mailing list software for NYPHP, I wrote a fairly
robust class and set of functions for parsing emails.  It's still a little
rough and lacks some features, but has worked well in testing.  I've attached
it, and feel free to rip what you want from it, and better yet, see where it
flops and let me know :)

Best,

Hans


&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Hans Zaunere [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">hans at nyphp.org</A>] 
</I>&gt;<i> Sent: Thursday, November 21, 2002 2:17 AM
</I>&gt;<i> To: NYPHP Talk
</I>&gt;<i> Subject: Re: [nycphp-talk] IMAP function imap_rfc822_parse_headers
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> --- Jean B Flamand &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">jean at ufinity.com</A>&gt; wrote:
</I>&gt;<i> &gt; Hi all
</I>&gt;<i> &gt;  
</I>&gt;<i> &gt; imap_rfc822_parse_headers 
</I>&gt;<i> &gt; &lt;<A HREF="http://www.php.net/manual/en/function.imap-rfc822-parse-headers.php">http://www.php.net/manual/en/function.imap-rfc822-parse-headers.php</A>&gt;
</I>&gt;<i> &gt; (StringHeader) return an Object with all properties of the header.
</I>&gt;<i> &gt;  
</I>&gt;<i> &gt; My Probem : I m trying to parse a normal mail header with this 
</I>&gt;<i> &gt; function. It normally returns an object , but in my case this object 
</I>&gt;<i> &gt; is empty, i tried on several headers the problem keeps repeating ! Do 
</I>&gt;<i> &gt; you know if there s any &quot;pre&quot; parsing to do on the string or if you 
</I>&gt;<i> &gt; had any problem with this function can you tell me what happened to 
</I>&gt;<i> &gt; you
</I>&gt;<i> 
</I>&gt;<i> I haven't used this function myself, but consider a couple things:
</I>&gt;<i> 
</I>&gt;<i> -- what kind of line termination are you using?  I think these functions
</I>&gt;<i> may have had some issues with \\r\
</I> vs \
 vs \
\\r
&gt;<i> 
</I>&gt;<i> -- Try a *very* simple header, ie:
</I>&gt;<i> $test_header = &quot;From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">blah at hah.com</A>\\r\
</I>To:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">to at woo.com</A>\\r\
\\r\
&quot;;
&gt;<i> 
</I>&gt;<i> -- do other functions from this extension work?  Check that they're
</I>&gt;<i> configured properly, and it can find the c-client libs.
</I>&gt;<i> 
</I>&gt;<i> Hans
</I>&gt;<i>
</I>

=====
Hans Zaunere
New York PHP
<A HREF="../../../index.html">http://nyphp.org</A>
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">hans at nyphp.org</A>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: pmail.inc
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20021120/8b640a68/attachment.ksh">http://lists.nyphp.org/pipermail/talk/attachments/20021120/8b640a68/attachment.ksh</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001492.html">[nycphp-talk] IMAP function imap_rfc822_parse_headers
</A></li>
	<LI>Next message: <A HREF="001494.html">Problem with imap_open and win2k imail pop server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1493">[ date ]</a>
              <a href="thread.html#1493">[ thread ]</a>
              <a href="subject.html#1493">[ subject ]</a>
              <a href="author.html#1493">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

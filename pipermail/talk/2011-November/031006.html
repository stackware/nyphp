<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Strange ! and line break coming through	via	msyql/php/mail()
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2011-November/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Strange%20%21%20and%20line%20break%20coming%20through%0A%09via%09msyql/php/mail%28%29&In-Reply-To=%3C056f01cca59f%24b58c5dc0%2420a51940%24%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031003.html">
   <LINK REL="Next"  HREF="031010.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Strange ! and line break coming through	via	msyql/php/mail()</H1>
    <B>Sasa Rakic - Gmail</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Strange%20%21%20and%20line%20break%20coming%20through%0A%09via%09msyql/php/mail%28%29&In-Reply-To=%3C056f01cca59f%24b58c5dc0%2420a51940%24%40gmail.com%3E"
       TITLE="[nycphp-talk] Strange ! and line break coming through	via	msyql/php/mail()">rakics at gmail.com
       </A><BR>
    <I>Thu Nov 17 22:11:04 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="031003.html">[nycphp-talk] Strange ! and line break coming through via	msyql/php/mail()
</A></li>
        <LI>Next message: <A HREF="031010.html">[nycphp-talk] Strange ! and line break coming through via	msyql/php/mail()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31006">[ date ]</a>
              <a href="thread.html#31006">[ thread ]</a>
              <a href="subject.html#31006">[ subject ]</a>
              <a href="author.html#31006">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear Aaron,

When form get submitted I am using in html email:

            &lt;tr&gt;

              &lt;td&gt;

                &lt;strong&gt;Questions comments&lt;/strong&gt;

                &lt;hr /&gt;

                &lt;?php

                  $value = $item-&gt;getValue(&quot;questions_comments&quot;);

                  echo str_replace(&quot;\n&quot;,&quot;&lt;br /&gt;&quot;,wordwrap($value));

                ?&gt;

                &lt;p&gt;&lt;/p&gt;

              &lt;/td&gt;

            &lt;/tr&gt;   

Also you should be aware of ' sign, for example:

                             if (get_magic_quotes_gpc())

                             {

                                             $value  = stripslashes($value);

                             }

Best regards,

Sasa

 

 

From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A> [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>] On
Behalf Of Aaron Fischer
Sent: Friday, November 18, 2011 12:38 AM
To: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>
Subject: [nycphp-talk] Strange ! and line break coming through via
msyql/php/mail()

 

Greetings,

 

I have a script that gets some text out of a MySQL table and sends it in the
message body via the mail function.  Some of the emails are coming through
with an exclamation point followed by the text being moved to a new line.

 

I'm not sure where this ! and \n are coming from.  When I view the text in
mysql, it's clean, there is no ! or \n.  If I output to the browser with
nl2br(), there is no ! or &lt;br&gt;.

 

I've done some searching and haven't found any helpful info so I'm appealing
to you all.  Has anyone seen behavior like this, or have a recommendation
for what I can do to diagnose or fix the problem?

 

I have a number of rows in the table.  Some of the them come through clean
on the email, and two come through with this mystery ! and line break.  I've
had the emails go to different accounts and viewed via client or browser,
and that doesn't make a difference. 

 

Thoughts?  Suggestions?

 

Thanks,

 

-Aaron

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20111118/431e134f/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20111118/431e134f/attachment.html</A>&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20111118/431e134f/attachment-0001.html">http://lists.nyphp.org/pipermail/talk/attachments/20111118/431e134f/attachment-0001.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: contact_us.php
Type: application/octet-stream
Size: 3783 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20111118/431e134f/attachment.obj">http://lists.nyphp.org/pipermail/talk/attachments/20111118/431e134f/attachment.obj</A>&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20111118/431e134f/attachment-0002.html">http://lists.nyphp.org/pipermail/talk/attachments/20111118/431e134f/attachment-0002.html</A>&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20111118/431e134f/attachment-0003.html">http://lists.nyphp.org/pipermail/talk/attachments/20111118/431e134f/attachment-0003.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031003.html">[nycphp-talk] Strange ! and line break coming through via	msyql/php/mail()
</A></li>
	<LI>Next message: <A HREF="031010.html">[nycphp-talk] Strange ! and line break coming through via	msyql/php/mail()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31006">[ date ]</a>
              <a href="thread.html#31006">[ thread ]</a>
              <a href="subject.html#31006">[ subject ]</a>
              <a href="author.html#31006">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

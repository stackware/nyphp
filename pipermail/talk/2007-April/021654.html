<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] [OT] MySQL Queue
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-April/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20%5BOT%5D%20MySQL%20Queue&In-Reply-To=%3Cb76252690704170738o4258dde8ndc0fa6d8789f8a7c%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021653.html">
   <LINK REL="Next"  HREF="021655.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] [OT] MySQL Queue</H1>
    <B>csnyder</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20%5BOT%5D%20MySQL%20Queue&In-Reply-To=%3Cb76252690704170738o4258dde8ndc0fa6d8789f8a7c%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] [OT] MySQL Queue">chsnyder at gmail.com
       </A><BR>
    <I>Tue Apr 17 10:38:21 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="021653.html">[nycphp-talk] [OT] MySQL Queue
</A></li>
        <LI>Next message: <A HREF="021655.html">[nycphp-talk] [OT] MySQL Queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21654">[ date ]</a>
              <a href="thread.html#21654">[ thread ]</a>
              <a href="subject.html#21654">[ subject ]</a>
              <a href="author.html#21654">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 4/17/07, Ben Sgro (ProjectSkyline) &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">ben at projectskyline.com</A>&gt; wrote:

&gt;<i> 1) Every x min, select the oldest time from the queue (LIMIT 1)
</I>&gt;<i> 2) DELETE that row from the queue
</I>&gt;<i> 3) Execute the job
</I>
Simple improvement would be to mark the job as &quot;active&quot; along with the
pid of the process that is working on it, rather than deleting the
record. That way if something goes wrong, you don't have to reinsert.
Also, you can tell how many active jobs you have and decline to start
new ones past a certain threshold.

Think about what information you need for error recovery, too. After
all, you probably only want to retry a &quot;problem&quot; job a certain number
of times before giving up, notifying an admin, etc.

-- 
Chris Snyder
<A HREF="http://chxo.com/">http://chxo.com/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021653.html">[nycphp-talk] [OT] MySQL Queue
</A></li>
	<LI>Next message: <A HREF="021655.html">[nycphp-talk] [OT] MySQL Queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21654">[ date ]</a>
              <a href="thread.html#21654">[ thread ]</a>
              <a href="subject.html#21654">[ subject ]</a>
              <a href="author.html#21654">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

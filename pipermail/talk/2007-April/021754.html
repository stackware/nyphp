<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Checking active sessions
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-April/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Checking%20active%20sessions&In-Reply-To=%3C4636A0C0.1030300%40gmx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021753.html">
   <LINK REL="Next"  HREF="021755.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Checking active sessions</H1>
    <B>David Krings</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Checking%20active%20sessions&In-Reply-To=%3C4636A0C0.1030300%40gmx.net%3E"
       TITLE="[nycphp-talk] Checking active sessions">ramons at gmx.net
       </A><BR>
    <I>Mon Apr 30 22:06:56 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="021753.html">[nycphp-talk] Checking active sessions
</A></li>
        <LI>Next message: <A HREF="021755.html">[nycphp-talk] Checking active sessions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21754">[ date ]</a>
              <a href="thread.html#21754">[ thread ]</a>
              <a href="subject.html#21754">[ subject ]</a>
              <a href="author.html#21754">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Rob Marscher wrote:
&gt;<i> I believe Adrian was showing how ADODB uses a Unix command to clean up 
</I>&gt;<i> it's files and saying that you could also use a Unix command.  I'm not 
</I>&gt;<i> sure I would call it &quot;3rd party&quot; if you're always using a unix-based 
</I>&gt;<i> server.  Of course, it wouldn't be portable to Windows.
</I>Not only that, anyone using my script would need to make sure that the 
cleanup task is present. Not everyone runs their own web server at home, 
although with Apachefriend's XAMPP and DynDNS I can't think of any 
reason why not...OK, I can, but the point is that many may want to run 
this on their web space that the ISP gives them.

&gt;<i> At any rate, you can use PHP's filesystem functions to go through your 
</I>&gt;<i> directories and figure out the last time they were changed via 
</I>&gt;<i> filemtime(): <A HREF="http://us.php.net/manual/en/function.filemtime.php">http://us.php.net/manual/en/function.filemtime.php</A>
</I>All I need to know is the age of the folder with all the files in it. 
The manual doesn't explicitly state if filemtime works on directories as 
well. I then could get all directories and check for their timestamp 
rather than hitting the database a few times for this. And it will save 
me from making yet another table. I will try this out.

&gt;<i> On a side note, if you use custom session save_handlers like I mentioned 
</I>&gt;<i> before, then you can know which sessions are active.  I use custom 
</I>&gt;<i> save_handlers to store all of my sessions in a database rather than in 
</I>&gt;<i> temp files.  Then I can just query the database to find active 
</I>&gt;<i> sessions.  
</I>I first planned on writing the session id and a timestamp to a db table 
and use that, but what I need to do hasn't anything to do with the 
session per s&#233;. So, if filemtime works for dirs as well (and works on 
Windope) then I am much closer to something smarter. I then have a 
screwdriver and a hammer. ;)

Great, this discussion really helps me a lot. I went from no clue over 
complicated and bloated to something that is potentially done in half a 
dozen of lines without the need of tables and queries and such.

It's funny, half of my scripts come from NYPHP and the other half is 
just commentary. Nah, have to give myself some credit, I figured the zip 
stuff out on my own. That is quite an accomplishment for someone who 
still thinks that arrays are just wicked awesome. And it is still like 
magic that this stuff really works.

Thanks to everyone who pushed my nose in a better direction.


David

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021753.html">[nycphp-talk] Checking active sessions
</A></li>
	<LI>Next message: <A HREF="021755.html">[nycphp-talk] Checking active sessions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21754">[ date ]</a>
              <a href="thread.html#21754">[ thread ]</a>
              <a href="subject.html#21754">[ subject ]</a>
              <a href="author.html#21754">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

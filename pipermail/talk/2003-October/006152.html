<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Session Thoughts
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-October/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Session%20Thoughts&In-Reply-To=%3CE1AFcQf-0006jM-6h%40server1057.webserver33.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006151.html">
   <LINK REL="Next"  HREF="006154.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Session Thoughts</H1>
    <B>Mark Armendariz</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Session%20Thoughts&In-Reply-To=%3CE1AFcQf-0006jM-6h%40server1057.webserver33.com%3E"
       TITLE="[nycphp-talk] Session Thoughts">nyphp at enobrev.com
       </A><BR>
    <I>Fri Oct 31 11:47:16 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="006151.html">[nycphp-talk] Session Thoughts
</A></li>
        <LI>Next message: <A HREF="006154.html">[nycphp-talk] Session Thoughts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6152">[ date ]</a>
              <a href="thread.html#6152">[ thread ]</a>
              <a href="subject.html#6152">[ subject ]</a>
              <a href="author.html#6152">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Here's how I do it in my login class:

Store ONLY a user ID and any information that you query on EVERY page in the
session.  Everything else should be able to go into a users table of sorts
and be queried when needed.

Set a remember_me cookie with an md5 made up of a good combination of the
user's login, password and datetime they signed up.  The date/time ensures a
good variable result and the user / pass combination when used in your query
will be specific to the user.

In the top of your site files (an app_top or config or whatever), run some
sort of:
if (!logged_in) {
	check_for_login_cookie();
}

Whenever user updates their profile, be sure to update their session info
and cookie.

Also, make sure to provide the option of staying logged in, in case they are
on a public system, like a library or at work.

----------

I suppose if you have your own session management, you could also save the
session_id in a cookie and have it pick up where it left off, but I've never
tried it.. Just a thought.

Good luck!

Mark

-----Original Message-----
From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A> [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>] On
Behalf Of Jim Musil
Sent: Friday, October 31, 2003 11:32 AM
To: NYPHP Talk
Subject: [nycphp-talk] Session Thoughts


Hi,

I'm looking for some general guidance from those who may have gone down this
road before.

I'd like to be able to use PHP's Session functionality while a user is on my
site to save whichever preferences and other data the user chooses. Since
Sessions by definition end, I need to bring them back once the user comes
back.

It's a pretty simple structure to describe:

1. User comes to site.

2. Site checks for cookie or asks for log in. If either, then site restores
session data. If neither, then start anew.

3. User uses site to heart's content. New Prefs and data are added to
session and saved until next return.


The big question in my mind is whether this needs to be stored in a database
or can I just move the session files to storage directory?

How do I ensure that the new data and prefs is stored?

Can I just choose to not expire my session files?


Thanks for your thoughts!

Jim Musil

_______________________________________________
talk mailing list
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006151.html">[nycphp-talk] Session Thoughts
</A></li>
	<LI>Next message: <A HREF="006154.html">[nycphp-talk] Session Thoughts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6152">[ date ]</a>
              <a href="thread.html#6152">[ thread ]</a>
              <a href="subject.html#6152">[ subject ]</a>
              <a href="author.html#6152">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> FW: [nycphp-talk] mySQL: update table from another table
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-October/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20FW%3A%20%5Bnyphp-talk%5D%20mySQL%3A%20update%20table%20from%20another%20table&In-Reply-To=%3C003301c39f31%24d2a97280%24bf8d3818%40oberon1%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006147.html">
   <LINK REL="Next"  HREF="006139.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>FW: [nycphp-talk] mySQL: update table from another table</H1>
    <B>Tim Gales</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20FW%3A%20%5Bnyphp-talk%5D%20mySQL%3A%20update%20table%20from%20another%20table&In-Reply-To=%3C003301c39f31%24d2a97280%24bf8d3818%40oberon1%3E"
       TITLE="FW: [nycphp-talk] mySQL: update table from another table">tgales at tgaconnect.com
       </A><BR>
    <I>Thu Oct 30 17:04:42 EST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="006147.html">[nycphp-talk] Waiting for query redirect...
</A></li>
        <LI>Next message: <A HREF="006139.html">[nycphp-talk] know any good FAQ manager?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6138">[ date ]</a>
              <a href="thread.html#6138">[ thread ]</a>
              <a href="subject.html#6138">[ subject ]</a>
              <a href="author.html#6138">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

To: 'Brian Pang'
Subject: RE: [nycphp-talk] mySQL: update table from another
table


You wrote:
...Thanks, but this gives me an error

Brian, sorry about speaking 'Dervish' (as in whirling
dervish)in my earlier post. I am often reluctant to say
things in a definitive way E.G. &quot;It can't be done&quot; even with
an AFAIK on it.

So I tend to just quote something definitive. 

The active ingredient in my prior post was:
&gt;<i>  &quot;  * Updates and deletes that run over multiple tables is
</I>harder to
&gt;<i> do
</I>&gt;<i>      in MySQL. This will, however, be fixed in MySQL 4.0
</I>&gt;<i> with multi-table
</I>&gt;<i>      `DELETE' and multi-table `UPDATE' and in MySQL 4.1
</I>with 
&gt;<i> subselects. &quot;
</I>
When the manual says &quot;harder to do&quot; I take that to mean
(waffling again) the developer has to handle it
programatically.

I quoted the manual so that you could compare it with the
current 4.XX Manual, because the 3.22 manual is sort of 'out
of print' -- well you could find it on the web but it might
take you a  considerable amount of time. I didn't mean to
say that you could actually do it with 3.XX MySQL
statements. 

As to what you wrote earlier:
&quot;Of course, I could do a php solution, but that seems less
elegant.
conceptually:
select id,field from table2
foreach(id)
select field from table1 where table1.id = id
update table2 set table2.field = field where table2.id = id&quot;

I think what you should try is more like this:

A) Lock the table you want to update.

B) Select the records you want to update into a temporary
table.

C) Use a programatic (such as php) method to do the update
you want.

D) Delete the records in question from the locked table

E) Insert the temp records into the table.

The reason I would do it this way is that if you have a lot
of select activity on the table you could skip the locking
of the table in step A. and use a synchronization method
(like timestamps) to coordinate the deletion and insertion
steps.

As you probably are aware, the locking scheme in 3.2X is
table based. All selects will wait on pending updates (as
they should). But the effect of this is to make the database
seem real slow to some users when there are bursts of
activity.

Sorry -- I should have been more clear.

T. Gales &amp; Associates
Helping People Connect with Technology
<A HREF="http://www.tgaconnect.com">http://www.tgaconnect.com</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006147.html">[nycphp-talk] Waiting for query redirect...
</A></li>
	<LI>Next message: <A HREF="006139.html">[nycphp-talk] know any good FAQ manager?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6138">[ date ]</a>
              <a href="thread.html#6138">[ thread ]</a>
              <a href="subject.html#6138">[ subject ]</a>
              <a href="author.html#6138">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

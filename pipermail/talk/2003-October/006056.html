<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] send header before end of script?
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-October/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20send%20header%20before%20end%20of%20script%3F&In-Reply-To=%3C20031024230741.26753.qmail%40web14309.mail.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006052.html">
   <LINK REL="Next"  HREF="006059.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] send header before end of script?</H1>
    <B>Chris Shiflett</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20send%20header%20before%20end%20of%20script%3F&In-Reply-To=%3C20031024230741.26753.qmail%40web14309.mail.yahoo.com%3E"
       TITLE="[nycphp-talk] send header before end of script?">shiflett at php.net
       </A><BR>
    <I>Fri Oct 24 19:07:41 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="006052.html">[nycphp-talk] send header before end of script?
</A></li>
        <LI>Next message: <A HREF="006059.html">[nycphp-talk] chunked xfer (was Re: send header before end...)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6056">[ date ]</a>
              <a href="thread.html#6056">[ thread ]</a>
              <a href="subject.html#6056">[ subject ]</a>
              <a href="author.html#6056">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--- David Mintz &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">dmintz at panix.com</A>&gt; wrote:
&gt;<i> I did buy Shiflett's book (wow, can't wait for the movie to come
</I>&gt;<i> out!) and it seems you can do cool tricks at the protocol level
</I>&gt;<i> with the &quot;Transfer-Encoding: chunked&quot; header, spitting out chunks
</I>&gt;<i> as you go along (although I've yet to try it), but I wonder how one
</I>&gt;<i> does it in &quot;pure&quot; PHP with the buffering functions.
</I>
I hope you enjoy the book. :-)

There is an example on page 173 that shows how to perform chunked transfers
with PHP, and you can try it out from this page (it's flush.phps):

<A HREF="http://shiflett.org/books/http-developers-handbook/code">http://shiflett.org/books/http-developers-handbook/code</A>

The flush() function is a tough one to debug when it doesn't work. Basically,
anything that buffers output can potentially cause problems. This includes the
Web server and the browser (IE, notably) in addition to things like ob_start().

If you try my example from my Web site, and it doesn't work, it's definitely
your browser that is doing the buffering. There are some tricks to get around
this with IE, such as sending at least 256 bytes of whitespace before any other
output. My example doesn't include this trick.

If the example on my Web site does work, then your browser definitely handles
the chunked transfer correctly. If you use output buffering within PHP, you'll
have to flush that and then also flush() to send a new chunk.

Hope that helps.

Chris

=====
My Blog
     <A HREF="http://shiflett.org/">http://shiflett.org/</A>
HTTP Developer's Handbook
     <A HREF="http://httphandbook.org/">http://httphandbook.org/</A>
RAMP Training Courses
     <A HREF="http://www.nyphp.org/ramp">http://www.nyphp.org/ramp</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006052.html">[nycphp-talk] send header before end of script?
</A></li>
	<LI>Next message: <A HREF="006059.html">[nycphp-talk] chunked xfer (was Re: send header before end...)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6056">[ date ]</a>
              <a href="thread.html#6056">[ thread ]</a>
              <a href="subject.html#6056">[ subject ]</a>
              <a href="author.html#6056">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

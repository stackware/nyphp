<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Q: How can I get all of the articles under a certain	category?
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-March/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Q%3A%20How%20can%20I%20get%20all%20of%20the%20articles%20under%20a%20certain%0A%09category%3F&In-Reply-To=%3C423211CF.20508%40phpwerx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013944.html">
   <LINK REL="Next"  HREF="013937.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Q: How can I get all of the articles under a certain	category?</H1>
    <B>Dan Cech</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Q%3A%20How%20can%20I%20get%20all%20of%20the%20articles%20under%20a%20certain%0A%09category%3F&In-Reply-To=%3C423211CF.20508%40phpwerx.net%3E"
       TITLE="[nycphp-talk] Q: How can I get all of the articles under a certain	category?">dcech at phpwerx.net
       </A><BR>
    <I>Fri Mar 11 16:46:55 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="013944.html">[nycphp-talk] questions --
</A></li>
        <LI>Next message: <A HREF="013937.html">[nycphp-talk] Q: How can I get all of the articles under a cer	tain category?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13936">[ date ]</a>
              <a href="thread.html#13936">[ thread ]</a>
              <a href="subject.html#13936">[ subject ]</a>
              <a href="author.html#13936">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>John,

On a side note, if you are forced to build the recursive system it can 
actually be more efficient to retrieve the entire hierarchy tree with 
one SQL call and build it up in memory that to execute a query for each 
category.

Dan

John Nunez wrote:
&gt;<i> Hi Guys,
</I>&gt;<i> 
</I>&gt;<i> How can I get all of the articles under a certain category?
</I>&gt;<i> 
</I>&gt;<i> I have a table with the following structure:
</I>&gt;<i> 
</I>&gt;<i> Categories
</I>&gt;<i> ID - int
</I>&gt;<i> CategoryName - varchar(128)
</I>&gt;<i> ParentID - int [Foreign Key to Categories-&gt;ID]
</I>&gt;<i> 
</I>&gt;<i> Articles
</I>&gt;<i> ID - int
</I>&gt;<i> Category_ID - int [Foreign Key to Categories-&gt;ID]
</I>&gt;<i> Article_Name - varchar(128)
</I>&gt;<i> 
</I>&gt;<i> Sample Category Tree
</I>&gt;<i> --------------------
</I>&gt;<i> Food[1]
</I>&gt;<i> --Natural[2]
</I>&gt;<i> ----Fruits[3]
</I>&gt;<i> ------Apples[4]
</I>&gt;<i> ------Pears[5]
</I>&gt;<i> ------Oranges[6]
</I>&gt;<i> 
</I>&gt;<i> Now the client wants to be able to click on &quot;Natural&quot; and if there are 
</I>&gt;<i> no articles listed directly under it get all the articles for &quot;Fruits&quot;, 
</I>&gt;<i> &quot;Apples&quot;, &quot;Pears&quot;, &quot;Oranges&quot;.
</I>&gt;<i> 
</I>&gt;<i> The only solution I have is to write a recursive function that will 
</I>&gt;<i> retrieve each CategoryID that has the ParentID of the argument passed. 
</I>&gt;<i> Once I have this array of CategoryIDs can then run a query on the 
</I>&gt;<i> Articles table.  As this tree grows it can amount to tons of MySQL 
</I>&gt;<i> Queries for each click that might be skipped anyway. Is there anyway to 
</I>&gt;<i> do this with one or two calls in MySQL?
</I>&gt;<i> 
</I>&gt;<i> I have argued against this but &quot;the powers that be&quot; told me it's a must 
</I>&gt;<i> have feature.
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> John
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013944.html">[nycphp-talk] questions --
</A></li>
	<LI>Next message: <A HREF="013937.html">[nycphp-talk] Q: How can I get all of the articles under a cer	tain category?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13936">[ date ]</a>
              <a href="thread.html#13936">[ thread ]</a>
              <a href="subject.html#13936">[ subject ]</a>
              <a href="author.html#13936">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

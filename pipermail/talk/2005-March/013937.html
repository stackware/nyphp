<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Q: How can I get all of the articles under a cer	tain category?
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-March/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Q%3A%20How%20can%20I%20get%20all%20of%20the%20articles%20under%20a%20cer%0A%09tain%20category%3F&In-Reply-To=%3CBCF799A6B63DD411985D00805F9F9033011FF24A%40mail.alexcommgrp.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013936.html">
   <LINK REL="Next"  HREF="013946.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Q: How can I get all of the articles under a cer	tain category?</H1>
    <B>DeWitt, Michael</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Q%3A%20How%20can%20I%20get%20all%20of%20the%20articles%20under%20a%20cer%0A%09tain%20category%3F&In-Reply-To=%3CBCF799A6B63DD411985D00805F9F9033011FF24A%40mail.alexcommgrp.com%3E"
       TITLE="[nycphp-talk] Q: How can I get all of the articles under a cer	tain category?">mjdewitt at alexcommgrp.com
       </A><BR>
    <I>Fri Mar 11 16:54:20 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="013936.html">[nycphp-talk] Q: How can I get all of the articles under a certain	category?
</A></li>
        <LI>Next message: <A HREF="013946.html">[nycphp-talk] PHP on Win.: Get Drive Letter for Current Script
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13937">[ date ]</a>
              <a href="thread.html#13937">[ thread ]</a>
              <a href="subject.html#13937">[ subject ]</a>
              <a href="author.html#13937">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>How about getting counts of articles for the parent and then you can walk
the counts checking to see if articles exist?

step 1
		get parent id of category needed (select from categories)

step 2 
		get counts for all categories under parent id ( join
articles to categories ) 

step 3
		if you have article(s) under the category id fetch them
		else show tree of categories within parent that do have
counts

This method should allow you to walk up and down the parent/category tree. I
know you mentioned walng down from the parent to category, but what if they
said &quot;apples&quot; and you have no article, what will you offer instead?


Mike

&gt;<i> -----Original Message-----
</I>&gt;<i> From:	Dan Cech [SMTP:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">dcech at phpwerx.net</A>]
</I>&gt;<i> Sent:	Friday, March 11, 2005 4:43 PM
</I>&gt;<i> To:	NYPHP Talk
</I>&gt;<i> Subject:	Re: [nycphp-talk] Q: How can I get all of the articles under
</I>&gt;<i> a certain category?
</I>&gt;<i> 
</I>&gt;<i> John,
</I>&gt;<i> 
</I>&gt;<i> Unfortunately there is no easy way that I know of to do this with the 
</I>&gt;<i> structure you are using, because it's not a 'true' hierarchy.
</I>&gt;<i> 
</I>&gt;<i> My favorite solution is a modified version of Joe Celko's Nested Sets.
</I>&gt;<i> 
</I>&gt;<i> Basically there is no elegant way to do it without changing your 
</I>&gt;<i> database structure.
</I>&gt;<i> 
</I>&gt;<i> Dan
</I>&gt;<i> 
</I>&gt;<i> John Nunez wrote:
</I>&gt;<i> &gt; Hi Guys,
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; How can I get all of the articles under a certain category?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I have a table with the following structure:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Categories
</I>&gt;<i> &gt; ID - int
</I>&gt;<i> &gt; CategoryName - varchar(128)
</I>&gt;<i> &gt; ParentID - int [Foreign Key to Categories-&gt;ID]
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Articles
</I>&gt;<i> &gt; ID - int
</I>&gt;<i> &gt; Category_ID - int [Foreign Key to Categories-&gt;ID]
</I>&gt;<i> &gt; Article_Name - varchar(128)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Sample Category Tree
</I>&gt;<i> &gt; --------------------
</I>&gt;<i> &gt; Food[1]
</I>&gt;<i> &gt; --Natural[2]
</I>&gt;<i> &gt; ----Fruits[3]
</I>&gt;<i> &gt; ------Apples[4]
</I>&gt;<i> &gt; ------Pears[5]
</I>&gt;<i> &gt; ------Oranges[6]
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Now the client wants to be able to click on &quot;Natural&quot; and if there are 
</I>&gt;<i> &gt; no articles listed directly under it get all the articles for &quot;Fruits&quot;, 
</I>&gt;<i> &gt; &quot;Apples&quot;, &quot;Pears&quot;, &quot;Oranges&quot;.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; The only solution I have is to write a recursive function that will 
</I>&gt;<i> &gt; retrieve each CategoryID that has the ParentID of the argument passed. 
</I>&gt;<i> &gt; Once I have this array of CategoryIDs can then run a query on the 
</I>&gt;<i> &gt; Articles table.  As this tree grows it can amount to tons of MySQL 
</I>&gt;<i> &gt; Queries for each click that might be skipped anyway. Is there anyway to 
</I>&gt;<i> &gt; do this with one or two calls in MySQL?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I have argued against this but &quot;the powers that be&quot; told me it's a must 
</I>&gt;<i> &gt; have feature.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Thanks,
</I>&gt;<i> &gt; John
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; New York PHP Talk Mailing List
</I>&gt;<i> &gt; AMP Technology
</I>&gt;<i> &gt; Supporting Apache, MySQL and PHP
</I>&gt;<i> &gt; <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> &gt; <A HREF="http://www.nyphp.org">http://www.nyphp.org</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Talk Mailing List
</I>&gt;<i> AMP Technology
</I>&gt;<i> Supporting Apache, MySQL and PHP
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> <A HREF="http://www.nyphp.org">http://www.nyphp.org</A>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013936.html">[nycphp-talk] Q: How can I get all of the articles under a certain	category?
</A></li>
	<LI>Next message: <A HREF="013946.html">[nycphp-talk] PHP on Win.: Get Drive Letter for Current Script
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13937">[ date ]</a>
              <a href="thread.html#13937">[ thread ]</a>
              <a href="subject.html#13937">[ subject ]</a>
              <a href="author.html#13937">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

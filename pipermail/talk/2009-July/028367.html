<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] JSON and MVC
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20JSON%20and%20MVC&In-Reply-To=%3C200907161012.50901.arzala%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028366.html">
   <LINK REL="Next"  HREF="028387.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] JSON and MVC</H1>
    <B>Anirudhsinh Zala</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20JSON%20and%20MVC&In-Reply-To=%3C200907161012.50901.arzala%40gmail.com%3E"
       TITLE="[nycphp-talk] JSON and MVC">arzala at gmail.com
       </A><BR>
    <I>Thu Jul 16 00:42:50 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="028366.html">[nycphp-talk] JSON and MVC
</A></li>
        <LI>Next message: <A HREF="028387.html">[nycphp-talk] JSON and MVC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28367">[ date ]</a>
              <a href="thread.html#28367">[ thread ]</a>
              <a href="subject.html#28367">[ subject ]</a>
              <a href="author.html#28367">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wednesday 15 Jul 2009 8:01:14 pm Hans Zaunere wrote:
&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> As I work with and need to support JSON applications more and more, I
</I>&gt;<i> quickly remember why the mantra &quot;don't use javascript&quot; from yesteryear was
</I>&gt;<i> in place.  Worse, perhaps, is how the browser and server need to interface
</I>&gt;<i> with each other in complex JSON based applications.
</I>&gt;<i>
</I>&gt;<i> We're all familiar with the typical MVC pattern, and the use of templates
</I>&gt;<i> to organize and manipulate fragments of HTML/etc.  This is a very well
</I>&gt;<i> solved problem that's been established for years.
</I>&gt;<i>
</I>&gt;<i> Web 2.0, if you will, is &quot;fragment&quot; requests/responses.  I think of this as
</I>&gt;<i> the basic Ajax type of website, whereby the server is now sending back
</I>&gt;<i> these fragments of HTML rather than assembling them into complete documents
</I>&gt;<i> and sending that back.  The Javascript on the browser actually assembles
</I>&gt;<i> and moves things around as needed on the client side.
</I>&gt;<i>
</I>&gt;<i> Web 3.0 (insert kitsch marketing term here), I've found as being the
</I>&gt;<i> complete manipulation, in real time, of nearly the entire document.  Vast
</I>&gt;<i> chunks of the document are living and breathing, and being effected by
</I>&gt;<i> events, timers, user interaction, server polling, etc.
</I>&gt;<i>
</I>&gt;<i> In order to the support this, a high degree of granularity for dealing with
</I>&gt;<i> HTML tags and IDs is needed.  Using fragments as we did in Web 2.0 doesn't
</I>&gt;<i> provide this level of granularity so pure JSON is required.  What this
</I>&gt;<i> means (to me) basically is that tag content itself or even elemental HTML
</I>&gt;<i> fragments (very small chunks, like single p, h1, img, etc) need to be
</I>&gt;<i> manipulated both on the server and browser side.
</I>&gt;<i>
</I>&gt;<i> The problem with this, however, is that it causes the server-side to
</I>&gt;<i> retrace to the ugly days of mixing and mashing PHP/HTML/etc.  For example,
</I>&gt;<i> to push out a set of IDs to the client, I no longer use a template to spit
</I>&gt;<i> back a fragment.  Rather, I put tags and data into an array directly, and
</I>&gt;<i> then json_encode() that, and send that back to the client.
</I>&gt;<i>
</I>&gt;<i> For example, a dynamic forum type of thing:
</I>&gt;<i>
</I>&gt;<i> $JSON['ID'][&quot;mi_$GID&quot;] = &quot;&lt;img src=\&quot;{$Page-&gt;ImagesURL}lr/icon_phone.png\&quot;
</I>&gt;<i> /&gt;&quot;;
</I>&gt;<i>
</I>&gt;<i> $JSON['ID'][&quot;bl_$GID&quot;] = &quot;{$M-&gt;BylineDate} | &lt;b&gt;{$M-&gt;FirstName}
</I>&gt;<i> {$M-&gt;LastName}&lt;/b&gt;&quot;;
</I>&gt;<i>
</I>&gt;<i> $JSON['ID'][&quot;rcb_$GID&quot;] = $M-&gt;ReplyCount;
</I>&gt;<i>
</I>&gt;<i> $JSON['ID'][&quot;hc_$GID&quot;] = $M-&gt;Title;
</I>&gt;<i>
</I>&gt;<i> echo json_encode($JSON['ID']);
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The Javascript then takes each element from the array and manipulates the
</I>&gt;<i> DOM as appropriate.  Why not just stuff things in innerHTML you may ask?
</I>&gt;<i> Because that's not granular enough, and should the user be interactive with
</I>&gt;<i> that particular element, the user has just lost his current state.
</I>&gt;<i>
</I>&gt;<i> So hopefully others have run into these types of issues and I'm curious as
</I>&gt;<i> to how others deal with it.  Thoughts, experiences, etc?  I've thought
</I>&gt;<i> about how to use some type of elemental templating, but there doesn't
</I>&gt;<i> appear to be anything that's a fit for this type of thing.  And no easy way
</I>&gt;<i> I can think of for building something to handle this.
</I>&gt;<i>
</I>&gt;<i> Or, perhaps I'm completely missing some elementary concept that makes all
</I>&gt;<i> this moot...?
</I>
There are 2 possible solutions, if I have understood your problem correctly.

1st: If presentation logic and data both would be sent in certain format say 
JSON, then why not just to send whole rendered document in HTML to client and 
let DOM just display it. Why DOM has to bother about parsing those data and 
presentation logic 1st into JS and then displaying into browser?

You may ask that purposes are to minimize server parsing, save bandwidth or 
faster transmission. They are correct but then if data is of small amount then 
you can just send complete rendered HTML to client to just display it using 
Ajax as said above

2nd: But if there are large amount of data and/or JSON is must to use then 
XSLT type of technology is needed preloaded at client side where DOM would 
read that rendering information from there and read data from JSON and then 
display it in browser.

In short those XSLT/JSLT would be called as JS templates as said by Chris.

Thanks

Anirudh Zala

&gt;<i>
</I>&gt;<i> Looking forward to everyone's thoughts.
</I>&gt;<i>
</I>&gt;<i> H
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP User Group Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028366.html">[nycphp-talk] JSON and MVC
</A></li>
	<LI>Next message: <A HREF="028387.html">[nycphp-talk] JSON and MVC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28367">[ date ]</a>
              <a href="thread.html#28367">[ thread ]</a>
              <a href="subject.html#28367">[ subject ]</a>
              <a href="author.html#28367">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Injection Attack, any ideas?
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-November/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Injection%20Attack%2C%20any%20ideas%3F&In-Reply-To=%3Cp06240802c367b2882796%40%5B192.168.1.105%5D%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023938.html">
   <LINK REL="Next"  HREF="023833.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Injection Attack, any ideas?</H1>
    <B>tedd</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Injection%20Attack%2C%20any%20ideas%3F&In-Reply-To=%3Cp06240802c367b2882796%40%5B192.168.1.105%5D%3E"
       TITLE="[nycphp-talk] Injection Attack, any ideas?">tedd at sperling.com
       </A><BR>
    <I>Mon Nov 19 16:51:14 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023938.html">[nycphp-talk] Injection Attack, any ideas?
</A></li>
        <LI>Next message: <A HREF="023833.html">[nycphp-talk] Injection Attack, any ideas?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23954">[ date ]</a>
              <a href="thread.html#23954">[ thread ]</a>
              <a href="subject.html#23954">[ subject ]</a>
              <a href="author.html#23954">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At 1:25 PM -0500 11/12/07, Dan Cech wrote:
&gt;<i>tedd wrote:
</I>&gt;<i>  &gt; Scrub and clean all user input.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  My understanding -- nothing can get in unless you allow it (barring
</I>&gt;&gt;<i>  server breaches).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  Here's an example of js injection:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  <A HREF="http://webbytedd.com/bb/insecure-form/">http://webbytedd.com/bb/insecure-form/</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  SQL injection (as I understand it) is simply allowing the user to
</I>&gt;&gt;<i>  prepare (in part) the SQL query. Scrub and clean user input and prepare
</I>&gt;&gt;<i>  the query yourself as per what you will allow.
</I>&gt;<i>
</I>&gt;<i>With all due respect, this is bad advice.  The decision to allow or
</I>&gt;<i>disallow certain content is a business/application decision, not a
</I>&gt;<i>security decision.
</I>
Above I said &quot;Scrub and clean all user input&quot; &lt;-- that's not a 
business/application decision but rather one of security.

I don't care what the client says with regard to his business needs, 
I will not knowingly introduce any security breaches. Instead, I will 
try to produce what the client wants rather than what he says he 
wants -- surely he doesn't want a security breach.

&gt;<i>If you display content properly *as content* then it does not matter
</I>&gt;<i>what it is.  The security problem here is NOT the data, it is the fact
</I>&gt;<i>that the data is being displayed *as code*, in this case html code.
</I>
Negative. It's not &quot;displaying the content&quot; that's at issue but 
rather allowing foreign code to be injected into a MySQL query. You 
simply clean all user input. You never trust the user to do what's 
right with regard to any aspect of security. You control it all or 
you have no control.

&gt;<i>The fact that your example demonstrates the proper approach (using html
</I>&gt;<i>escaping to display the user data) rather than 'scrubbing and cleaning'
</I>&gt;<i>the input makes this advice even more confusing.
</I>
Well, I guess that we are both confusing, because I don't get what you said.

I am simply, but apparently not effectively, saying that you never 
trust outside data regardless. You never allow the user to have 
access to any portion of your code for injection -- period.

My example shows that a user could inject a piece of code and produce 
something that was not in my code. But, perhaps my demo is less than 
optimal in showing that -- sorry.

Cheers,

tedd


-- 
-------
<A HREF="http://sperling.com">http://sperling.com</A>  <A HREF="http://ancientstones.com">http://ancientstones.com</A>  <A HREF="http://earthstones.com">http://earthstones.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023938.html">[nycphp-talk] Injection Attack, any ideas?
</A></li>
	<LI>Next message: <A HREF="023833.html">[nycphp-talk] Injection Attack, any ideas?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23954">[ date ]</a>
              <a href="thread.html#23954">[ thread ]</a>
              <a href="subject.html#23954">[ subject ]</a>
              <a href="author.html#23954">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Injection Attack, any ideas?
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-November/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Injection%20Attack%2C%20any%20ideas%3F&In-Reply-To=%3C4731A867.5030308%40gmx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023954.html">
   <LINK REL="Next"  HREF="023835.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Injection Attack, any ideas?</H1>
    <B>David Krings</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Injection%20Attack%2C%20any%20ideas%3F&In-Reply-To=%3C4731A867.5030308%40gmx.net%3E"
       TITLE="[nycphp-talk] Injection Attack, any ideas?">ramons at gmx.net
       </A><BR>
    <I>Wed Nov  7 06:58:31 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023954.html">[nycphp-talk] Injection Attack, any ideas?
</A></li>
        <LI>Next message: <A HREF="023835.html">[nycphp-talk] Injection Attack, any ideas?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23833">[ date ]</a>
              <a href="thread.html#23833">[ thread ]</a>
              <a href="subject.html#23833">[ subject ]</a>
              <a href="author.html#23833">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mikesz at qualityadvantages.com</A> wrote:

&gt;<i> The question is, actually multiple related questions:
</I>&gt;<i> 
</I>&gt;<i> First how did that bad guy &quot;execute&quot; the query without hitting the
</I>&gt;<i> submit button or entering the captcha code and how did it bypass the
</I>&gt;<i> check function. It seems like the query was sent directly to the
</I>&gt;<i> database though the registration.php program but I have no clue how
</I>&gt;<i> that could have happened. I need to plug this hole but don't have any
</I>&gt;<i> idea where to start looking for it.
</I>
First, and easiest thing I'd do is rename registration.php. I assume it took 
about 3 1/2 guesses to find that out. Does the form include the action to be 
registration.php? If yes, you may want to pipe everything through a dummy 
file....or not so dummy file. You could check the input from the text field 
and see if there is
- a semicolon (separates SQL commands)
- if there are any of the common SQL key words used (SELECT, INSERT, UPDATE, 
DROP, DELETE) and based on that reject the entry
- use the prepapre statement or equal mechanism as discussed on this list in 
the past days
- write the input to text file outside of the file system accessible through 
the server, maybe even encrypt it, and use some naming scheme that contains a 
time string, session ID, or such
- have your renamed registration script read only from that file from the 
local system and ignore anything that comes in via POST, GET (should not use 
that in this case anyway), or SESSION
- before you start writing to the db, do the content checks again

The only disadvantage that I see is that one isn't allowed to be called 
me';DROP TABLE 'Users'; or sth like that.

&gt;<i> I have tried running the query like registration.php?query but that
</I>&gt;<i> didn't work.
</I>
That is good.

&gt;<i> 
</I>&gt;<i> Any ideas about how I can reproduce this problem would greatly
</I>&gt;<i> appreciate and any suggestions about how to fix it would be even more
</I>&gt;<i> greatly appreciated.            8-)
</I>&gt;<i> 
</I>&gt;<i> Thanks for your attention.
</I>
I am sure there are other, better solutions to this. I think my approach would 
make it at least more difficult.


David

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023954.html">[nycphp-talk] Injection Attack, any ideas?
</A></li>
	<LI>Next message: <A HREF="023835.html">[nycphp-talk] Injection Attack, any ideas?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23833">[ date ]</a>
              <a href="thread.html#23833">[ thread ]</a>
              <a href="subject.html#23833">[ subject ]</a>
              <a href="author.html#23833">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

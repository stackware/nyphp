<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Include vs Include_once
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-November/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Include%20vs%20Include_once&In-Reply-To=%3CBBCF2D63-7C5C-4C3C-A79F-E5E6D196446D%40beaffinitive.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024054.html">
   <LINK REL="Next"  HREF="024072.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Include vs Include_once</H1>
    <B>Rob Marscher</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Include%20vs%20Include_once&In-Reply-To=%3CBBCF2D63-7C5C-4C3C-A79F-E5E6D196446D%40beaffinitive.com%3E"
       TITLE="[nycphp-talk] Include vs Include_once">rmarscher at beaffinitive.com
       </A><BR>
    <I>Fri Nov 30 02:04:30 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024054.html">[nycphp-talk] Include vs Include_once
</A></li>
        <LI>Next message: <A HREF="024072.html">[nycphp-talk] Include vs Include_once
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24057">[ date ]</a>
              <a href="thread.html#24057">[ thread ]</a>
              <a href="subject.html#24057">[ subject ]</a>
              <a href="author.html#24057">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Nov 30, 2007, at 12:13 AM, John Campbell wrote:
&gt;&gt;<i> include_once is a real performance drag.  You should use better  
</I>&gt;&gt;<i> program
</I>&gt;&gt;<i> logic to make it possible to use a regular include call.
</I>&gt;<i>
</I>&gt;<i> That is news to me.  Why is include_once a performance drag?
</I>
This is a pretty controversial topic.

The theory about include_once being a performance drag is because it  
has to do file system checks to get the real path of the file to make  
sure it hasn't already included it.  There were major issues with this  
in early versions of PHP5, but has since been resolved.

&gt;<i> What is the better programming logic, that doesn't just duplicate  
</I>&gt;<i> the behavior?
</I>
I find it difficult to not use include_once/require_once in a large  
application.  You can use __autoload or something like this:

if (!class_exists('SomeClass') {
	require 'SomeClass.php';
}
or
if (!function_exists('SomeFunction') {
	require 'SomeLibrary.php';
}

That requires some good naming conventions and file system mapping to  
create efficiently.  Otherwise you end up with some crazy switch  
statement.

In addition to that, it puts conditional logic around the includes.   
 From what I understand, opcode caches like APC scan the code for  
includes to cache, but won't use the cache very well if the include is  
inside any kind of conditional logic.  Therefore, I've stuck with my  
include_once/require_once statements which are almost all outside of  
any conditional logic.

But this whole thing has been hazy to me and I have a feeling the php  
internal developers might have conflicting feelings on it.

I just did a little web searching and found this guys blog.  Pretty  
cool stuff... he obviously knows what's going on here.  I recommend  
reading all the posts from bottom to top.  Almost half of them apply  
to this include problem.  He wrote a tool that analyzes your code to  
determine how the Zend engine and APC are handling your includes.   
It's called Inclued:
<A HREF="http://t3.dotgnu.info/blog/php/">http://t3.dotgnu.info/blog/php/</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024054.html">[nycphp-talk] Include vs Include_once
</A></li>
	<LI>Next message: <A HREF="024072.html">[nycphp-talk] Include vs Include_once
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24057">[ date ]</a>
              <a href="thread.html#24057">[ thread ]</a>
              <a href="subject.html#24057">[ subject ]</a>
              <a href="author.html#24057">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

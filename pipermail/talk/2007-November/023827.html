<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Injection Attack, any ideas?
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-November/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Injection%20Attack%2C%20any%20ideas%3F&In-Reply-To=%3C1283636582.20071107123117%40qualityadvantages.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023826.html">
   <LINK REL="Next"  HREF="023828.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Injection Attack, any ideas?</H1>
    <B>mikesz at qualityadvantages.com</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Injection%20Attack%2C%20any%20ideas%3F&In-Reply-To=%3C1283636582.20071107123117%40qualityadvantages.com%3E"
       TITLE="[nycphp-talk] Injection Attack, any ideas?">mikesz at qualityadvantages.com
       </A><BR>
    <I>Tue Nov  6 23:31:17 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023826.html">[nycphp-talk] mysqli exception problem
</A></li>
        <LI>Next message: <A HREF="023828.html">[nycphp-talk] Injection Attack, any ideas?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23827">[ date ]</a>
              <a href="thread.html#23827">[ thread ]</a>
              <a href="subject.html#23827">[ subject ]</a>
              <a href="author.html#23827">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello All,

I have a client site that has a registration form with a captcha image
that is suppose to prevent spammers from dumping their junk. The form
has two text input windows and a fair amount of personal information
is collected as well.

I just noticed that this client has been getting regular injection
attacks that have been failing because it is a comment spammer and the
INSERT query is failing on a duplicate key error. For privacy and
security reasons I can not post the error message but it cites the php
file name and the injection looks like it is being added to one of the
text boxes.

The form has &quot;Required&quot; fields as well as a check function that is
suppose to check for valid input. All of those fields are empty in the
query that failed.

The question is, actually multiple related questions:

First how did that bad guy &quot;execute&quot; the query without hitting the
submit button or entering the captcha code and how did it bypass the
check function. It seems like the query was sent directly to the
database though the registration.php program but I have no clue how
that could have happened. I need to plug this hole but don't have any
idea where to start looking for it.

I have tried running the query like registration.php?query but that
didn't work.

Any ideas about how I can reproduce this problem would greatly
appreciate and any suggestions about how to fix it would be even more
greatly appreciated.            8-)

Thanks for your attention.
  

-- 
Best regards,
 mikesz                          mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mikesz at qualityadvantages.com</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023826.html">[nycphp-talk] mysqli exception problem
</A></li>
	<LI>Next message: <A HREF="023828.html">[nycphp-talk] Injection Attack, any ideas?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23827">[ date ]</a>
              <a href="thread.html#23827">[ thread ]</a>
              <a href="subject.html#23827">[ subject ]</a>
              <a href="author.html#23827">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Passing info entered into HTML FORMS	into	SESSIONvariables.
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-November/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Passing%20info%20entered%20into%20HTML%20FORMS%0A%09into%09SESSIONvariables.&In-Reply-To=%3C474E0FC8.5060804%40gmx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024050.html">
   <LINK REL="Next"  HREF="023945.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Passing info entered into HTML FORMS	into	SESSIONvariables.</H1>
    <B>David Krings</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Passing%20info%20entered%20into%20HTML%20FORMS%0A%09into%09SESSIONvariables.&In-Reply-To=%3C474E0FC8.5060804%40gmx.net%3E"
       TITLE="[nycphp-talk] Passing info entered into HTML FORMS	into	SESSIONvariables.">ramons at gmx.net
       </A><BR>
    <I>Wed Nov 28 20:03:04 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024050.html">[nycphp-talk] Passing info entered into HTML FORMS	intoSESSIONvariables.
</A></li>
        <LI>Next message: <A HREF="023945.html">[nycphp-talk] Why is pass-by-reference deprecated?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24037">[ date ]</a>
              <a href="thread.html#24037">[ thread ]</a>
              <a href="subject.html#24037">[ subject ]</a>
              <a href="author.html#24037">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>PaulCheung wrote:
&gt;<i> I am have a real problem with HTML FORMS and I cannot see where I am 
</I>&gt;<i> going wrong. I make a MySQL call and bring back the required data and 
</I>&gt;<i> &lt;?PHP
</I>&gt;<i>        echo(&quot;&lt;tr&gt;&lt;td align='right' colspan=2&gt;$prv&quot;);
</I>&gt;<i> if ($cps == $nr0)
</I>&gt;<i> { echo &quot;  |  &lt;font color='CCCCCC'&gt; Next - 135&lt;/font&gt;&quot;; }
</I>&gt;<i> else
</I>&gt;<i> { if ($nr0 &gt; 1)
</I>&gt;<i>  { echo(&quot;  |  &lt;a 
</I>&gt;<i> href='help_tp_update.php?cps=$cps&amp;lps=$lps'&gt;&lt;BUTTON&gt;Next 
</I>&gt;<i> 138&lt;/BUTTON&gt;&lt;/a&gt;&quot;); }
</I>&gt;<i> }
</I>&gt;<i>       echo(&quot; - &lt;B&gt;(Record $x of $y)&lt;/B&gt;&quot;);
</I>&gt;<i>        $_SESSION['testno'] = $h;
</I>&gt;<i>        $actualdata         = $_POST['actualdata'];
</I>&gt;<i>        $actualresult       = $_POST['actualresult'];
</I>&gt;<i>        $testnote           = $_POST['testnote'];
</I>&gt;<i>        $_SESSION['actualdata']   = $actualdata;
</I>&gt;<i>        $_SESSION['actualresult'] = $actualresult;
</I>&gt;<i>        $_SESSION['testnote']     = $testnote;
</I>&gt;<i>        if ($v != null)
</I>&gt;<i>        { echo(&quot;&lt;BR&gt;&lt;B&gt;PREVIOUS TESTNOTE: &lt;/B&gt;&quot; . $v . &quot;&lt;BR&gt;&quot;);}
</I>&gt;<i> ?&gt;
</I>

I assume the above is the script that receives the data via $_SESSION, 
correct? Is that all in one file or is that PHP code quoted above in a new 
file? I recommend splitting things either into separate files or into 
individual functions that get called from a switch statement. If you do the 
latter get an IDE with code folding so that you can get a handle on the 
mammouth file. The reason for this is either separating logic from the display 
portion or creating functional blocks that can be easily tested.
My guess is that you cannot access $_SESSION because you did not pick up the 
session with session_start() the second time around. Any time you have a 
script that wants to get something from or write something to $_SESSION you 
need to start or continue a session. You do not need to specify the session ID 
upon restart, PHP figures that out for you.
I recommend replacing your db update script with this cheesy test code:

&lt;?php
session_start();
echo &quot;&lt;pre&gt;&quot;.$_SESSION.&quot;&lt;/pre&gt;&quot;;
?&gt;

That prints out the contents of $_SESSION. If there is nothing or not the 
expected in there then setting the values in $_SESSION failed.

Also,
&gt;<i> &lt;/TABLE&gt;
</I>&gt;<i> &lt;TABLE BOARDER=&quot;0&quot;&gt;
</I>has an &quot;A&quot; to many in &quot;BOARDER&quot;, but that shouldn't be the cause for the 
failure with the session.

Further, I do not see any of the variables getting initialized. I also cannot 
see what the content of $v is supposed to be. I recommend that you use 
descriptive variable names and add commentary to your source code. There is 
nothing commented and that is one reason why you probably have a tough time 
with finding the problem. Lastly, one nice way to track values is making use 
of a debugger. I even spent money on an IDE with a decent debugger 
implementation although I am a cheap bastard when it comes to software.


David

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024050.html">[nycphp-talk] Passing info entered into HTML FORMS	intoSESSIONvariables.
</A></li>
	<LI>Next message: <A HREF="023945.html">[nycphp-talk] Why is pass-by-reference deprecated?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24037">[ date ]</a>
              <a href="thread.html#24037">[ thread ]</a>
              <a href="subject.html#24037">[ subject ]</a>
              <a href="author.html#24037">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Question
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2002-June/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Question&In-Reply-To=%3C86713EAB93BD5F40B94A0C8E604C7C91AEB333%40index-exchange.indexstock.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000287.html">
   <LINK REL="Next"  HREF="000289.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Question</H1>
    <B>Larry Chuon</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Question&In-Reply-To=%3C86713EAB93BD5F40B94A0C8E604C7C91AEB333%40index-exchange.indexstock.com%3E"
       TITLE="[nycphp-talk] Question">LarryC at indexstock.com
       </A><BR>
    <I>Tue Jun 11 09:41:24 EDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="000287.html">require/include inside a function
</A></li>
        <LI>Next message: <A HREF="000289.html">[nycphp-talk] Question regarding $HTTP_POST_VARS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#288">[ date ]</a>
              <a href="thread.html#288">[ thread ]</a>
              <a href="subject.html#288">[ subject ]</a>
              <a href="author.html#288">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I use v4.2.1.  A colleague of mine forwarded me this which makes sense.

Using Register Globals
One feature of PHP that can be used to enhance security is configuring PHP
with register_globals = off.
By turning off the ability for any user-submitted variable to be injected
into PHP code, you can reduce
the amount of variable poisoning a potential attacker may inflict. They will
have to take the additional
time to forge submissions, and your internal variables are effectively
isolated from user submitted data.
While it does slightly increase the amount of effort required to work with
PHP, it has been argued that
the benefits far outweigh the effort.
Example 4-8. Working without register_globals=off
&lt;?php
if ($username) { // can be forged by a user in get/post/cookies
$good_login = 1;
}
if ($good_login == 1) { // can be forged by a user in get/post/cookies,
fpassthru (&quot;/highly/sensitive/data/index.html&quot;);
}
?&gt;
Example 4-9. Working with register_globals = off
&lt;?php
if($HTTP_COOKIE_VARS['username']){
// can only come from a cookie, forged or otherwise
$good_login = 1;
fpassthru (&quot;/highly/sensitive/data/index.html&quot;);
}
?&gt;
By using this wisely, it's even possible to take preventative measures to
warn when forging is being
attempted. If you know ahead of time exactly where a variable should be
coming from, you can check to
see if submitted data is coming from an inappropriate kind of submission.
While it doesn't guarantee that
data has not been forged, it does require an attacker to guess the right
kind of forging.
Example 4-10. Detecting simple variable poisoning
&lt;?php
if ($HTTP_COOKIE_VARS['username'] &amp;&amp;
!$HTTP_POST_VARS['username'] &amp;&amp;
!$HTTP_GET_VARS['username'] ) {
// Perform other checks to validate the user name...
$good_login = 1;
fpassthru (&quot;/highly/sensitive/data/index.html&quot;);
} else {
mail(&quot;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">admin at example.com</A>&quot;, &quot;Possible breakin attempt&quot;,
$HTTP_SERVER_VARS['REMOTE_ADDR']);
echo &quot;Security violation, admin has been alerted.&quot;;
exit;
}
?&gt;
Of course, simply turning on register globals does not mean code is secure.
For every piece of data that is
submitted, it should also be checked in other ways.

-----Original Message-----
From: ken wu [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">ken_11223 at yahoo.com</A>]
Sent: Monday, June 10, 2002 6:56 PM
To: NYPHP Talk
Subject: Re: [nycphp-talk] Question


are you running php4.1.2 or above? i know it is
slightly different to deal with the form variables if
u running such versions of php.  For example. u have
to echo $HTTP_POST_VARS['first'} which is the form
variables.  But i know that if u use the php 4.0.6 or
below. u don't have to do so. just simply use $first
or $last.  


 
--- Larry Chuon &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">LarryC at indexstock.com</A>&gt; wrote:
&gt;<i> &lt;paralist&gt;This message contained 1 file(s) and is
</I>&gt;<i> available at
</I>&gt;<i>
</I><A HREF="http://nyphp.org/list/paralist_archive.html?L_mid=364&lt;/paralist">http://nyphp.org/list/paralist_archive.html?L_mid=364&lt;/paralist</A>&gt;
&gt;<i> 
</I>&gt;<i> I'm working on a sample code and have some
</I>&gt;<i> questions.  My php and html files
</I>&gt;<i> are below.  I'm running on IIS and MySQL.  This code
</I>&gt;<i> gives me the following
</I>&gt;<i> error:
</I>&gt;<i>  
</I>&gt;<i>  
</I>&gt;<i> Notice: Undefined variable: first in
</I>&gt;<i> d:\\example\\datain.php on line 5
</I>&gt;<i> 
</I>&gt;<i> Notice: Undefined variable: last in
</I>&gt;<i> d:\\example\\datain.php on line 5
</I>&gt;<i> 
</I>&gt;<i> Notice: Undefined variable: nickname in
</I>&gt;<i> d:\\example\\datain.php on line 5
</I>&gt;<i> 
</I>&gt;<i> Notice: Undefined variable: email in
</I>&gt;<i> d:\\example\\datain.php on line 5
</I>&gt;<i> 
</I>&gt;<i> Notice: Undefined variable: salary in
</I>&gt;<i> d:\\example\\datain.php on line 5
</I>&gt;<i> Thank you! Information entered. 
</I>&gt;<i>  
</I>&gt;<i> If I add the following lines prior to the insert
</I>&gt;<i> statement, it works fine.
</I>&gt;<i> $first = $HTTP_POST_VARS['first'];
</I>&gt;<i> 
</I>&gt;<i> $last = $HTTP_POST_VARS['last'];
</I>&gt;<i> 
</I>&gt;<i> $nickname = $HTTP_POST_VARS['nickname'];
</I>&gt;<i> 
</I>&gt;<i> $email = $HTTP_POST_VARS['email'];
</I>&gt;<i> 
</I>&gt;<i> $salary = $HTTP_POST_VARS['salary'];
</I>&gt;<i> 
</I>&gt;<i> Why do I need $HTTP_POST_VARS???? Thanks in advance.
</I>&gt;<i>  
</I>&gt;<i> --------------------
</I>&gt;<i>  
</I>&gt;<i> datain.php
</I>&gt;<i> &lt;html&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;?php
</I>&gt;<i> 
</I>&gt;<i> $db = mysql_connect(&quot;172.21.6.25&quot;,&quot;root&quot;,&quot;123456&quot;);
</I>&gt;<i> 
</I>&gt;<i> mysql_select_db(&quot;learndb&quot;,$db);
</I>&gt;<i> 
</I>&gt;<i> $sql=&quot;insert into personnel (firstname, lastname,
</I>&gt;<i> nick, email, salary)
</I>&gt;<i> VALUES
</I>&gt;<i> ('$first','$last','$nickname','$email','$salary')&quot;;
</I>&gt;<i> 
</I>&gt;<i> $result = mysql_query($sql);
</I>&gt;<i> 
</I>&gt;<i> echo &quot;Thank you! Information entered.\
</I>&quot;;
&gt;<i> 
</I>&gt;<i> ?&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;/html&gt;
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> datain.html
</I>&gt;<i> &lt;html&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;body&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;form action=&quot;datain.php&quot; method=&quot;post&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> First name:&lt;input type=&quot;text&quot; name=&quot;first&quot;&gt;&lt;br&gt;
</I>&gt;<i> 
</I>&gt;<i> Last name:&lt;input type=&quot;text&quot; name=&quot;last&quot;&gt;&lt;br&gt;
</I>&gt;<i> 
</I>&gt;<i> Nick name:&lt;input type=&quot;text&quot; name=&quot;nickname&quot;&gt;&lt;br&gt;
</I>&gt;<i> 
</I>&gt;<i> E-mail:&lt;input type=&quot;text&quot; name=&quot;email&quot;&gt;&lt;br&gt;
</I>&gt;<i> 
</I>&gt;<i> Salary:&lt;input type=&quot;text&quot; name=&quot;salary&quot;&gt;&lt;br&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;input type=&quot;Submit&quot; name=&quot;submit&quot; value=&quot;Enter
</I>&gt;<i> information&quot;&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;/form&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;/body&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;/html&gt; 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>

=====
Ken Wu

718-788-0661
168 35 Street Apt 2
Broooklyn, NY 11232-2320

<A HREF="http://www.kenfile.com">http://www.kenfile.com</A>

__________________________________________________
Do You Yahoo!?
Yahoo! - Official partner of 2002 FIFA World Cup
<A HREF="http://fifaworldcup.yahoo.com">http://fifaworldcup.yahoo.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000287.html">require/include inside a function
</A></li>
	<LI>Next message: <A HREF="000289.html">[nycphp-talk] Question regarding $HTTP_POST_VARS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#288">[ date ]</a>
              <a href="thread.html#288">[ thread ]</a>
              <a href="subject.html#288">[ subject ]</a>
              <a href="author.html#288">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

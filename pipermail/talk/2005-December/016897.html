<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Double Loading PHP as image - Firefox or PHP?
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-December/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Double%20Loading%20PHP%20as%20image%20-%20Firefox%20or%20PHP%3F&In-Reply-To=%3C004201c5f69b%2489900cd0%246500a8c0%40enobrev%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016896.html">
   <LINK REL="Next"  HREF="016898.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Double Loading PHP as image - Firefox or PHP?</H1>
    <B>Mark Armendariz</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Double%20Loading%20PHP%20as%20image%20-%20Firefox%20or%20PHP%3F&In-Reply-To=%3C004201c5f69b%2489900cd0%246500a8c0%40enobrev%3E"
       TITLE="[nycphp-talk] Double Loading PHP as image - Firefox or PHP?">nyphp at enobrev.com
       </A><BR>
    <I>Thu Dec  1 12:20:33 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="016896.html">[nycphp-talk] Double Loading PHP as image - Firefox or PHP?
</A></li>
        <LI>Next message: <A HREF="016898.html">[nycphp-talk] Double Loading PHP as image - Firefox or PHP?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16897">[ date ]</a>
              <a href="thread.html#16897">[ thread ]</a>
              <a href="subject.html#16897">[ subject ]</a>
              <a href="author.html#16897">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> &gt; when I turned that on -- surprise! -- it *also* requests my script, 
</I>&gt;<i> &gt; and thus, generates another hit. Check all you plugins, 
</I>&gt;<i> especially web 
</I>&gt;<i> &gt; development-type ones that might be generating more 
</I>&gt;<i> requests w/o your knowing it...
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Oooh, good one!
</I>
Damned god suggestion indeed.  Killed ALL my extensions, with the plan to
add them one by one to figure out which one was the culprit.  Alas... The
problem continues.

I've also removed the content disposition header completely.  I'm about to
try re-installing FF.  But I rely want to know if this is just my one
installation of Firefox 1.5 or if I'm going to be dealing with such a thing
all day every day as it's downloaded by millions across the globe.

Here's the php gif:
<A HREF="http://counter.enobrev.com/ff_tester.php">http://counter.enobrev.com/ff_tester.php</A> 

Here's the output:
<A HREF="http://counter.enobrev.com/output.txt">http://counter.enobrev.com/output.txt</A>

Here's the actual gif:
<A HREF="http://counter.enobrev.com/count.gif">http://counter.enobrev.com/count.gif</A>

In case anybody wants to see it in action.  Also, I've added ip address to
the output line (since there may be more than one trying this out).

Here's the code:
-----------------
require_once 'function.file_put_contents.php';
require_once 'function.get.ip.php';
file_put_contents('./output.txt', get_ip() . ': ' . date('m/d/Y G:i:s') . ':
' . $_SERVER['HTTP_USER_AGENT'] . &quot;\n&quot;);
    
header('Content-Type: image/gif');
readfile('./count.gif');
-----------------

Also, the original version of this was using file_get_contents.. And then I
tried good ol fopen.  readfile just seemed to be the most direct route.

Thanks, all, for your comments and suggestions

Mark

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A> 
</I>&gt;<i> [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>] On Behalf Of csnyder
</I>&gt;<i> Sent: Thursday, December 01, 2005 8:22 AM
</I>&gt;<i> To: NYPHP Talk
</I>&gt;<i> Subject: Re: [nycphp-talk] Double Loading PHP as image - 
</I>&gt;<i> Firefox or PHP?
</I>&gt;<i> 
</I>&gt;<i> On 11/30/05, Wellington Fan &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">wfan at encogent.com</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I have a Firefox plugin that lets me peek at the response 
</I>&gt;<i> headers, and 
</I>&gt;<i> &gt; when I turned that on -- surprise! -- it *also* requests my script, 
</I>&gt;<i> &gt; and thus, generates another hit. Check all you plugins, 
</I>&gt;<i> especially web 
</I>&gt;<i> &gt; development-type ones that might be generating more 
</I>&gt;<i> requests w/o your knowing it...
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Oooh, good one!
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Talk Mailing List
</I>&gt;<i> AMP Technology
</I>&gt;<i> Supporting Apache, MySQL and PHP
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> <A HREF="http://www.nyphp.org">http://www.nyphp.org</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016896.html">[nycphp-talk] Double Loading PHP as image - Firefox or PHP?
</A></li>
	<LI>Next message: <A HREF="016898.html">[nycphp-talk] Double Loading PHP as image - Firefox or PHP?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16897">[ date ]</a>
              <a href="thread.html#16897">[ thread ]</a>
              <a href="subject.html#16897">[ subject ]</a>
              <a href="author.html#16897">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] &quot;Calling&quot; an object
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-December/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20%22Calling%22%20an%20object&In-Reply-To=%3C43A35205.9090502%40zend.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017038.html">
   <LINK REL="Next"  HREF="016995.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] &quot;Calling&quot; an object</H1>
    <B>Mike Naberezny</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20%22Calling%22%20an%20object&In-Reply-To=%3C43A35205.9090502%40zend.com%3E"
       TITLE="[nycphp-talk] &quot;Calling&quot; an object">mike.n at zend.com
       </A><BR>
    <I>Fri Dec 16 18:47:17 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="017038.html">[nycphp-talk] &quot;Calling&quot; an object
</A></li>
        <LI>Next message: <A HREF="016995.html">[nycphp-talk] if statement expression evaluation question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17039">[ date ]</a>
              <a href="thread.html#17039">[ thread ]</a>
              <a href="subject.html#17039">[ subject ]</a>
              <a href="author.html#17039">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Andrew,

Andrew Yochum wrote:
&gt;<i> Since my message I had come up with a similar solution - using a
</I>&gt;<i> container on the top level.  The trick then was to get all properties
</I>&gt;<i> and return values of the contained objects to behave the same way, so I
</I>&gt;<i> wrap all return values (in __call) and properties (in__get) in a
</I>&gt;<i> delegate/decorator that behaves the same was as the container.  Does the
</I>&gt;<i> trick nicely!
</I>
That sounds good to me.  This is an interesting topic and there are quite a 
few other uses for variations on this theme as well.  The __magics() are very 
powerful.

One of technique that I use is lazy loading expensive objects in __get(), so 
that they are only require()ed and instantiated if they are needed by the 
container object.  It's analogous to __autoload(), except its on the 
class-level instead of the global scope.

Another benefit of __get() proxies is that you can provide immutability for an 
object.  If your object is accessible only through __get(), you can protect it 
from being reassigned (and thus possibly destroyed, depending on refcount) in 
__set().

Where I think it is really gets interesting is when the child object being 
proxied implements the Zend Engine II interfaces ArrayAccess and Iterator. 
You can expose what looks and works exactly like a public property array for 
the end user, and the object underneath can't be destroyed (conventionally). 
You can use these to provide some neat behaviors for nested objects.

If you are on PHP 5.1 already, be sure to check out __isset() and __unset() 
also.  I haven't experimented with these much yet, but I'm sure that there are 
a lot of interesting possibilities for them as well.  Something that comes to 
mind for __unset() would be the emulation of Microsoft's _QueryUnload event 
(pseudo-abortable destruction for your child objects).

Mike

-- 
Mike Naberezny
Senior PHP Developer

Zend Technologies, The PHP Company
19200 Stevens Creek Blvd, Suite 100
Cupertino, CA 95014
Tel: 408-342-8891
Fax: 408-253-8801
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mike.n at zend.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017038.html">[nycphp-talk] &quot;Calling&quot; an object
</A></li>
	<LI>Next message: <A HREF="016995.html">[nycphp-talk] if statement expression evaluation question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17039">[ date ]</a>
              <a href="thread.html#17039">[ thread ]</a>
              <a href="subject.html#17039">[ subject ]</a>
              <a href="author.html#17039">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Building trees
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2002-October/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Building%20trees&In-Reply-To=%3C1817.68.36.91.141.1034815935.squirrel%40webmail.idsociety.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001219.html">
   <LINK REL="Next"  HREF="001221.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Building trees</H1>
    <B>max at idsociety.com</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Building%20trees&In-Reply-To=%3C1817.68.36.91.141.1034815935.squirrel%40webmail.idsociety.com%3E"
       TITLE="[nycphp-talk] Building trees">max at idsociety.com
       </A><BR>
    <I>Wed Oct 16 20:52:15 EDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001219.html">[nycphp-talk] Building trees
</A></li>
        <LI>Next message: <A HREF="001221.html">[nycphp-talk] Building trees
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1220">[ date ]</a>
              <a href="thread.html#1220">[ thread ]</a>
              <a href="subject.html#1220">[ subject ]</a>
              <a href="author.html#1220">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I updated the code/source to show a small fix I made which basically
allows you to add a SQL restraint for ordering. So by adding ORDER BY name
ASC it will return the results you said below. How much data are you
talking about? If memory is that big of an issue you may look into caching
the results of your script and only update it when changes are made.
-Max

&gt;<i> This looks to be a simple answer, question is how much memory does it
</I>&gt;<i> consume when dealing with larger amounts of data.  By being able to
</I>&gt;<i> draw  the list directly from the result sets, the only memory you are
</I>&gt;<i> consuming is the result set cache's which should not be the whole
</I>&gt;<i> resultset, and the memory for caching the resulting page.  With this
</I>&gt;<i> solution you have all the results held in memory twice, once for
</I>&gt;<i> manipulation, the second for the display cache.
</I>&gt;<i>
</I>&gt;<i> The other thing is for my use, the manipulation would also need to
</I>&gt;<i> include a sort so that your data would display as:
</I>&gt;<i>
</I>&gt;<i> Servers [ID 7]
</I>&gt;<i> - Development [ID 8]
</I>&gt;<i> - - Home Directories [ID 11]
</I>&gt;<i> - Live [ID 10]
</I>&gt;<i> - Staging [ID 9]
</I>&gt;<i> Websites [ID 1]
</I>&gt;<i> - mySQL.com [ID 3]
</I>&gt;<i> - PHP.net [ID 2]
</I>&gt;<i> - - Manual [ID 4]
</I>&gt;<i> - - - Comments [ID 6]
</I>&gt;<i> - - - Functions [ID 5]
</I>&gt;<i>
</I>&gt;<i> I'll have to look at this further, see if it might be the solution, or
</I>&gt;<i> part of it.  Thanks.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> max goldberg wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>I wrote something similar to what you are describing for a personal
</I>&gt;&gt;<i>project a while back. On the SQL side it's a pretty simple layout,
</I>&gt;&gt;<i>every record has a parent id, and from that I can figure out all the
</I>&gt;&gt;<i>children by making a quick and dirty index before hand.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Check out (sorry if the url offends)
</I>&gt;&gt;<i><A HREF="http://www.fuck.org/~max/traverse.phps">http://www.fuck.org/~max/traverse.phps</A> for the example
</I>&gt;&gt;<i>and <A HREF="http://www.fuck.org/~max/traverse.php">http://www.fuck.org/~max/traverse.php</A> for the output.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Sorry if the code is a bit dirty, it's kind of old. =)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>-Max
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Jim Hendricks wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>I know this is a SQL question, but since most apps deal with SQL, I
</I>&gt;&gt;&gt;<i>figured I'ld ask here since the app is using PHP and MySQL.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>I have a table that establishes an entity that may have a parent from
</I>&gt;&gt;&gt;<i>the same table.  I would like to display the data in a tree format
</I>&gt;&gt;&gt;<i>where  all items with a ParentID of 0 ( no parent ) are listed with
</I>&gt;&gt;&gt;<i>children  indented under the parent.  The nesting can be infinite, but
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>realistically will only be 2 or 3 levels deep.  I can see how to do
</I>&gt;&gt;&gt;<i>this  through a whole series of queries, but can see how the
</I>&gt;&gt;&gt;<i>performance of  such a design could be very poor if there is a lot of
</I>&gt;&gt;&gt;<i>items.  Looking  for any ideas, even if they would require a table
</I>&gt;&gt;&gt;<i>design mod to make the  queries simpler.  The current design is a
</I>&gt;&gt;&gt;<i>single table with ID, and  ParentID and whatever other info needed for
</I>&gt;&gt;&gt;<i>the item.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>Thanks, Jim
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --- Unsubscribe at <A HREF="http://nyphp.org/list">http://nyphp.org/list</A> ---
</I>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001219.html">[nycphp-talk] Building trees
</A></li>
	<LI>Next message: <A HREF="001221.html">[nycphp-talk] Building trees
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1220">[ date ]</a>
              <a href="thread.html#1220">[ thread ]</a>
              <a href="subject.html#1220">[ subject ]</a>
              <a href="author.html#1220">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

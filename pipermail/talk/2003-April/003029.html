<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] MySQL &amp; 2.5 million rows!
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-April/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20MySQL%20%26%202.5%20million%20rows%21&In-Reply-To=%3C20030411154901.GA23783%40thighmaster.digitalpulp.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003028.html">
   <LINK REL="Next"  HREF="003039.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] MySQL &amp; 2.5 million rows!</H1>
    <B>Andrew Yochum</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20MySQL%20%26%202.5%20million%20rows%21&In-Reply-To=%3C20030411154901.GA23783%40thighmaster.digitalpulp.com%3E"
       TITLE="[nycphp-talk] MySQL &amp; 2.5 million rows!">andrew at digitalpulp.com
       </A><BR>
    <I>Fri Apr 11 11:49:06 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003028.html">[nycphp-talk] MySQL &amp; 2.5 million rows!
</A></li>
        <LI>Next message: <A HREF="003039.html">Search Engine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3029">[ date ]</a>
              <a href="thread.html#3029">[ thread ]</a>
              <a href="subject.html#3029">[ subject ]</a>
              <a href="author.html#3029">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>A similar suggestion to the one below is to rename the tables to do the move.
The table naming then can remain human readable at any given time.

Andrew

On Fri, Apr 11, 2003 at 11:34:18AM -0400, Jim Hendricks wrote:
&gt;<i> You may want to save time and not move the data around at all.
</I>&gt;<i> 
</I>&gt;<i> The idea would be to have 3 tables all structured the same each named
</I>&gt;<i> uniquely.  Start by loading up table 1, then in the application point the
</I>&gt;<i> data to table1.  When doing the next import, detect that table 1 contains
</I>&gt;<i> the live data so use table2 to import the data.  If the data imports
</I>&gt;<i> correctly, change the app to point to table2, table1 now becomes your old
</I>&gt;<i> data.  Next import table 3 becomes your import, then live, table 2 becomes
</I>&gt;<i> old, table 1 gets emptied ready for next import.  Next import, 1 becomes
</I>&gt;<i> import then live, table 3 becomes old, table 2 gets emptied ready for next
</I>&gt;<i> import.
</I>&gt;<i> 
</I>&gt;<i> Hope you get the idea.
</I>&gt;<i> 
</I>&gt;<i> Jim
</I>&gt;<i> ______________________________________________________________
</I>&gt;<i> Jim Hendricks, President, Biz Computing, Inc
</I>&gt;<i> Phone:  (201) 599-9380     Email: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">jim at bizcomputinginc.com</A>
</I>&gt;<i> Web: www.bizcomputinginc.com
</I>&gt;<i> Snail:  Jim Hendricks,  Biz Computing, Inc.,  255 McKinley Ave, New Milford,
</I>&gt;<i> NJ 07646
</I>&gt;<i> ______________________________________________________________
</I>&gt;<i> 
</I>&gt;<i> ----- Original Message -----
</I>&gt;<i> From: &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">jsiegel1 at optonline.net</A>&gt;
</I>&gt;<i> To: &quot;NYPHP Talk&quot; &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at nyphp.org</A>&gt;
</I>&gt;<i> Sent: Friday, April 11, 2003 10:24 AM
</I>&gt;<i> Subject: [nycphp-talk] MySQL &amp; 2.5 million rows!
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; You read the subject line correctly!!! I'm loading 2.5 million rows from
</I>&gt;<i> an ASCII file into a MySQL database. So...here's a little background on what
</I>&gt;<i> I've done and then a question. (Please keep in mind I'm a Php/MySQL
</I>&gt;<i> newbie...though I'm learnin' fast!!)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I created three tables - data_new, data_old, data_live. The Ascii file
</I>&gt;<i> gets read, line by line, and inserted into data_new. When it's completed and
</I>&gt;<i> there are no glitches (i.e., no problem with the Ascii file), I want to move
</I>&gt;<i> the data from data_live to data_old and then move the new data from data_new
</I>&gt;<i> to data_live. So...the question...is there a fast way to move the data from
</I>&gt;<i> one MySQL table to another (from data_new to data_live) other than walking
</I>&gt;<i> through data_new row by row...creating an Insert statement on the fly...and
</I>&gt;<i> then inserting the row into data_live?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; BTW, in case you are wondering why there are three different tables, I
</I>&gt;<i> felt that this was a better way  than my client's present system which
</I>&gt;<i> simply wipes out the live data and then reads in the Ascii file. If there is
</I>&gt;<i> a glitch then they have to empty the table and reload the Ascii. Doing it
</I>&gt;<i> this way, if they need to go back to the old data, I would move it data from
</I>&gt;<i> data_old to data_live.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Jeff
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> --- Unsubscribe at <A HREF="http://nyphp.org/list/">http://nyphp.org/list/</A> ---
</I>&gt;<i> 
</I>
-- 
Andrew Yochum
Digital Pulp, Inc.
212.679.0676x255
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">andrew at digitalpulp.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003028.html">[nycphp-talk] MySQL &amp; 2.5 million rows!
</A></li>
	<LI>Next message: <A HREF="003039.html">Search Engine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3029">[ date ]</a>
              <a href="thread.html#3029">[ thread ]</a>
              <a href="subject.html#3029">[ subject ]</a>
              <a href="author.html#3029">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

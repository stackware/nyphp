<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] &lt;a href&gt; vs. &lt;form&gt; request
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2003-April/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20%3Ca%20href%3E%20vs.%20%3Cform%3E%20request&In-Reply-To=%3C3E9ED203.9040801%40idsociety.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003118.html">
   <LINK REL="Next"  HREF="003120.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] &lt;a href&gt; vs. &lt;form&gt; request</H1>
    <B>max goldberg</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20%3Ca%20href%3E%20vs.%20%3Cform%3E%20request&In-Reply-To=%3C3E9ED203.9040801%40idsociety.com%3E"
       TITLE="[nycphp-talk] &lt;a href&gt; vs. &lt;form&gt; request">max at idsociety.com
       </A><BR>
    <I>Thu Apr 17 12:10:43 EDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003118.html">[nycphp-talk] Is nyphp.org linked from php.net?
</A></li>
        <LI>Next message: <A HREF="003120.html">[nycphp-talk] &lt;a href&gt; vs. &lt;form&gt; request
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3119">[ date ]</a>
              <a href="thread.html#3119">[ thread ]</a>
              <a href="subject.html#3119">[ subject ]</a>
              <a href="author.html#3119">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is a fairly vague problem, so I'll give my suggestion to what I 
think you are trying to do.

On each non-local website do something similar to this:

&lt;script type=&quot;text/javascript&quot; 
src=&quot;<A HREF="http://example.com/offsite/link_creator.js">http://example.com/offsite/link_creator.js</A>&quot;&gt;
&lt;a href=&quot;#&quot; onClick=&quot;return linkCreate();&quot;&gt;Click Me&lt;/a&gt;

(where example.com is your server)

On your server you would have link_creator.js be a PHP script that 
creates dynamic Javascript. This allows you to grab information such as 
the referrer, and the remote IP address, and any other information you 
could need. You could even make the JavaScript source append a get 
variable for that site like link_creator.js?site=www.remotesite.com

The PHP would create a one time use hash, depending on if
all of your security requirements have been met which then is inserted
into the temporary table along with the remote IP, referrer etc.

The dynamic JavaScript would then include a function (linkCreate) which 
just changes the browser's location to the link you have created.

This would cause some heavy traffic load, especially if all of the 
remote sites get a lot of traffic. This would allow you to make 
one-time-use hashes that would be required for a successful page load on 
your server.  Once the unique hash has been found in the query string, 
you just expire it on the database.

Not sure if that would help, but it may be relevant.

-Max


Jerry Kapron wrote:

&gt;<i> I'm trying to figure out how I can restrict people to using an &lt;a href&gt; link
</I>&gt;<i> to send a request to a script.
</I>&gt;<i> To be more specific I don't want them to send requests by submitting a form.
</I>&gt;<i> In case they do the script would respond with '401 Unauthorized' header or
</I>&gt;<i> something to that effect.  For a while I thought I had a solution.. by
</I>&gt;<i> looking for an additional GET var which would reflect the presence of a
</I>&gt;<i> 'Submit' button, but then I realized that a form may be easily submitted
</I>&gt;<i> with JavaScript's submit() method == no additional GET vars.
</I>&gt;<i> I know it may seem like I worry too much, but in this project security is
</I>&gt;<i> *extremely* important.
</I>&gt;<i> I hope someone comes up with some clever idea..  my brain needs a reboot to
</I>&gt;<i> maintenance mode for a few hours..
</I>&gt;<i> 
</I>&gt;<i> cheers,
</I>&gt;<i> Jerry
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> 42.7% of all statistics are made up on the spot.
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Jim Musil &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">jmusil at villagevoice.com</A>&gt;
</I>&gt;<i> To: NYPHP Talk &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at nyphp.org</A>&gt;
</I>&gt;<i> Date: Wednesday, April 16, 2003 5:48 PM
</I>&gt;<i> Subject: [nycphp-talk] Utf and latin 1
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i>Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I have two different character encodings on my page. Is there anyway to
</I>&gt;&gt;<i>convert utf-8 characters into latin1 characters via php?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>--
</I>&gt;&gt;<i>James Musil
</I>&gt;&gt;<i>Senior Developer
</I>&gt;&gt;<i>Village Voice Media
</I>&gt;&gt;<i>36 Cooper Square
</I>&gt;&gt;<i>New York, NY  10003
</I>&gt;&gt;<i>(212) 475-3300 ext 14003
</I>&gt;&gt;<i><A HREF="http://lists.nyphp.org/mailman/listinfo/talk">JMusil at villagevoice.com</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> --- Unsubscribe at <A HREF="http://nyphp.org/list/">http://nyphp.org/list/</A> ---
</I>&gt;<i> 
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003118.html">[nycphp-talk] Is nyphp.org linked from php.net?
</A></li>
	<LI>Next message: <A HREF="003120.html">[nycphp-talk] &lt;a href&gt; vs. &lt;form&gt; request
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3119">[ date ]</a>
              <a href="thread.html#3119">[ thread ]</a>
              <a href="subject.html#3119">[ subject ]</a>
              <a href="author.html#3119">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

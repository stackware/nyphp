<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Apache is killing me.
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Apache%20is%20killing%20me.&In-Reply-To=%3C8CB708F03811B8D-2E8-F09%40WEBMAIL-MB10.sysops.aol.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027653.html">
   <LINK REL="Next"  HREF="027667.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Apache is killing me.</H1>
    <B>y2rob at aol.com</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Apache%20is%20killing%20me.&In-Reply-To=%3C8CB708F03811B8D-2E8-F09%40WEBMAIL-MB10.sysops.aol.com%3E"
       TITLE="[nycphp-talk] Apache is killing me.">y2rob at aol.com
       </A><BR>
    <I>Wed Mar 11 14:33:32 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="027653.html">[nycphp-talk] Apache is killing me.
</A></li>
        <LI>Next message: <A HREF="027667.html">[nycphp-talk] Apache is killing me.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27655">[ date ]</a>
              <a href="thread.html#27655">[ thread ]</a>
              <a href="subject.html#27655">[ subject ]</a>
              <a href="author.html#27655">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
 hello,
i might suggest using:

<A HREF="http://mmonit.com/monit/">http://mmonit.com/monit/</A>
or 
<A HREF="http://god.rubyforge.org/">http://god.rubyforge.org/</A> - though this requires having ruby on your server so monit might be better :)

to help with the server monitoring and trigger notifications if you want.

~rob


 


 

-----Original Message-----
From: Michael B Allen &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">ioplex at gmail.com</A>&gt;
To: NYPHP Talk &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>&gt;
Sent: Wed, 11 Mar 2009 1:26 pm
Subject: Re: [nycphp-talk] Apache is killing me.










On Wed, Mar 11, 2009 at 11:58 AM, John Campbell &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">jcampbell1 at gmail.com</A>&gt; wrote:
&gt;<i> On Wed, Mar 11, 2009 at 11:13 AM, Rob Marscher
</I>&gt;<i> &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">rmarscher at beaffinitive.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Is it running but not processing requests? ?Or is it no longer running?
</I>&gt;&gt;<i> ?Maybe it's rotating log files but doesn't start back up properly?
</I>&gt;&gt;<i> ?Otherwise, maybe some type of odd segmentation fault?
</I>&gt;<i>
</I>&gt;<i> I am pretty sure it is running, but as soon as I found the issue, I
</I>&gt;<i> restarted it immediately, so I can't say for sure. ?There is nothing
</I>&gt;<i> in either the syslog or apache logs that is illuminating. ?The only
</I>&gt;<i> thing that is obvious is the lack anything in the logs during the time
</I>&gt;<i> apache was not working.
</I>&gt;<i>
</I>&gt;<i> I rotate the logs manually (probably not the best idea), but it can't
</I>&gt;<i> be a log rotate issue.
</I>
What is the platform? Is it Linux? Are workers dying? Run:

  # ps fax | grep httpd

before and during and after the problem to see if workers are actually running.

If they are running (as opposed to crashing) then use tcpdump and
WireShark to find out what port the browser is using. Can the browser
even establish a socket? If yes, note the port number.

Then (quickly) use lsof to determine which process the socket is
connected to like:

  # lsof | grep &lt;portnumber&gt;

Then run gdb on that pid like:

  # gdb /usr/sbin/httpd &lt;pid&gt;

This will load symbols and give you a prompt. Then type 'bt' for a
backtrace. If you don't know how to interpret the backtrace, post it
here.

Mike

-- 
Michael B Allen
Java Active Directory Integration
<A HREF="http://www.ioplex.com/">http://www.ioplex.com/</A>
_______________________________________________
New York PHP User Group Community Talk Mailing List
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>

<A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>



 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20090311/fae4bbcc/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20090311/fae4bbcc/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027653.html">[nycphp-talk] Apache is killing me.
</A></li>
	<LI>Next message: <A HREF="027667.html">[nycphp-talk] Apache is killing me.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27655">[ date ]</a>
              <a href="thread.html#27655">[ thread ]</a>
              <a href="subject.html#27655">[ subject ]</a>
              <a href="author.html#27655">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

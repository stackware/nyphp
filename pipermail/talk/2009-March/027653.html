<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Apache is killing me.
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Apache%20is%20killing%20me.&In-Reply-To=%3C78c6bd860903111026o4351f8dej9b8ed46ee56c426e%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027652.html">
   <LINK REL="Next"  HREF="027655.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Apache is killing me.</H1>
    <B>Michael B Allen</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Apache%20is%20killing%20me.&In-Reply-To=%3C78c6bd860903111026o4351f8dej9b8ed46ee56c426e%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] Apache is killing me.">ioplex at gmail.com
       </A><BR>
    <I>Wed Mar 11 13:26:15 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="027652.html">[nycphp-talk] Apache is killing me.
</A></li>
        <LI>Next message: <A HREF="027655.html">[nycphp-talk] Apache is killing me.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27653">[ date ]</a>
              <a href="thread.html#27653">[ thread ]</a>
              <a href="subject.html#27653">[ subject ]</a>
              <a href="author.html#27653">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Mar 11, 2009 at 11:58 AM, John Campbell &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">jcampbell1 at gmail.com</A>&gt; wrote:
&gt;<i> On Wed, Mar 11, 2009 at 11:13 AM, Rob Marscher
</I>&gt;<i> &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">rmarscher at beaffinitive.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Is it running but not processing requests? &#160;Or is it no longer running?
</I>&gt;&gt;<i> &#160;Maybe it's rotating log files but doesn't start back up properly?
</I>&gt;&gt;<i> &#160;Otherwise, maybe some type of odd segmentation fault?
</I>&gt;<i>
</I>&gt;<i> I am pretty sure it is running, but as soon as I found the issue, I
</I>&gt;<i> restarted it immediately, so I can't say for sure. &#160;There is nothing
</I>&gt;<i> in either the syslog or apache logs that is illuminating. &#160;The only
</I>&gt;<i> thing that is obvious is the lack anything in the logs during the time
</I>&gt;<i> apache was not working.
</I>&gt;<i>
</I>&gt;<i> I rotate the logs manually (probably not the best idea), but it can't
</I>&gt;<i> be a log rotate issue.
</I>
What is the platform? Is it Linux? Are workers dying? Run:

  # ps fax | grep httpd

before and during and after the problem to see if workers are actually running.

If they are running (as opposed to crashing) then use tcpdump and
WireShark to find out what port the browser is using. Can the browser
even establish a socket? If yes, note the port number.

Then (quickly) use lsof to determine which process the socket is
connected to like:

  # lsof | grep &lt;portnumber&gt;

Then run gdb on that pid like:

  # gdb /usr/sbin/httpd &lt;pid&gt;

This will load symbols and give you a prompt. Then type 'bt' for a
backtrace. If you don't know how to interpret the backtrace, post it
here.

Mike

-- 
Michael B Allen
Java Active Directory Integration
<A HREF="http://www.ioplex.com/">http://www.ioplex.com/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027652.html">[nycphp-talk] Apache is killing me.
</A></li>
	<LI>Next message: <A HREF="027655.html">[nycphp-talk] Apache is killing me.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27653">[ date ]</a>
              <a href="thread.html#27653">[ thread ]</a>
              <a href="subject.html#27653">[ subject ]</a>
              <a href="author.html#27653">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

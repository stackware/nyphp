<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] generate random unique 8-digit number
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20generate%20random%20unique%208-digit%20number&In-Reply-To=%3C78c6bd860903102325x502017bbjddae8d151db9177e%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027670.html">
   <LINK REL="Next"  HREF="027637.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] generate random unique 8-digit number</H1>
    <B>Michael B Allen</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20generate%20random%20unique%208-digit%20number&In-Reply-To=%3C78c6bd860903102325x502017bbjddae8d151db9177e%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] generate random unique 8-digit number">ioplex at gmail.com
       </A><BR>
    <I>Wed Mar 11 02:25:35 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="027670.html">[nycphp-talk] generate random unique 8-digit number
</A></li>
        <LI>Next message: <A HREF="027637.html">[nycphp-talk] Transforming XML with XSL (XsltProcessor problems)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27641">[ date ]</a>
              <a href="thread.html#27641">[ thread ]</a>
              <a href="subject.html#27641">[ subject ]</a>
              <a href="author.html#27641">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Mar 9, 2009 at 9:56 PM, chad qian &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">nynj.tech at hotmail.com</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i> I need to generate random 8-digit numbers continuously.And no
</I>&gt;<i> duplication&#160;among&#160;all those numbers.In other word,every single 8-digit
</I>&gt;<i> number&#160;must be&#160;unique.How to do php programming?
</I>
Just to give a little different answer from what people are suggesting
you could use a sequence number and then apply a routine that just
rotates and move bits around in constant way. This will guarantee that
the number is unique without using a database (although I guess you
still need a source of the sequence number so you need to store that
somewhere).

For example, you could do something like this:

function reverse_bits($v) {
    $t = $v &lt;&lt; 1;

    $v &gt;&gt;= 1;
    $v &amp;= 0x7FFFFFFF;
    for ($i = 30; $i &gt; 0; $i--) {
        $t |= $v &amp; 1;
        $t &lt;&lt;= 1;
        $v &gt;&gt;= 1;
    }
    $t |= $v;

    return $t;
}

function scramble($num) {
    $num = reverse_bits($num);
    return $num ^ 0xFEEDB0A5;
}

So you feed the scramble function a sequence of numbers like 10, 11,
12, ... etc and get out a number that looks random. Of course it's not
random. It only looks random. In fact, if you feed the scrambled
number back through the scramble routine you'll get back the original
sequence number.

Mike

-- 
Michael B Allen
Java Active Directory Integration
<A HREF="http://www.ioplex.com/">http://www.ioplex.com/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027670.html">[nycphp-talk] generate random unique 8-digit number
</A></li>
	<LI>Next message: <A HREF="027637.html">[nycphp-talk] Transforming XML with XSL (XsltProcessor problems)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27641">[ date ]</a>
              <a href="thread.html#27641">[ thread ]</a>
              <a href="subject.html#27641">[ subject ]</a>
              <a href="author.html#27641">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

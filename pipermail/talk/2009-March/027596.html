<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] the stale V in MVC web apps
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20the%20stale%20V%20in%20MVC%20web%20apps&In-Reply-To=%3C8f0676b40903040850o6a5209f4i4d2bfe7c750a0cbd%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027595.html">
   <LINK REL="Next"  HREF="027599.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] the stale V in MVC web apps</H1>
    <B>John Campbell</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20the%20stale%20V%20in%20MVC%20web%20apps&In-Reply-To=%3C8f0676b40903040850o6a5209f4i4d2bfe7c750a0cbd%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] the stale V in MVC web apps">jcampbell1 at gmail.com
       </A><BR>
    <I>Wed Mar  4 11:50:34 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="027595.html">[nycphp-talk] the stale V in MVC web apps
</A></li>
        <LI>Next message: <A HREF="027599.html">[nycphp-talk] the stale V in MVC web apps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27596">[ date ]</a>
              <a href="thread.html#27596">[ thread ]</a>
              <a href="subject.html#27596">[ subject ]</a>
              <a href="author.html#27596">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I use AJAX polling loops to check if the data is actually stale, and
then do something about it.  It can be complicated as auto updating
the sections of the page that have changed, and then doing the
&quot;yellow-fade&quot;.  If you don't want to get fancy, you could just show a
dialogue that let's the user know the data is stale, and give them the
option to refresh.

Writing an ajax polling loop is really quite simple... just make sure
you use tail recursion, rather than an interval.  I have made that
mistake in the past, and it hurts.

Dont do:

setInterval(checkStatus,3000);

Do:

// checkStatus must have a callback parameter when complete.
(function() {
  var this_function = arguments.callee;
   checkStatus(function(){
     setTimeout(this_function,3000);
   });
})();


On Wed, Mar 4, 2009 at 10:49 AM, David Mintz &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">david at davidmintz.org</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> I've got users working collaboratively all day long on a set of database
</I>&gt;<i> records. The view in front of them is frequently stale. A common old Web 1.0
</I>&gt;<i> approach to solve this was to reload the page automatically every n seconds
</I>&gt;<i> with a meta refresh. Nowadays we have xhr. Either way, my concern is as the
</I>&gt;<i> W3C points out, an unexpected refresh can disorient users.
</I>&gt;<i>
</I>&gt;<i> I have thought of displaying a thingy at page load time that says &quot;reloading
</I>&gt;<i> automatically in 5 minutes&quot; and then updating via Javscript it to count
</I>&gt;<i> down&#160; 4, 3, 2 and after maybe 30 seconds start counting off seconds, then
</I>&gt;<i> update via ajax. The upside is they won't get (or at least shouldn't be)
</I>&gt;<i> surprised. The downside is more clutter, potentially annoying and/or
</I>&gt;<i> distracting. But I think you could put a discrete little timer thingy that
</I>&gt;<i> ought not be too irritating.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> What do YOU do about this sort of thing?
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> David Mintz
</I>&gt;<i> <A HREF="http://davidmintz.org/">http://davidmintz.org/</A>
</I>&gt;<i>
</I>&gt;<i> The subtle source is clear and bright
</I>&gt;<i> The tributary streams flow through the darkness
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP User Group Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027595.html">[nycphp-talk] the stale V in MVC web apps
</A></li>
	<LI>Next message: <A HREF="027599.html">[nycphp-talk] the stale V in MVC web apps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27596">[ date ]</a>
              <a href="thread.html#27596">[ thread ]</a>
              <a href="subject.html#27596">[ subject ]</a>
              <a href="author.html#27596">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

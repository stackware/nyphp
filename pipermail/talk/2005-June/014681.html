<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Making an array from a list item?
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-June/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Making%20an%20array%20from%20a%20list%20item%3F&In-Reply-To=%3C20050601111015.GB2905%40leitz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="014682.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Making an array from a list item?</H1>
    <B>leam at reuel.net</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Making%20an%20array%20from%20a%20list%20item%3F&In-Reply-To=%3C20050601111015.GB2905%40leitz%3E"
       TITLE="[nycphp-talk] Making an array from a list item?">leam at reuel.net
       </A><BR>
    <I>Wed Jun  1 07:10:15 EDT 2005</I>
    <P><UL>
        
        <LI>Next message: <A HREF="014682.html">[nycphp-talk] [OT] any interest in a newbie installfest	ofWordPress plus in NY or NJ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14681">[ date ]</a>
              <a href="thread.html#14681">[ thread ]</a>
              <a href="subject.html#14681">[ subject ]</a>
              <a href="author.html#14681">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dan;

That took me a couple minutes to transcribe. Probably a little longer to comprehend well enough to use again.  ;)

Does this sond like a reasonable english translation?

	Create an array called $output
	Create a query. Make the query and store the result in $result.

	Iterate through the rows in $result
		if there is no variable $output[$row]['skillID']
			Create one as an array
		Add the $row['knackID'] onto the array $output[$row]['skillID']		

	print it so I can read it.

It works! Thanks! I think the coffee has to really start kicking in before I fully get it though...

ciao!

leam


On Tue, May 31, 2005 at 01:04:08PM -0400, Dan Cech wrote:
&gt;<i> Try:
</I>&gt;<i> 
</I>&gt;<i> $output = array();
</I>&gt;<i> 
</I>&gt;<i> $query = 'select skillID,knackID from characters.skill_knacks';
</I>&gt;<i> $result = mysql_query($query,$link_id);
</I>&gt;<i> 
</I>&gt;<i> while($row = mysql_fetch_array($result)) {
</I>&gt;<i>   if (empty($output[$row['skillID']])) {
</I>&gt;<i>     $output[$row['skillID']] = array();
</I>&gt;<i>   }
</I>&gt;<i>   $output[$row['skillID']][] = $row['knackID'];
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> print_r($output);
</I>&gt;<i> 
</I>&gt;<i> Dan
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">leam at reuel.net</A> wrote:
</I>&gt;<i> &gt;Trying to read code from last year. *sigh* At least it isn't as difficult 
</I>&gt;<i> &gt;as perl...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Looking through the archives I don't think I've asked this before. If 
</I>&gt;<i> &gt;there is a better way, and I'd not be surprised, feel free to suggest it.  
</I>&gt;<i> &gt;;)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;My project is a character sheet for a game. Each character has a different 
</I>&gt;<i> &gt;set of skills, and each skill has a sub-skill called a &quot;knack&quot;. A 
</I>&gt;<i> &gt;character can have a rank of 0-5 in a knack. &quot;0&quot; means they don't have 
</I>&gt;<i> &gt;that knack. Skills are not ranked; you just have it or not. For example, a 
</I>&gt;<i> &gt;character might have the Skill &quot;Hunter&quot; and have the knacks &quot;Fishing (2)&quot;, 
</I>&gt;<i> &gt;&quot;Stealth (2)&quot;, and &quot;Tracking (1)&quot;. A character may or may not have all the 
</I>&gt;<i> &gt;knacks in a skill. Some knacks are in more than one skill.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Each Skill and Knack has a unique short name like &quot;hntr&quot;, &quot;fshng&quot;, and 
</I>&gt;<i> &gt;&quot;stlth&quot;. I've been using the short name as array keys. The character sheet 
</I>&gt;<i> &gt;pulls the list of skills that character has and then looks up what knacks 
</I>&gt;<i> &gt;are in that skill. It then writes the Skill header, lists each knack and 
</I>&gt;<i> &gt;the rank the character has in that knack. 
</I>&gt;<i> &gt;The current problem is that I'm using an included file that manually sets 
</I>&gt;<i> &gt;the array $htnr to have the knacks &quot;fshg&quot;, &quot;stlth&quot;, etc. I'd rather, if 
</I>&gt;<i> &gt;possible, have the array built from a database pull. I'm failing because I 
</I>&gt;<i> &gt;don't know how to iterate through a list and make the list item an array, 
</I>&gt;<i> &gt;and then populate the array with the knacks.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Line from the included file:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;$hntr = array( &quot;ambsh&quot;, &quot;anmltn&quot;, &quot;fshg&quot;, &quot;sknng&quot;, &quot;stlth&quot;, &quot;srvl&quot;, 
</I>&gt;<i> &gt;&quot;trkng&quot;, &quot;trlsgns&quot;, &quot;trps&quot;  );
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;So far the code looks like this:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;foreach ( $skills As $s ) {
</I>&gt;<i> &gt;        $a = $s;
</I>&gt;<i> &gt;        $s = array ();
</I>&gt;<i> &gt;        $$s[0] = $a;
</I>&gt;<i> &gt;        echo &quot;&lt;p&gt;s[0] is $s[0]!   &quot;;
</I>&gt;<i> &gt;        $skill_knack_query = &quot;select knackID from characters.skill_knacks 
</I>&gt;<i> &gt;        where skillID='$a'&quot;;
</I>&gt;<i> &gt;        $skill_knack_result = mysql_query(&quot;$skill_knack_query&quot;, $link_id);
</I>&gt;<i> &gt;        // echo &quot;skill_knack_result is $skill_knack_result \n&quot;;
</I>&gt;<i> &gt;        while($skill_knack_data = mysql_fetch_array($skill_knack_result)) {
</I>&gt;<i> &gt;        //      echo &quot;hello $skill_knack_data&quot;;
</I>&gt;<i> &gt;                echo &quot; &lt;p&gt; hello $skill_knack_data[knackID]&quot;;
</I>&gt;<i> &gt;                array_push($s , $skill_knack_data[&quot;$knackID&quot;] );
</I>&gt;<i> &gt;                }
</I>&gt;<i> &gt;                echo &quot; &lt;p&gt; s[0] is $s[0]  &quot;;
</I>&gt;<i> &gt;}
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;If I comment out the included file and try the above code it gives output 
</I>&gt;<i> &gt;like this:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;s[0] is ! 
</I>&gt;<i> &gt;hello ambsh hello anmltn hello fshg hello sknng hello stlth hello srvl 
</I>&gt;<i> &gt;hello trkng hello trlsgns hello trps s[0] is
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;So the &quot;echo $skill_knack_data[knackID]&quot; line shows the short name is 
</I>&gt;<i> &gt;being gotten, I've just not gotten it onto the array. If I change the 
</I>&gt;<i> &gt;bottom &quot;s[0] is $s[0] to higher number it still shows nothing in the array.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;It seems easiest to build the array to match the included file, but there 
</I>&gt;<i> &gt;may be a better, easier way.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Thoughts? Suggestions? Crude comments?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;ciao!
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;leam
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;_______________________________________________
</I>&gt;<i> &gt;New York PHP Talk Mailing List
</I>&gt;<i> &gt;AMP Technology
</I>&gt;<i> &gt;Supporting Apache, MySQL and PHP
</I>&gt;<i> &gt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> &gt;<A HREF="http://www.nyphp.org">http://www.nyphp.org</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Talk Mailing List
</I>&gt;<i> AMP Technology
</I>&gt;<i> Supporting Apache, MySQL and PHP
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> <A HREF="http://www.nyphp.org">http://www.nyphp.org</A>
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="014682.html">[nycphp-talk] [OT] any interest in a newbie installfest	ofWordPress plus in NY or NJ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14681">[ date ]</a>
              <a href="thread.html#14681">[ thread ]</a>
              <a href="subject.html#14681">[ subject ]</a>
              <a href="author.html#14681">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

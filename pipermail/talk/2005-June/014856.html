<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Timing out in php batch
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-June/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Timing%20out%20in%20php%20batch&In-Reply-To=%3C002801c571d7%2474a67320%246501a8c0%40Libby%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014854.html">
   <LINK REL="Next"  HREF="014857.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Timing out in php batch</H1>
    <B>Eric Gewirtz</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Timing%20out%20in%20php%20batch&In-Reply-To=%3C002801c571d7%2474a67320%246501a8c0%40Libby%3E"
       TITLE="[nycphp-talk] Timing out in php batch">egewirtz at suscom.net
       </A><BR>
    <I>Wed Jun 15 14:24:17 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014854.html">[nycphp-talk] Timing out in php batch
</A></li>
        <LI>Next message: <A HREF="014857.html">[nycphp-talk] Timing out in php batch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14856">[ date ]</a>
              <a href="thread.html#14856">[ thread ]</a>
              <a href="subject.html#14856">[ subject ]</a>
              <a href="author.html#14856">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Dan - 

Can you point me to what you were reading?

Also, since we are running in batch we are running php (cli)

-bash-2.05b$ php -v
PHP 4.3.10 (cli) (built: Feb  3 2005 23:39:53)

When run in batch, the following returns &quot;0&quot; as documented to be
unlimited execution time
&lt;?php
ni_get(&quot;max_execution_time&quot;);
var_dump($t);
?&gt;

Yet, we are still timing out only when the machine is bogged down - when
run standalone the process always finishes in about 50 minutes of run
time.

Here is what I see in the manual -
 
There are certain php.ini directives which are overridden by the CLI
SAPI because they do not make sense in shell environments: 


Table 43-1. Overridden php.ini directives

Directive CLI SAPI default value Comment 
html_errors FALSE It can be quite hard to read the error message in your
shell when it's cluttered with all those meaningless HTML tags,
therefore this directive defaults to FALSE.  
implicit_flush TRUE It is desired that any output coming from print(),
echo() and friends is immediately written to the output and not cached
in any buffer. You still can use output buffering if you want to defer
or manipulate standard output.  
max_execution_time 0 (unlimited) Due to endless possibilities of using
PHP in shell environments, the maximum execution time has been set to
unlimited. Whereas applications written for the web are often executed
very quickly, shell application tend to have a much longer execution
time.  
register_argc_argv TRUE Because this setting is TRUE you will always
have access to argc (number of arguments passed to the application) and
argv (array of the actual arguments) in the CLI SAPI. 

As of PHP 4.3.0, the PHP variables $argc and $argv are registered and
filled in with the appropriate values when using the CLI SAPI. Prior to
this version, the creation of these variables behaved as they do in CGI
and MODULE versions which requires the PHP directive register_globals to
be on. Regardless of version or register_globals setting, you can always
go through either $_SERVER or $HTTP_SERVER_VARS. Example:
$_SERVER['argv'] 
 


Note: These directives cannot be initialized with another value from the
configuration file php.ini or a custom one (if specified). This is a
limitation because those default values are applied after all
configuration files have been parsed. However, their value can be
changed during runtime (which does not make sense for all of those
directives, e.g. register_argc_argv). 

Eric Gewirtz
SolutionOne
Phone - 845-729-7800
Fax     - 845-279-5502
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">egewirtz at rcn.com</A>
 

&gt;<i>-----Original Message-----
</I>&gt;<i>From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>
</I>[mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>] On
&gt;<i>Behalf Of Dan Cech
</I>&gt;<i>Sent: Wednesday, June 15, 2005 11:48 AM
</I>&gt;<i>To: NYPHP Talk
</I>&gt;<i>Subject: Re: [nycphp-talk] Timing out in php batch
</I>&gt;<i>
</I>&gt;<i>Maggie Cassidy wrote:
</I>&gt;&gt;<i> Isn't the set_time_limit/setting the max_execution_time irrelevant in
</I>&gt;<i>batch
</I>&gt;&gt;<i> mode/command line script?
</I>&gt;<i>
</I>&gt;<i>According to the manual page I referenced earlier, the
</I>&gt;<i>max_execution_time setting does not take into account time spent
</I>waiting
&gt;<i>for 'system calls using system(), stream operations, database queries,
</I>&gt;<i>etc.'.  As far as I am aware the timeout will still be in effect for
</I>the
&gt;<i>script itself, regardless of whether it is run from the command line,
</I>&gt;<i>cgi or apache module.
</I>&gt;<i>
</I>&gt;<i>Dan
</I>&gt;<i>_______________________________________________
</I>&gt;<i>New York PHP Talk Mailing List
</I>&gt;<i>AMP Technology
</I>&gt;<i>Supporting Apache, MySQL and PHP
</I>&gt;<i><A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i><A HREF="http://www.nyphp.org">http://www.nyphp.org</A>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014854.html">[nycphp-talk] Timing out in php batch
</A></li>
	<LI>Next message: <A HREF="014857.html">[nycphp-talk] Timing out in php batch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14856">[ date ]</a>
              <a href="thread.html#14856">[ thread ]</a>
              <a href="subject.html#14856">[ subject ]</a>
              <a href="author.html#14856">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] One Login for multiple sites
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-June/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20One%20Login%20for%20multiple%20sites&In-Reply-To=%3C20050621160602.GA11183%40panix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014891.html">
   <LINK REL="Next"  HREF="014892.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] One Login for multiple sites</H1>
    <B>Daniel Convissor</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20One%20Login%20for%20multiple%20sites&In-Reply-To=%3C20050621160602.GA11183%40panix.com%3E"
       TITLE="[nycphp-talk] One Login for multiple sites">danielc at analysisandsolutions.com
       </A><BR>
    <I>Tue Jun 21 12:06:02 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014891.html">[nycphp-talk] One Login for multiple sites
</A></li>
        <LI>Next message: <A HREF="014892.html">[nycphp-talk] [ OT ] - Best Beginners Regex Book
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14910">[ date ]</a>
              <a href="thread.html#14910">[ thread ]</a>
              <a href="subject.html#14910">[ subject ]</a>
              <a href="author.html#14910">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Jun 20, 2005 at 10:37:27AM -0400, John Nunez wrote:
&gt;<i> We have a database where we store articles for a web site.  We have  
</I>&gt;<i> begun a project to allow another site's users to access our articles.  
</I>&gt;<i> I thought that best and easiest method would be to have the user  
</I>&gt;<i> click on a link to our database site and that link passes and  
</I>&gt;<i> encrypted string that contains the user's information.
</I>
THE easiset solution for you is to grant the remote site read privileges 
on the database and let them sort out how to authenticate the users and 
display the information.

Anyway, if you do want to pass encrypted information in the URI, here's 
how I do it:

/**
 * encrypt a string using mcrypt, base64 and urlencode
 *
 * @link <A HREF="http://php.net/ref.mcrypt">http://php.net/ref.mcrypt</A>
 * @link <A HREF="http://ftp.emini.dk/pub/php/win32/mcrypt/">http://ftp.emini.dk/pub/php/win32/mcrypt/</A>
 * @link <A HREF="http://mcrypt.sourceforge.net/">http://mcrypt.sourceforge.net/</A>
 */
function encrypt_string($string) {
    return urlencode(
        base64_encode(
            mcrypt_encrypt(
                MCRYPT_BLOWFISH,
                'Your Passphrase Goes Here',
                $string,
                MCRYPT_MODE_ECB,
                mcrypt_create_iv(
                    mcrypt_get_iv_size(
                        MCRYPT_BLOWFISH,
                        MCRYPT_MODE_ECB
                    ),
                    MCRYPT_RAND
                )
            )
        )
    );
}

/**
 * decrypt a string using urldecode, base64 and mcrypt
 *
 * @link <A HREF="http://php.net/ref.mcrypt">http://php.net/ref.mcrypt</A>
 * @link <A HREF="http://ftp.emini.dk/pub/php/win32/mcrypt/">http://ftp.emini.dk/pub/php/win32/mcrypt/</A>
 * @link <A HREF="http://mcrypt.sourceforge.net/">http://mcrypt.sourceforge.net/</A>
 */
function decrypt_string($string) {
    return rtrim(
        mcrypt_decrypt(
            MCRYPT_BLOWFISH,
            'Your Passphrase Goes Here',
            base64_decode(urldecode($string)),
            MCRYPT_MODE_ECB,
            mcrypt_create_iv(
                mcrypt_get_iv_size(
                    MCRYPT_BLOWFISH,
                    MCRYPT_MODE_ECB
                ),
                MCRYPT_RAND
            )
        )
    );
}

--Dan

-- 
 T H E   A N A L Y S I S   A N D   S O L U T I O N S   C O M P A N Y
            data intensive web and database programming
                <A HREF="http://www.AnalysisAndSolutions.com/">http://www.AnalysisAndSolutions.com/</A>
 4015 7th Ave #4, Brooklyn NY 11232  v: 718-854-0335 f: 718-854-0409

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014891.html">[nycphp-talk] One Login for multiple sites
</A></li>
	<LI>Next message: <A HREF="014892.html">[nycphp-talk] [ OT ] - Best Beginners Regex Book
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14910">[ date ]</a>
              <a href="thread.html#14910">[ thread ]</a>
              <a href="subject.html#14910">[ subject ]</a>
              <a href="author.html#14910">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

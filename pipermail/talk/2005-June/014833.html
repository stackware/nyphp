<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Timing out in php batch
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-June/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Timing%20out%20in%20php%20batch&In-Reply-To=%3C01a601c57118%24e923f9d0%246501a8c0%40Libby%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014832.html">
   <LINK REL="Next"  HREF="014834.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Timing out in php batch</H1>
    <B>Eric Gewirtz</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Timing%20out%20in%20php%20batch&In-Reply-To=%3C01a601c57118%24e923f9d0%246501a8c0%40Libby%3E"
       TITLE="[nycphp-talk] Timing out in php batch">egewirtz at suscom.net
       </A><BR>
    <I>Tue Jun 14 15:40:24 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014832.html">[nycphp-talk] RE: Sending OCI array through XML_RPC
</A></li>
        <LI>Next message: <A HREF="014834.html">[nycphp-talk] Timing out in php batch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14833">[ date ]</a>
              <a href="thread.html#14833">[ thread ]</a>
              <a href="subject.html#14833">[ subject ]</a>
              <a href="author.html#14833">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We are having a time out issue running in php batch mode. It was my
understanding based on the php manual that the max_execution_time
parameter in php.ini is overridden by batch and set to unlimited, yet
our application is getting the following error.

 

&lt;b&gt;Fatal error&lt;/b&gt;:  Maximum execution time of 30 seconds exceeded in
&lt;b&gt;/home/abc/def_html/xxxxxxx/p2/prod/prodscript.php&lt;/b&gt; on line
&lt;b&gt;315&lt;/b&gt;&lt;br /&gt;

 

The process is a database OLTP oriented application so we are
'selecting' from a MySQL DB and we are you using mysqlimport to load
tables as well as insert / update / and delete processing using PEAR DB.
The process usually runs for about 45 minutes but when the machine has
other processing going on it could take up to 2 hours and occasionally
it times out :-(

 

In this particular case the code was reading a 400,000 plus record flat
ascii file to get a record count (I know we could have used 'wc -l' but
we are trying to do everything in php so we are platform and OS
independent). While this was going on another process was applying about
4.5 million transactions to database tables.

 

We have been running this code for almost a year and we do get this
error when we run a lot of scripts on the server at the same time. This
time the error message identified a specific line of code that caused
the time out but this is not consistent - it times out within other
areas of the code too.

 

Our hosted server is dedicated to us - it is a dual processor (2ghz) - 2
gig memory

The following is the output of 'uname -a' from the server ---&gt; Linux
xxxxxxx.xxxxxxx.com 2.4.30 #2 SMP Thu May 19 12:34:10 CDT 2005 i686 i686
i386 GNU/Linux

We are running php version 4.3.10

 

Any help would be appreciated - thanks

 

 

Eric Gewirtz

SolutionOne

Phone - 845-729-7800

Fax     - 845-279-5502

<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">egewirtz at rcn.com</A>

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20050614/b27dc8a0/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20050614/b27dc8a0/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014832.html">[nycphp-talk] RE: Sending OCI array through XML_RPC
</A></li>
	<LI>Next message: <A HREF="014834.html">[nycphp-talk] Timing out in php batch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14833">[ date ]</a>
              <a href="thread.html#14833">[ thread ]</a>
              <a href="subject.html#14833">[ subject ]</a>
              <a href="author.html#14833">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

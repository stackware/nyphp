<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Re: regexp for URLs (is this correct?)
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2004-May/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Re%3A%20regexp%20for%20URLs%20%28is%20this%20correct%3F%29&In-Reply-To=%3C4096FB1B.8010905%40ceruleansky.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009386.html">
   <LINK REL="Next"  HREF="009392.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Re: regexp for URLs (is this correct?)</H1>
    <B>Jayesh Sheth</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Re%3A%20regexp%20for%20URLs%20%28is%20this%20correct%3F%29&In-Reply-To=%3C4096FB1B.8010905%40ceruleansky.com%3E"
       TITLE="[nycphp-talk] Re: regexp for URLs (is this correct?)">jayeshsh at ceruleansky.com
       </A><BR>
    <I>Mon May  3 22:08:27 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="009386.html">[nycphp-talk] regexp for URLs (is this correct?)
</A></li>
        <LI>Next message: <A HREF="009392.html">[nycphp-talk] Re: regexp for URLs (is this correct?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9391">[ date ]</a>
              <a href="thread.html#9391">[ thread ]</a>
              <a href="subject.html#9391">[ subject ]</a>
              <a href="author.html#9391">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all,

thanks for the excellent pointers regarding URL validation.
I think that since I am only validating <A HREF="http://">http://</A> and <A HREF="https://">https://</A> URLs for 
now, the really (30 - 50 line) long one would be too much to incorporate 
for this job ...

But I just realized some things that were wrong with my previous regular 
expressions (those matching '<A HREF="http://www.google.com">http://www.google.com</A>' and 'www.google.com' 
respectively):

a) I could check for a optional slash at the end by using something like:
/?

b) In both cases, input such as the following would fail:
<A HREF="http://www.google.com/something/something.html">http://www.google.com/something/something.html</A>

OR
www.google.com/something/something.html

With a bit of experimenting (I really need to upload my interactive 
Perl-regex tester script to my public scripts area), I came up with the 
following:

/*
Should match:
<A HREF="http://www.google.com/something/something.html">http://www.google.com/something/something.html</A>
<A HREF="http://www.google.com/something/something">http://www.google.com/something/something</A>
<A HREF="http://www.google.com/something/something/">http://www.google.com/something/something/</A>
<A HREF="http://www.google.com/">http://www.google.com/</A>
<A HREF="http://www.google.com">http://www.google.com</A>
*/
#^(([a-z]{3,5})://)(([0-9a-z-]+\.)+[0-9a-z]{2,6})((/[0-9a-z-]*)+?/?([0-9a-z-.]*)+?)$#i

and
/*
Should match:
www.google.com/something/something.html
www.google.com/something/something
www.google.com/something/something/
www.google.com/
www.google.com
*/

#^(([0-9a-z-]+\.)+[0-9a-z]{2,6})((/[0-9a-z-]*)+?/?([0-9a-z-.]*)+?)$#i

It is getting close to my bed time now, so I am not sure how correct 
these are. I will do some more testing tomorrow. If, however, they do 
work, they might be of use to others.

If anyone finds anything wrong with them, please let me know.

Best Regards,
- Jay

PS: I changed my regexps to allow 6 letter domains ( .museum ) after 
reading some responses today. The [0-9a-z]{2,6} part, that is.
PPS: I will be using these expressions to mostly evaluate newly 
submitted URLs via a text input box. The other regexps that I posted 
recently were for batch validation (and transformation / import) of lots 
of invalid MySQL data. Thanks for the fopen() tip, David.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009386.html">[nycphp-talk] regexp for URLs (is this correct?)
</A></li>
	<LI>Next message: <A HREF="009392.html">[nycphp-talk] Re: regexp for URLs (is this correct?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9391">[ date ]</a>
              <a href="thread.html#9391">[ thread ]</a>
              <a href="subject.html#9391">[ subject ]</a>
              <a href="author.html#9391">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

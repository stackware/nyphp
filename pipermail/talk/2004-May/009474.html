<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] input..select help
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2004-May/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20input..select%20help&In-Reply-To=%3C20040510183319.GA29758%40panix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009468.html">
   <LINK REL="Next"  HREF="009467.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] input..select help</H1>
    <B>Daniel Convissor</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20input..select%20help&In-Reply-To=%3C20040510183319.GA29758%40panix.com%3E"
       TITLE="[nycphp-talk] input..select help">danielc at analysisandsolutions.com
       </A><BR>
    <I>Mon May 10 14:33:20 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="009468.html">[nycphp-talk] input..select help
</A></li>
        <LI>Next message: <A HREF="009467.html">[nycphp-talk] input..select help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9474">[ date ]</a>
              <a href="thread.html#9474">[ thread ]</a>
              <a href="subject.html#9474">[ subject ]</a>
              <a href="author.html#9474">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, May 10, 2004 at 01:00:47PM -0400, Scott Mattocks wrote:
&gt;<i> 
</I>&gt;<i> INSERT INTO table_b (field1, field2)
</I>&gt;<i> (SELECT table_a.field1, table_a.field2
</I>&gt;<i>  FROM table_a
</I>&gt;<i>   LEFT JOIN table_b
</I>&gt;<i>    ON (table_a.field1 = table_b.field1
</I>&gt;<i>        AND
</I>&gt;<i>        table_a.field2 = table_b.field2)
</I>&gt;<i>  WHERE table_b.field1 IS NULL
</I>&gt;<i>   AND table_b.field2 IS NULL)
</I>
While that would stop records already in table_b from being copied from
table_a, it would not stop duplicate records in table_a going into
table_b.  You could throw in a GROUP BY clause to take care of that.

All that aside, adding primary/unique keys is the way to go.

If tables already have duplicates but aren't keyed, like the original
poster said, then you've got to mysqldump the data, drop the old table,
change the table structure in the dumpped SQL data to add the indexes
needed and then rebuild/import the table/data.  Use the -f command line 
option that keeps SQL errors from stopping execution.

--Dan

-- 
 T H E   A N A L Y S I S   A N D   S O L U T I O N S   C O M P A N Y
            data intensive web and database programming
                <A HREF="http://www.AnalysisAndSolutions.com/">http://www.AnalysisAndSolutions.com/</A>
 4015 7th Ave #4, Brooklyn NY 11232  v: 718-854-0335 f: 718-854-0409

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009468.html">[nycphp-talk] input..select help
</A></li>
	<LI>Next message: <A HREF="009467.html">[nycphp-talk] input..select help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9474">[ date ]</a>
              <a href="thread.html#9474">[ thread ]</a>
              <a href="subject.html#9474">[ subject ]</a>
              <a href="author.html#9474">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

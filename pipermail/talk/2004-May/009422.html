<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] http headers &amp; measuring size of string in 'bits'
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2004-May/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20http%20headers%20%26%20measuring%20size%20of%20string%20in%20%27bits%27&In-Reply-To=%3C002301c432de%2416a8b460%248b01a8c0%40DB%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009418.html">
   <LINK REL="Next"  HREF="009425.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] http headers &amp; measuring size of string in 'bits'</H1>
    <B>Eric Rank</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20http%20headers%20%26%20measuring%20size%20of%20string%20in%20%27bits%27&In-Reply-To=%3C002301c432de%2416a8b460%248b01a8c0%40DB%3E"
       TITLE="[nycphp-talk] http headers &amp; measuring size of string in 'bits'">erank at isthmus.com
       </A><BR>
    <I>Wed May  5 16:18:11 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="009418.html">[nycphp-talk] Worst freelance offer of all time!
</A></li>
        <LI>Next message: <A HREF="009425.html">[nycphp-talk] http headers &amp; measuring size of string in 'bits'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9422">[ date ]</a>
              <a href="thread.html#9422">[ thread ]</a>
              <a href="subject.html#9422">[ subject ]</a>
              <a href="author.html#9422">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Howdy folks,

I'm working on generating a file on the fly by sending headers and echoing
out the content of the file. The trouble is that the php script that does
this makes a database query to retrieve the content, and it seems to cause
problems. Merely echoing out the string if content itself works fine. In
short, the process looks like this:

1. database is queried to retrieve the content based on some variables
passed to the page
2. content is built from the query
3. http headers are sent
4. finally the content is echoed out

for your curiosity, the headers are the following:

header('Content-Disposition: inline; filename=&quot;file.m3u&quot;');
header('Expires: 0');
header('Cache-Control: must-revalidate, post-check=0, pre-check=0');
header('Pragma: public');

Now, what's interesting is that when the query to the db is limited (eg. &quot;
LIMIT 30&quot;) to 30 or less results, it works. Any more, and it doesn't.

My first line of thought is that the connection is dying too quickly

I'm interested in trying out the 'connection: Keep-Alive' header to see if
it does anything, but I'm also thinking that a 'content-length' header might
be interesting. And that is why I am asking about measuring the file size of
a string. content-length expects units in octets (bits / 8).

Is there a way to measure the file size of a string?

Or even better, can anyone illuminate what might be happening?

Thanks,

Eric Rank


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009418.html">[nycphp-talk] Worst freelance offer of all time!
</A></li>
	<LI>Next message: <A HREF="009425.html">[nycphp-talk] http headers &amp; measuring size of string in 'bits'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9422">[ date ]</a>
              <a href="thread.html#9422">[ thread ]</a>
              <a href="subject.html#9422">[ subject ]</a>
              <a href="author.html#9422">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

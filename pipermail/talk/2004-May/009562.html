<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Output Buffering and Blank Page
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2004-May/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Output%20Buffering%20and%20Blank%20Page&In-Reply-To=%3Cd0cb92620405211137422deb1e%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009561.html">
   <LINK REL="Next"  HREF="009570.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Output Buffering and Blank Page</H1>
    <B>Thomas O'Neill</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Output%20Buffering%20and%20Blank%20Page&In-Reply-To=%3Cd0cb92620405211137422deb1e%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] Output Buffering and Blank Page">tommyo at gmail.com
       </A><BR>
    <I>Fri May 21 14:37:58 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="009561.html">[nycphp-talk] MySQL 4.0.10 Fulltext Search Relevancy Problem
</A></li>
        <LI>Next message: <A HREF="009570.html">[nycphp-talk] Output Buffering and Blank Page
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9562">[ date ]</a>
              <a href="thread.html#9562">[ thread ]</a>
              <a href="subject.html#9562">[ subject ]</a>
              <a href="author.html#9562">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Everyone!

I have a problem that is about half solved and I am looking for some
input from the group.

The site I work for has a large member base (~1000 - 3000 members
online at any given time)

We have output buffering turned on to improve performance.  It seems
to work great but on scripts that have large queries the user will see
a blank white page until the script finishes. Sometimes this can be
annoying when the script takes more then a few seconds to execute.

In order to avoid this I have come up with a scheme that works very
well but I would really appreciate some criticism/tips to improve it.

The Scheme is comprised of three parts the loading script, the process
script and the display script.

Loading Script
-----------------------------
Displays a cute loading icon and forwards GETS/POSTS to an embedded image.
When the page/image finishes loading (javascript onload) the page is
forwarded on to the display script.

Process Script (embedded image in the Loading Script)
-----------------------------
The process Script will do all the work and create the output that
normally is shot out to the screen after waiting for the white/blank
screen to go away.  When the script is finished the output is stored
to a session variable and the buffer cleared.  Finally a one pixal png
will be output so the Loading Script will know its done.

Display Script
-----------------------------
The user will be directed here after the process script is done.  If
the output of the process script is in the session variable it is
displayed and the session variable is unset.  The user sees the
results.

So at this point this little hack is working great in my staging area.
How will this scale to all of our users?  Is it safe to put the html
(about 1k) into the sessions for that many people at the same time? Am
I going at this problem all wrong?

Thanks in advance everyone!

TOM O'NEILL

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009561.html">[nycphp-talk] MySQL 4.0.10 Fulltext Search Relevancy Problem
</A></li>
	<LI>Next message: <A HREF="009570.html">[nycphp-talk] Output Buffering and Blank Page
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9562">[ date ]</a>
              <a href="thread.html#9562">[ thread ]</a>
              <a href="subject.html#9562">[ subject ]</a>
              <a href="author.html#9562">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

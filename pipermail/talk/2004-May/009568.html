<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] SQL statement question
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2004-May/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20SQL%20statement%20question&In-Reply-To=%3C40B11FFB.2010700%40computer.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009567.html">
   <LINK REL="Next"  HREF="009569.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] SQL statement question</H1>
    <B>Bill Patterson</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20SQL%20statement%20question&In-Reply-To=%3C40B11FFB.2010700%40computer.org%3E"
       TITLE="[nycphp-talk] SQL statement question">patterson at computer.org
       </A><BR>
    <I>Sun May 23 18:04:43 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="009567.html">[nycphp-talk] SQL statement question
</A></li>
        <LI>Next message: <A HREF="009569.html">[nycphp-talk] SQL statement question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9568">[ date ]</a>
              <a href="thread.html#9568">[ thread ]</a>
              <a href="subject.html#9568">[ subject ]</a>
              <a href="author.html#9568">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>*mysql&gt; select a.Student_FID from TMPhistory a, TMPhistory b
    -&gt; where a.Student_FID = b.Student_FID
    -&gt; and a.Course_FID = 5 and b.Course_FID = 2;
+-------------+
|<i> Student_FID |
</I>+-------------+
|<i>          34 |
</I>+-------------+*

to find out about 3 courses just add another alias for your table

Bill


harvey wrote:

&gt;<i> Hello,
</I>&gt;<i>  
</I>&gt;<i> I'm going to create a MySql table that looks something like the 
</I>&gt;<i> following (I think). It's a history of courses taken by students.
</I>&gt;<i>  
</I>&gt;<i> History_ID Student_FID Course_FID
</I>&gt;<i> 1          34          2
</I>&gt;<i> 2          17          7
</I>&gt;<i> 3          21          5
</I>&gt;<i> 4          02          5
</I>&gt;<i> 5          34          5
</I>&gt;<i> 6          17          4
</I>&gt;<i> ...        ...         ...
</I>&gt;<i>  
</I>&gt;<i> I'd like to be able to say which students have met the requirements of 
</I>&gt;<i> certain programs. So, I need a statement that will produce a list of 
</I>&gt;<i> Student_FID's that are matched with a particular set of Course_FID's. 
</I>&gt;<i> For instance, which students took both course 5 and course 2?
</I>&gt;<i>  
</I>&gt;<i> So, I'm trying subqueries to find students who have taken courses 
</I>&gt;<i> 1,2,and 3:
</I>&gt;<i>  
</I>&gt;<i> &quot;SELECT *
</I>&gt;<i>  FROM
</I>&gt;<i>  (SELECT *
</I>&gt;<i>   FROM
</I>&gt;<i>   (SELECT *
</I>&gt;<i>    FROM history
</I>&gt;<i>    WHERE course_fid = 3)
</I>&gt;<i>    AS id3
</I>&gt;<i>   WHERE course_fid = 2)
</I>&gt;<i>   AS id2
</I>&gt;<i>  WHERE course_fid = 1&quot;
</I>&gt;<i>  
</I>&gt;<i> I get an error that my sql syntax is wrong. Maybe it is. Or maybe my 
</I>&gt;<i> host's version of MySQL is too old? Is there a better SQL statement? 
</I>&gt;<i> Any help is appreciated...
</I>&gt;<i>  
</I>&gt;<i> Thanks!
</I>&gt;<i>
</I>&gt;<i>------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i>_______________________________________________
</I>&gt;<i>talk mailing list
</I>&gt;<i><A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>
</I>&gt;<i><A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>  
</I>&gt;<i>
</I>


&gt;<i>From hans not <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">junk at nyphp.com</A>  Sun May 23 18:59:05 2004
</I>Return-Path: &lt;hans not <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">junk at nyphp.com</A>&gt;
Received: from ehost011-1.intermedia.net (ehost011-1.intermedia.net
	[64.78.21.3]) by virtu.nyphp.org (Postfix) with ESMTP id 10B55A85EA
	for &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>&gt;; Sun, 23 May 2004 18:59:05 -0400 (EDT)
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset=&quot;us-ascii&quot;
Content-Transfer-Encoding: quoted-printable
Subject: RE: [nycphp-talk] SQL statement question
Date: Sun, 23 May 2004 15:59:01 -0700
Message-ID: &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">41EE526EC2D3C74286415780D3BA9F870221406B at ehost011-1.exch011.intermedia.net</A>&gt;
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [nycphp-talk] SQL statement question
Thread-Index: AcRBDovpUA2oBRwbTISP1/4/K1jgUQAAjh9g
From: &quot;Hans Zaunere&quot; &lt;hans not <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">junk at nyphp.com</A>&gt;
To: &quot;NYPHP Talk&quot; &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>&gt;
X-BeenThere: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>
X-Mailman-Version: 2.1.4
Precedence: list
Reply-To: NYPHP Talk &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>&gt;
List-Id: NYPHP Talk &lt;talk.lists.nyphp.org&gt;
List-Unsubscribe: &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>&gt;,
	&lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-request at lists.nyphp.org</A>?subject=unsubscribe&gt;
List-Archive: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk">http://lists.nyphp.org/pipermail/talk</A>&gt;
List-Post: &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>&gt;
List-Help: &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-request at lists.nyphp.org</A>?subject=help&gt;
List-Subscribe: &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>&gt;,
	&lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-request at lists.nyphp.org</A>?subject=subscribe&gt;
X-List-Received-Date: Sun, 23 May 2004 22:59:05 -0000


&gt;<i> Hello,
</I>&gt;<i> =20
</I>&gt;<i> I'm going to create a MySql table that looks something like=20
</I>&gt;<i> the following (I think). It's a history of courses taken by students.
</I>&gt;<i> =20
</I>&gt;<i> History_ID Student_FID Course_FID
</I>&gt;<i> 1          34          2
</I>&gt;<i> 2          17          7
</I>&gt;<i> 3          21          5
</I>&gt;<i> 4          02          5
</I>&gt;<i> 5          34          5
</I>&gt;<i> 6          17          4
</I>&gt;<i> ...        ...         ...
</I>&gt;<i> =20
</I>&gt;<i> I'd like to be able to say which students have met the=20
</I>&gt;<i> requirements of certain programs. So, I need a statement that=20
</I>&gt;<i> will produce a list of Student_FID's that are matched with a=20
</I>&gt;<i> particular set of Course_FID's. For instance, which students=20
</I>&gt;<i> took both course 5 and course 2?=20
</I>&gt;<i> =20
</I>&gt;<i> So, I'm trying subqueries to find students who have taken=20
</I>&gt;<i> courses 1,2,and 3:
</I>&gt;<i> =20
</I>&gt;<i> &quot;SELECT *
</I>&gt;<i>  FROM
</I>&gt;<i>  (SELECT *
</I>&gt;<i>   FROM
</I>&gt;<i>   (SELECT *
</I>&gt;<i>    FROM history
</I>&gt;<i>    WHERE course_fid =3D 3)
</I>&gt;<i>    AS id3
</I>&gt;<i>   WHERE course_fid =3D 2)
</I>&gt;<i>   AS id2
</I>&gt;<i>  WHERE course_fid =3D 1&quot;
</I>&gt;<i> =20
</I>&gt;<i> I get an error that my sql syntax is wrong. Maybe it is. Or=20
</I>&gt;<i> maybe my host's version of MySQL is too old? Is there a=20
</I>&gt;<i> better SQL statement? Any help is appreciated...
</I>
Unless you're using MySQL 4.1 or later (which I doubt, since it's not
production level yet) sub-queries are not supported.

To answer your question &quot;which students took both course 5 and course
2?&quot; I'd recommend a query like this (assuming History_FID is unique):

SELECT H1.Student_FID
FROM history H1 LEFT JOIN history H2 ON H2.History_ID=3DH1.History_ID
WHERE H1.Course_FID =3D '5' AND H2.Course_FID =3D '2'

H



&gt;<i>From hans not <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">junk at nyphp.com</A>  Sun May 23 19:00:51 2004
</I>Return-Path: &lt;hans not <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">junk at nyphp.com</A>&gt;
Received: from ehost011-1.intermedia.net (ehost011-1.intermedia.net
	[64.78.21.3]) by virtu.nyphp.org (Postfix) with ESMTP id 0CEE8A85EA
	for &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>&gt;; Sun, 23 May 2004 19:00:51 -0400 (EDT)
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset=&quot;us-ascii&quot;
Content-Transfer-Encoding: quoted-printable
Subject: RE: [nycphp-talk] Output Buffering and Blank Page
Date: Sun, 23 May 2004 16:00:47 -0700
Message-ID: &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">41EE526EC2D3C74286415780D3BA9F870221406D at ehost011-1.exch011.intermedia.net</A>&gt;
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [nycphp-talk] Output Buffering and Blank Page
Thread-Index: AcQ/YsC9rAc7NbeqQNmvr5wsOvSy/QBtueEg
From: &quot;Hans Zaunere&quot; &lt;hans not <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">junk at nyphp.com</A>&gt;
To: &quot;NYPHP Talk&quot; &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>&gt;
X-BeenThere: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>
X-Mailman-Version: 2.1.4
Precedence: list
Reply-To: NYPHP Talk &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>&gt;
List-Id: NYPHP Talk &lt;talk.lists.nyphp.org&gt;
List-Unsubscribe: &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>&gt;,
	&lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-request at lists.nyphp.org</A>?subject=unsubscribe&gt;
List-Archive: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk">http://lists.nyphp.org/pipermail/talk</A>&gt;
List-Post: &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>&gt;
List-Help: &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-request at lists.nyphp.org</A>?subject=help&gt;
List-Subscribe: &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>&gt;,
	&lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-request at lists.nyphp.org</A>?subject=subscribe&gt;
X-List-Received-Date: Sun, 23 May 2004 23:00:51 -0000


&gt;<i> I have a problem that is about half solved and I am looking=20
</I>&gt;<i> for some input from the group.
</I>&gt;<i>=20
</I>&gt;<i> The site I work for has a large member base (~1000 - 3000=20
</I>&gt;<i> members online at any given time)
</I>&gt;<i>=20
</I>&gt;<i> We have output buffering turned on to improve performance. =20
</I>&gt;<i> It seems to work great but on scripts that have large queries=20
</I>&gt;<i> the user will see a blank white page until the script=20
</I>&gt;<i> finishes. Sometimes this can be annoying when the script=20
</I>&gt;<i> takes more then a few seconds to execute.
</I>&gt;<i>=20
</I>&gt;<i> In order to avoid this I have come up with a scheme that=20
</I>&gt;<i> works very well but I would really appreciate some=20
</I>&gt;<i> criticism/tips to improve it.
</I>&gt;<i>=20
</I>&gt;<i> The Scheme is comprised of three parts the loading script,=20
</I>&gt;<i> the process script and the display script.
</I>&gt;<i>=20
</I>&gt;<i> Loading Script
</I>&gt;<i> -----------------------------
</I>&gt;<i> Displays a cute loading icon and forwards GETS/POSTS to an=20
</I>&gt;<i> embedded image.
</I>&gt;<i> When the page/image finishes loading (javascript onload) the=20
</I>&gt;<i> page is forwarded on to the display script.
</I>&gt;<i>=20
</I>&gt;<i> Process Script (embedded image in the Loading Script)
</I>&gt;<i> -----------------------------
</I>&gt;<i> The process Script will do all the work and create the output=20
</I>&gt;<i> that normally is shot out to the screen after waiting for the=20
</I>&gt;<i> white/blank screen to go away.  When the script is finished=20
</I>&gt;<i> the output is stored to a session variable and the buffer=20
</I>&gt;<i> cleared.  Finally a one pixal png will be output so the=20
</I>&gt;<i> Loading Script will know its done.
</I>&gt;<i>=20
</I>&gt;<i> Display Script
</I>&gt;<i> -----------------------------
</I>&gt;<i> The user will be directed here after the process script is=20
</I>&gt;<i> done.  If the output of the process script is in the session=20
</I>&gt;<i> variable it is displayed and the session variable is unset. =20
</I>&gt;<i> The user sees the results.
</I>&gt;<i>=20
</I>&gt;<i> So at this point this little hack is working great in my staging area.
</I>&gt;<i> How will this scale to all of our users?  Is it safe to put=20
</I>&gt;<i> the html (about 1k) into the sessions for that many people at=20
</I>&gt;<i> the same time? Am I going at this problem all wrong?
</I>
I'm by no means an expert is browser and JS tricks, but it sounds like a
clever way of doing it.  Clever enough even for a presentation?  :)  It
seems to be a common issue people need to resolve.

H


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009567.html">[nycphp-talk] SQL statement question
</A></li>
	<LI>Next message: <A HREF="009569.html">[nycphp-talk] SQL statement question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9568">[ date ]</a>
              <a href="thread.html#9568">[ thread ]</a>
              <a href="subject.html#9568">[ subject ]</a>
              <a href="author.html#9568">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

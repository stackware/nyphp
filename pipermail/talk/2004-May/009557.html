<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] pear makerpm
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2004-May/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20pear%20makerpm&In-Reply-To=%3C0HY200AHEBU99U%40mta2.srv.hcvlny.cv.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009556.html">
   <LINK REL="Next"  HREF="009558.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] pear makerpm</H1>
    <B>Tom</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20pear%20makerpm&In-Reply-To=%3C0HY200AHEBU99U%40mta2.srv.hcvlny.cv.net%3E"
       TITLE="[nycphp-talk] pear makerpm">tom at supertom.com
       </A><BR>
    <I>Fri May 21 08:10:44 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="009556.html">[nycphp-talk] pear makerpm
</A></li>
        <LI>Next message: <A HREF="009558.html">[nycphp-talk] New Functions on old PHP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9557">[ date ]</a>
              <a href="thread.html#9557">[ thread ]</a>
              <a href="subject.html#9557">[ subject ]</a>
              <a href="author.html#9557">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I guess I should have included that - here it is below - generated from
PEAR:

In one of the PEAR directories, there template.spec file, and this just gets
the specific values swapped in.


Summary: PEAR: Framework to benchmark PHP scripts or function calls.
Name: PEAR::Benchmark
Version: 1.2.1
Release: 1
License: PHP License
Group: Development/Libraries
Source: <A HREF="http://pear.php.net/get/Benchmark-%{version">http://pear.php.net/get/Benchmark-%{version</A>}.tgz
BuildRoot: %{_tmppath}/%{name}-root
URL: <A HREF="http://pear.php.net/">http://pear.php.net/</A>
Prefix: %{_prefix}
#Docdir: /usr/share/pear/docs/Benchmark
BuildArchitectures: noarch


%description
Framework to benchmark PHP scripts or function calls.

%prep
rm -rf %{buildroot}/*
# XXX Source files location is missing here in pear cmd
pear -v -c %{buildroot}/pearrc \
        -d php_dir=%{_libdir}/php/pear \
        -d doc_dir=/docs \
        -d bin_dir=%{_bindir} \
        -d data_dir=%{_libdir}/php/pear/data \
        -d test_dir=%{_libdir}/php/pear/tests \
        -d ext_dir=%{_libdir} \
        -s

%build
echo BuildRoot=%{buildroot}

%postun
pear uninstall --nodeps -r Benchmark
rm /var/lib/pear/Benchmark.xml

%post
pear install --nodeps -r /var/lib/pear/Benchmark.xml

%install
pear -c %{buildroot}/pearrc install --nodeps -R %{buildroot} \
        $RPM_SOURCE_DIR/Benchmark-%{version}.tgz
rm %{buildroot}/pearrc
rm %{buildroot}/%{_libdir}/php/pear/.filemap
rm %{buildroot}/%{_libdir}/php/pear/.lock
rm -rf %{buildroot}/%{_libdir}/php/pear/.registry
if [ -d &quot;%{buildroot}/docs/Benchmark/doc&quot; ]; then
    rm -rf $RPM_BUILD_DIR/doc
    mv %{buildroot}/docs/Benchmark/doc $RPM_BUILD_DIR
    rm -rf %{buildroot}/docs
fi
mkdir -p %{buildroot}/var/lib/pear
tar -xzf $RPM_SOURCE_DIR/Benchmark-%{version}.tgz package.xml
cp -p package.xml %{buildroot}/var/lib/pear/Benchmark.xml

#rm -rf %{buildroot}/*
#pear -q install -R %{buildroot} -n package.xml
#mkdir -p %{buildroot}/var/lib/pear
#cp -p package.xml %{buildroot}/var/lib/pear/Benchmark.xml

%files
    %defattr(-,root,root)
    %doc  doc/timer_example.php
    /


 

-----Original Message-----
From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A> [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>] On
Behalf Of leam
Sent: Friday, May 21, 2004 4:35 AM
To: NYPHP Talk
Subject: Re: [nycphp-talk] pear makerpm

Tom wrote:
&gt;<i> Hey folks,
</I>&gt;<i>  
</I>&gt;<i> Anyone have experience with the makerpm option in PEAR?  I can 
</I>&gt;<i> generate the SPEC file just fine, but I can't build the rpm with 
</I>&gt;<i> rpmbuild -bb, as it says in the manual.  I have the source tarball in 
</I>&gt;<i> the SOURCES directory, and the SPEC file in the SPECS directory.  The
</I>error that I receive is:
&gt;<i>  
</I>&gt;<i> error: Bad exit status from /var/tmp/rpm-tmp.31347 (%prep)
</I>&gt;<i>  
</I>&gt;<i> I get a similar error for any of the packages that I try to build.
</I>
&gt;<i> Can anyone shed some light on these?
</I>&gt;<i>  
</I>&gt;<i> Thanks,
</I>&gt;<i>  
</I>&gt;<i> Tom
</I>&gt;<i> www.liphp.org
</I>
I don't know that much, but can you send the spec file? The (%prep) stanza
may need looking at.

ciao!

leam

_______________________________________________
talk mailing list
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009556.html">[nycphp-talk] pear makerpm
</A></li>
	<LI>Next message: <A HREF="009558.html">[nycphp-talk] New Functions on old PHP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9557">[ date ]</a>
              <a href="thread.html#9557">[ thread ]</a>
              <a href="subject.html#9557">[ subject ]</a>
              <a href="author.html#9557">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

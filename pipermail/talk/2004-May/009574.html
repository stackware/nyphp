<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] SQL statement question
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2004-May/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20SQL%20statement%20question&In-Reply-To=%3C065101c4418e%24d4b01ed0%240200a8c0%40desktop%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009572.html">
   <LINK REL="Next"  HREF="009573.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] SQL statement question</H1>
    <B>harvey</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20SQL%20statement%20question&In-Reply-To=%3C065101c4418e%24d4b01ed0%240200a8c0%40desktop%3E"
       TITLE="[nycphp-talk] SQL statement question">list at harveyk.com
       </A><BR>
    <I>Mon May 24 08:58:31 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="009572.html">[nycphp-talk] SQL statement question
</A></li>
        <LI>Next message: <A HREF="009573.html">[nycphp-talk] Output Buffering and Blank Page
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9574">[ date ]</a>
              <a href="thread.html#9574">[ thread ]</a>
              <a href="subject.html#9574">[ subject ]</a>
              <a href="author.html#9574">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks, that works too. Thanks to everyone for your help. I didn't realize
there would be so many different ways to approach the same issue. Is there
an online resource you would recommend to learn more about 'advanced' sql
queries? This seems to be a pretty good start, but there's not much
explanation, and it's not complete:
<A HREF="http://www.w3schools.com/sql/default.asp.">http://www.w3schools.com/sql/default.asp.</A> Thanks again...


----- Original Message ----- 
From: &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">drydell at att.net</A>&gt;
To: &quot;NYPHP Talk&quot; &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>&gt;
Sent: Sunday, May 23, 2004 11:19 PM
Subject: Re: [nycphp-talk] SQL statement question


&gt;<i> you could take another approach which avoids table joins and is easier to
</I>extend with more courses:
&gt;<i>
</I>&gt;<i> $courses = array(2, 5...etc);
</I>&gt;<i>
</I>&gt;<i> $sql = 'SELECT count(*), student_FID FROM TMPHistory WHERE Course_FID in
</I>('.implode(',', $courses).') group by student_FID having count(*) =
'.count($courses);
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; I called it TMPhistory on my system so that I would know to drop it
</I>&gt;<i> &gt; later.  The name you choose is up to you, so calling the table &quot;history&quot;
</I>&gt;<i> &gt; should be fine.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; To get just one answer (supposing there are more registration rows per
</I>&gt;<i> &gt; student per course) you can place the word &quot;distinct&quot; before the name of
</I>&gt;<i> &gt; the column you are selecting (and be sure not to select a unique column
</I>&gt;<i> &gt; like History_ID):
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; SELECT distinct a.student_fid from TMPhistory a, TMPhistory b,
</I>TMPhistory c
&gt;<i> &gt; WHERE a.student_fid = b.student_fid = c.student_fid
</I>&gt;<i> &gt; AND a.course_fid = 1 AND b.course_fid = 2 AND c.course_fid = 3
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Bill
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; harvey wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt;Thanks, Bill.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;I tried the following, but I get an error that table TMPhistory does
</I>not
&gt;<i> &gt; &gt;exist. Do I have to somehow create the temporary tables first?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;SELECT a.student_fid from TMPhistory a, TMPhistory b, TMPhistory c
</I>&gt;<i> &gt; &gt;WHERE a.student_fid = b.student_fid = c.student_fid
</I>&gt;<i> &gt; &gt;AND a.course_fid = 1 AND b.course_fid = 2 AND c.course_fid = 3
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;Also, I tried the following and it works, sort of:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;select * from history
</I>&gt;<i> &gt; &gt;inner join history as t1 using (student_fid)
</I>&gt;<i> &gt; &gt;inner join history as t2 using (student_fid)
</I>&gt;<i> &gt; &gt;inner join history as t3 using (student_fid)
</I>&gt;<i> &gt; &gt;where (t1.course_fid = 1)
</I>&gt;<i> &gt; &gt;and (t2.course_fid = 2)
</I>&gt;<i> &gt; &gt;and (t3.course_fid = 3)
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;I get the correct student_fid, but I get it 3 times, I guess because it
</I>&gt;<i> &gt; &gt;shows up 3 times (once in each of the tables). Is there any way to just
</I>get
&gt;<i> &gt; &gt;unique student_fid's?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;Thanks for your help.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;----- Original Message ----- 
</I>&gt;<i> &gt; &gt;From: &quot;Bill Patterson&quot; &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">patterson at computer.org</A>&gt;
</I>&gt;<i> &gt; &gt;To: &quot;NYPHP Talk&quot; &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>&gt;
</I>&gt;<i> &gt; &gt;Sent: Sunday, May 23, 2004 6:04 PM
</I>&gt;<i> &gt; &gt;Subject: Re: [nycphp-talk] SQL statement question
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;*mysql&gt; select a.Student_FID from TMPhistory a, TMPhistory b
</I>&gt;<i> &gt; &gt;&gt;    -&gt; where a.Student_FID = b.Student_FID
</I>&gt;<i> &gt; &gt;&gt;    -&gt; and a.Course_FID = 5 and b.Course_FID = 2;
</I>&gt;<i> &gt; &gt;&gt;+-------------+
</I>&gt;<i> &gt; &gt;&gt;| Student_FID |
</I>&gt;<i> &gt; &gt;&gt;+-------------+
</I>&gt;<i> &gt; &gt;&gt;|          34 |
</I>&gt;<i> &gt; &gt;&gt;+-------------+*
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;to find out about 3 courses just add another alias for your table
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;Bill
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;harvey wrote:
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;Hello,
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;I'm going to create a MySql table that looks something like the
</I>&gt;<i> &gt; &gt;&gt;&gt;following (I think). It's a history of courses taken by students.
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;History_ID Student_FID Course_FID
</I>&gt;<i> &gt; &gt;&gt;&gt;1          34          2
</I>&gt;<i> &gt; &gt;&gt;&gt;2          17          7
</I>&gt;<i> &gt; &gt;&gt;&gt;3          21          5
</I>&gt;<i> &gt; &gt;&gt;&gt;4          02          5
</I>&gt;<i> &gt; &gt;&gt;&gt;5          34          5
</I>&gt;<i> &gt; &gt;&gt;&gt;6          17          4
</I>&gt;<i> &gt; &gt;&gt;&gt;...        ...         ...
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;I'd like to be able to say which students have met the requirements
</I>of
&gt;<i> &gt; &gt;&gt;&gt;certain programs. So, I need a statement that will produce a list of
</I>&gt;<i> &gt; &gt;&gt;&gt;Student_FID's that are matched with a particular set of Course_FID's.
</I>&gt;<i> &gt; &gt;&gt;&gt;For instance, which students took both course 5 and course 2?
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;So, I'm trying subqueries to find students who have taken courses
</I>&gt;<i> &gt; &gt;&gt;&gt;1,2,and 3:
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;&quot;SELECT *
</I>&gt;<i> &gt; &gt;&gt;&gt; FROM
</I>&gt;<i> &gt; &gt;&gt;&gt; (SELECT *
</I>&gt;<i> &gt; &gt;&gt;&gt;  FROM
</I>&gt;<i> &gt; &gt;&gt;&gt;  (SELECT *
</I>&gt;<i> &gt; &gt;&gt;&gt;   FROM history
</I>&gt;<i> &gt; &gt;&gt;&gt;   WHERE course_fid = 3)
</I>&gt;<i> &gt; &gt;&gt;&gt;   AS id3
</I>&gt;<i> &gt; &gt;&gt;&gt;  WHERE course_fid = 2)
</I>&gt;<i> &gt; &gt;&gt;&gt;  AS id2
</I>&gt;<i> &gt; &gt;&gt;&gt; WHERE course_fid = 1&quot;
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;I get an error that my sql syntax is wrong. Maybe it is. Or maybe my
</I>&gt;<i> &gt; &gt;&gt;&gt;host's version of MySQL is too old? Is there a better SQL statement?
</I>&gt;<i> &gt; &gt;&gt;&gt;Any help is appreciated...
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;Thanks!
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;&gt;&gt;<i>------------------------------------------------------------------------
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;_______________________________________________
</I>&gt;<i> &gt; &gt;&gt;&gt;talk mailing list
</I>&gt;<i> &gt; &gt;&gt;&gt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>
</I>&gt;<i> &gt; &gt;&gt;&gt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;_______________________________________________
</I>&gt;<i> &gt; &gt;&gt;talk mailing list
</I>&gt;<i> &gt; &gt;&gt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>
</I>&gt;<i> &gt; &gt;&gt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;_______________________________________________
</I>&gt;<i> &gt; &gt;talk mailing list
</I>&gt;<i> &gt; &gt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>
</I>&gt;<i> &gt; &gt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; talk mailing list
</I>&gt;<i> &gt; <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>
</I>&gt;<i> &gt; <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> talk mailing list
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009572.html">[nycphp-talk] SQL statement question
</A></li>
	<LI>Next message: <A HREF="009573.html">[nycphp-talk] Output Buffering and Blank Page
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9574">[ date ]</a>
              <a href="thread.html#9574">[ thread ]</a>
              <a href="subject.html#9574">[ subject ]</a>
              <a href="author.html#9574">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] NYPHP cringed at AJAX almost a year ago.... now JS	exploit &quot;level 3&quot;
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-October/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20NYPHP%20cringed%20at%20AJAX%20almost%20a%20year%20ago....%20now%20JS%0A%09exploit%20%22level%203%22&In-Reply-To=%3Cb76252690510140652m42694997r66787f1837b6b41c%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016287.html">
   <LINK REL="Next"  HREF="016291.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] NYPHP cringed at AJAX almost a year ago.... now JS	exploit &quot;level 3&quot;</H1>
    <B>csnyder</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20NYPHP%20cringed%20at%20AJAX%20almost%20a%20year%20ago....%20now%20JS%0A%09exploit%20%22level%203%22&In-Reply-To=%3Cb76252690510140652m42694997r66787f1837b6b41c%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] NYPHP cringed at AJAX almost a year ago.... now JS	exploit &quot;level 3&quot;">chsnyder at gmail.com
       </A><BR>
    <I>Fri Oct 14 09:52:21 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="016287.html">[nycphp-talk] NYPHP cringed at AJAX almost a year ago.... now JS exploit &quot;level 3&quot;
</A></li>
        <LI>Next message: <A HREF="016291.html">[nycphp-talk] NYPHP cringed at AJAX almost a year ago.... now JS exploit &quot;level 3&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16288">[ date ]</a>
              <a href="thread.html#16288">[ thread ]</a>
              <a href="subject.html#16288">[ subject ]</a>
              <a href="author.html#16288">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/13/05, inforequest &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">1j0lkq002 at sneakemail.com</A>&gt; wrote:

&gt;<i> Since then we have AJAX everywhere. And now we have a hack that's being
</I>&gt;<i> called a new &quot;level 3&quot; exploit. See <A HREF="http://e-scribe.com/news/103">http://e-scribe.com/news/103</A> and
</I>&gt;<i> <A HREF="http://namb.la/popular/tech.html">http://namb.la/popular/tech.html</A>
</I>&gt;<i>
</I>
Hmm, you can chase the buzzword and call this an AJAX hack, but it is
really plain old cross-site scripting vulnerability. MySpace wasn't
properly sanitizing user-submitted markup, and these guys were able to
sneak some JavaScript in.

It's a pretty great hack nonetheless. They used XMLHTTPRequest to make
requests in the background that a user would never notice, which is
what makes it AJAXy.

Two lessons learned:

1) If you allow markup, use a serious sanitizer ... something like
<A HREF="http://chxo.com/scripts/safe_html/">http://chxo.com/scripts/safe_html/</A> or one of the others discussed
previously on this list

2) Take steps to prevent forged form submissions ... for an excellent
tutorial, see <A HREF="http://shiflett.org/articles/security-corner-dec2004.">http://shiflett.org/articles/security-corner-dec2004.</A>

But further to number 2, if you don't have protection against
JavaScript there isn't much you can do to secure your forms. Even the
random token method that Chris describes can be foiled if the attacker
is scripting XMLHTTPRequests, because the script can request and then
POST a valid form, without the user ever knowing it.

Neato.

--
Chris Snyder
<A HREF="http://chxo.com/">http://chxo.com/</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016287.html">[nycphp-talk] NYPHP cringed at AJAX almost a year ago.... now JS exploit &quot;level 3&quot;
</A></li>
	<LI>Next message: <A HREF="016291.html">[nycphp-talk] NYPHP cringed at AJAX almost a year ago.... now JS exploit &quot;level 3&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16288">[ date ]</a>
              <a href="thread.html#16288">[ thread ]</a>
              <a href="subject.html#16288">[ subject ]</a>
              <a href="author.html#16288">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

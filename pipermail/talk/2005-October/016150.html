<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Bug in PHundamentals function?
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-October/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Bug%20in%20PHundamentals%20function%3F&In-Reply-To=%3C43419B00.8030107%40email.smith.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016243.html">
   <LINK REL="Next"  HREF="016151.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Bug in PHundamentals function?</H1>
    <B>Aaron Fischer</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Bug%20in%20PHundamentals%20function%3F&In-Reply-To=%3C43419B00.8030107%40email.smith.edu%3E"
       TITLE="[nycphp-talk] Bug in PHundamentals function?">agfische at email.smith.edu
       </A><BR>
    <I>Mon Oct  3 16:56:32 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="016243.html">[nycphp-talk] Any success/failures with PHP/Java bridge?
</A></li>
        <LI>Next message: <A HREF="016151.html">[nycphp-talk] Bug in PHundamentals function?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16150">[ date ]</a>
              <a href="thread.html#16150">[ thread ]</a>
              <a href="subject.html#16150">[ subject ]</a>
              <a href="author.html#16150">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've been thinking of implementing the PHundamentals function for fixing 
magic quotes when on a shared server:
(<A HREF="http://www.nyphp.org/phundamentals/storingretrieving.php">http://www.nyphp.org/phundamentals/storingretrieving.php</A>)

The line in question:
return $sybase ? str_replace ('\'\'', '\'', $var) : stripslashes ($var);

I broke the str_replace and stripslashes out into separate code to test 
and make sure I understand what was going on.

When testing, the str_replace wasn't working as is with the search and 
replace string surrounded by single quotes.  After checking the php 
manual , I changed the search and replace text to be surrounded by 
double quotes and it worked correctly.

Should the PHundamentals function be changed to have double quotes? 

Here's the code I used to test:

    // test sybase str_replace with single quotes - doesn't appear to 
produce desired result
    echo '&lt;br /&gt;&lt;br /&gt;';
    $sb_string = &quot;I\'\'m heading out on the road&quot;;
    $sb_string_new = str_replace('\'\'', '\'', $sb_string);
    echo 'Sybase string is ' . $sb_string . '&lt;br /&gt;';
    echo 'String replace produces ' . $sb_string_new . '&lt;br /&gt;';
   
    // test sybase str_replace with double quotes - appears to produce 
desired result
    echo '&lt;br /&gt;';
    $sb_string_new = str_replace(&quot;\'\'&quot;, &quot;\'&quot;, $sb_string);
    echo 'Sybase string is ' . $sb_string . '&lt;br /&gt;';
    echo 'String replace produces ' . $sb_string_new . '&lt;br /&gt;';

And the output:
Sybase string is I\'\'m heading out on the road
String replace produces I\'\'m heading out on the road

Sybase string is I\'\'m heading out on the road
String replace produces I\'m heading out on the road

Thoughts?

-Aaron

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016243.html">[nycphp-talk] Any success/failures with PHP/Java bridge?
</A></li>
	<LI>Next message: <A HREF="016151.html">[nycphp-talk] Bug in PHundamentals function?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16150">[ date ]</a>
              <a href="thread.html#16150">[ thread ]</a>
              <a href="subject.html#16150">[ subject ]</a>
              <a href="author.html#16150">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] data modelling vs. db design (was: ER Diagram toolfor MySQL/OS X)
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-October/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20data%20modelling%20vs.%20db%20design%20%28was%3A%20ER%20Diagram%0A%20toolfor%20MySQL/OS%20X%29&In-Reply-To=%3C49221.38.117.147.25.1128710350.squirrel%4038.117.147.25%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016222.html">
   <LINK REL="Next"  HREF="016224.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] data modelling vs. db design (was: ER Diagram toolfor MySQL/OS X)</H1>
    <B>Kenneth Downs</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20data%20modelling%20vs.%20db%20design%20%28was%3A%20ER%20Diagram%0A%20toolfor%20MySQL/OS%20X%29&In-Reply-To=%3C49221.38.117.147.25.1128710350.squirrel%4038.117.147.25%3E"
       TITLE="[nycphp-talk] data modelling vs. db design (was: ER Diagram toolfor MySQL/OS X)">ken at secdat.com
       </A><BR>
    <I>Fri Oct  7 14:39:10 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="016222.html">[nycphp-talk] data modelling vs. db design (was: ER Diagram	toolfor MySQL/OS X)
</A></li>
        <LI>Next message: <A HREF="016224.html">[nycphp-talk] data modelling vs. db design (was: ER Diagram toolfor MySQL/OS X)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16223">[ date ]</a>
              <a href="thread.html#16223">[ thread ]</a>
              <a href="subject.html#16223">[ subject ]</a>
              <a href="author.html#16223">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> Breaking up People into separate tables makes me think of a problem I am
</I>&gt;<i> struggling with and that's probably all too common. A product has a
</I>&gt;<i> price, right -- simple. Maybe not. The price could be fixed. It might be
</I>&gt;<i> x dollars per pound or some other unit. Maybe the price is even
</I>&gt;<i> non-linear.
</I>
THis is not as hard as it looks.  Just use units-of-measure.  We don't
think about it most of the time because it is simply &quot;item&quot;, like &quot;5
widgets&quot;.  But the UOM could be pounds, acres, whatever you want.

&gt;<i>
</I>&gt;<i> So it seems like each price model should be a separate object and thus a
</I>&gt;<i> separate table. Right? And if so, it seems like it would be impossible
</I>&gt;<i> to get all product info in one query efficiently. Do I query the product
</I>&gt;<i> table to see what price model that product uses and then perform a 2nd
</I>&gt;<i> query? Do I join everything and see what price model &quot;pops up?&quot;
</I>
The trick is to use a series of exceptions, and a &quot;resolution&quot; view.

You start out with prices in the PRODUCT_CATEGORIES table.  You override
at the ITEMS table level.  Then you override at the SPECIALS table for
that item during a particular period in time.   Make up any other levels
that are appropriate.

The resolution uses the magic of NULLs and COALESCE to join the tables
together and pull out the price.

select coalesce(special.price,item.price,cat.price)
  from SPECIALS special
  JOIN ITEMS item
  JOIN CATEGORIES cat  blah blah blah


&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A> [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>]
</I>&gt;<i> On Behalf Of Stephen Musgrave
</I>&gt;<i> Sent: Friday, October 07, 2005 1:49 PM
</I>&gt;<i> To: NYPHP Talk
</I>&gt;<i> Subject: Re: [nycphp-talk] data modelling vs. db design (was: ER Diagram
</I>&gt;<i> toolfor MySQL/OS X)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> BTW, in the world of business objects, even the concept of a User
</I>&gt;&gt;<i> needs to
</I>&gt;&gt;<i> be rethought.  I would do away with Users as a fundamental business
</I>&gt;&gt;<i> object
</I>&gt;&gt;<i> and replace it with the more generic Person, and identify system Users
</I>&gt;<i>
</I>&gt;&gt;<i> as a
</I>&gt;&gt;<i> subset of the Person universe.  Users then become Persons who play the
</I>&gt;<i>
</I>&gt;&gt;<i> Role,
</I>&gt;&gt;<i> System User, in which additional sets of information are required such
</I>&gt;<i>
</I>&gt;&gt;<i> as
</I>&gt;&gt;<i> username, password, permissions, et cetera.
</I>&gt;<i>
</I>&gt;<i> A-ha!  Even more normalization.  This is the way I have done it my
</I>&gt;<i> system, btw.  There are &quot;staff&quot; users ... err PEOPLE&quot;.. and
</I>&gt;<i> &quot;participants&quot; which have their own tables and then the USER table
</I>&gt;<i> handles data that is required for those people to use the application.
</I>&gt;<i>
</I>&gt;<i> Thanks for all the contributions to the thread - it has been very
</I>&gt;<i> helpful!
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Talk Mailing List
</I>&gt;<i> AMP Technology
</I>&gt;<i> Supporting Apache, MySQL and PHP
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> <A HREF="http://www.nyphp.org">http://www.nyphp.org</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Talk Mailing List
</I>&gt;<i> AMP Technology
</I>&gt;<i> Supporting Apache, MySQL and PHP
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> <A HREF="http://www.nyphp.org">http://www.nyphp.org</A>
</I>&gt;<i>
</I>

-- 
Kenneth Downs
Secure Data Software
631-379-0010
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">ken at secdat.com</A>
PO Box 708
East Setauket, NY 11733


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016222.html">[nycphp-talk] data modelling vs. db design (was: ER Diagram	toolfor MySQL/OS X)
</A></li>
	<LI>Next message: <A HREF="016224.html">[nycphp-talk] data modelling vs. db design (was: ER Diagram toolfor MySQL/OS X)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16223">[ date ]</a>
              <a href="thread.html#16223">[ thread ]</a>
              <a href="subject.html#16223">[ subject ]</a>
              <a href="author.html#16223">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Regular expression for Google-like search
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-October/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Regular%20expression%20for%20Google-like%20search&In-Reply-To=%3C434AD06B.3010900%40phpwerx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016264.html">
   <LINK REL="Next"  HREF="016249.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Regular expression for Google-like search</H1>
    <B>Dan Cech</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Regular%20expression%20for%20Google-like%20search&In-Reply-To=%3C434AD06B.3010900%40phpwerx.net%3E"
       TITLE="[nycphp-talk] Regular expression for Google-like search">dcech at phpwerx.net
       </A><BR>
    <I>Mon Oct 10 16:34:51 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="016264.html">[nycphp-talk] Regular expression for Google-like search
</A></li>
        <LI>Next message: <A HREF="016249.html">[nycphp-talk] length of form element names?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16232">[ date ]</a>
              <a href="thread.html#16232">[ thread ]</a>
              <a href="subject.html#16232">[ subject ]</a>
              <a href="author.html#16232">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Stephen,

For this kind of a problem it may be simpler (and possibly more 
efficient considering the small size of the strings) to write a simple 
parser that goes through the string and builds up the query that way, 
detecting whether you are inside a quoted string or not and behaving 
appropriately as well as potentially processing AND OR NOT - (a,b,c), 
etc constructs.

It seems like this could be a very worthwhile project, and more than 
likely there is already something out there I'm not aware of to solve 
this common problem.

You might also want to try digging into the source of some of the more 
mature wiki or cms applications for inspiration.

Dan

Stephen Musgrave wrote:
&gt;<i> I searched the web and was shocked not to find the answer to this.... 
</I>&gt;<i> so I bring it to &quot;the list&quot;.
</I>&gt;<i> 
</I>&gt;<i> I am building content management tool, within which I want people to be 
</I>&gt;<i> able to search for content.  I want to use the same query string rules 
</I>&gt;<i> as Google does - specifically the quote to group words into a unified 
</I>&gt;<i> string.
</I>&gt;<i> 
</I>&gt;<i> For example:
</I>&gt;<i> 
</I>&gt;<i> &quot;the color purple&quot; movie soundtrack
</I>&gt;<i> 
</I>&gt;<i> &quot;the color purple&quot; would need to be an exact match, ignoring the spaces 
</I>&gt;<i> as OR characters.  The spaces outside the quotes would still be treated 
</I>&gt;<i> like an OR character.
</I>&gt;<i> 
</I>&gt;<i> I am using this code so far:
</I>&gt;<i> 
</I>&gt;<i> $search_string = $_REQUEST['search_string'];
</I>&gt;<i> $search_terms = array();
</I>&gt;<i> $search_terms = preg_split('/&quot;/', $search_string, -1, 
</I>&gt;<i> PREG_SPLIT_NO_EMPTY);
</I>&gt;<i> 
</I>&gt;<i> And it results in:
</I>&gt;<i> 
</I>&gt;<i> Array ( [0] =&gt; the color purple [1] =&gt; movie soundtrack )
</I>&gt;<i> 
</I>&gt;<i> But I want it to result in:
</I>&gt;<i> 
</I>&gt;<i> Array ( [0] =&gt; the color purple [1] =&gt; movie [2] =&gt; soundtrack )
</I>&gt;<i> 
</I>&gt;<i> I feel like I'm a couple keystrokes away... any help is much 
</I>&gt;<i> appreciated.
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> 
</I>&gt;<i> Stephen
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016264.html">[nycphp-talk] Regular expression for Google-like search
</A></li>
	<LI>Next message: <A HREF="016249.html">[nycphp-talk] length of form element names?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16232">[ date ]</a>
              <a href="thread.html#16232">[ thread ]</a>
              <a href="subject.html#16232">[ subject ]</a>
              <a href="author.html#16232">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Doctrine and auto_increment not being a primary key
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2010-December/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Doctrine%20and%20auto_increment%20not%20being%20a%20primary%20key&In-Reply-To=%3CAANLkTi%3DVT-79xz-BQJXM7Q%3DJqz2ps%3DxhZYZZyixmL_W6%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030454.html">
   <LINK REL="Next"  HREF="030456.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Doctrine and auto_increment not being a primary key</H1>
    <B>John Campbell</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Doctrine%20and%20auto_increment%20not%20being%20a%20primary%20key&In-Reply-To=%3CAANLkTi%3DVT-79xz-BQJXM7Q%3DJqz2ps%3DxhZYZZyixmL_W6%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] Doctrine and auto_increment not being a primary key">jcampbell1 at gmail.com
       </A><BR>
    <I>Sat Dec 11 11:20:16 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="030454.html">[nycphp-talk] Doctrine and auto_increment not being a primary key
</A></li>
        <LI>Next message: <A HREF="030456.html">[nycphp-talk] Doctrine and auto_increment not being a primary key
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30455">[ date ]</a>
              <a href="thread.html#30455">[ thread ]</a>
              <a href="subject.html#30455">[ subject ]</a>
              <a href="author.html#30455">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, Dec 11, 2010 at 11:20 PM, jean-baptiste verrey
&lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">jeanbaptiste.verrey at gmail.com</A>&gt; wrote:
&gt;<i> ok to make it quick:
</I>&gt;<i> &#160;it means that I simply should have id as a primary key and use unique for
</I>&gt;<i> the fields that makes the row unique!?
</I>
Yes and no.  Use id as the primary key.  Use UNIQUE sparingly.  Use
regular keys when you want to speedup the lookup of that field.

&gt;<i> CREATE TABLE user(
</I>&gt;<i> &#160;&#160; &#160; &#160; &#160; &#160;id&#160;INTEGER(10)&#160;NOT NULL AUTO_INCREMENT,
</I>&gt;<i> &#160;&#160; &#160; &#160; &#160; &#160;firstName VARCHAR(32),
</I>&gt;<i> &#160;&#160; &#160; &#160; &#160; &#160;lastName VARCHAR(32)
</I>&gt;<i> &#160;&#160; &#160; &#160; &#160; &#160;PRIMARY KEY(id),
</I>&gt;<i> &#160;&#160; &#160; &#160; &#160; &#160;UNIQUE(firstName,lastName)
</I>&gt;<i> )
</I>&gt;<i> (or something like that)
</I>
This is better, but still wrong.  This says:
&quot;I'll assign every user a unique id, and I'll reference them by that.
(good)   I'll make looking up by first name really fast, but deny the
possibility that two people have the same first and last name.
(wrong)&quot;

Use PRIMARY KEY for fast lookup, and the absolute reference to the
record.  Use KEY, to speed up lookup on that field, use UNIQUE to
speed up lookup and also to prevent duplication.

below is a sample:

CREATE TABLE IF NOT EXISTS `user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `fname` varchar(24) NOT NULL DEFAULT '',
  `lname` varchar(24) NOT NULL DEFAULT '',
  `username` varchar(36) NOT NULL DEFAULT '',
  `pass` varchar(50) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `username` (`username`),
  UNIQUE KEY `email` (`email`),
  KEY `lname` (`lname`)
) ;

This says:
&quot;Assign each user an id, and use that to reference each user.  Make
lookups on last name, email, and username, very fast. Don't allow
duplicate usernames or emails.&quot;


Regards,
John Campbell

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030454.html">[nycphp-talk] Doctrine and auto_increment not being a primary key
</A></li>
	<LI>Next message: <A HREF="030456.html">[nycphp-talk] Doctrine and auto_increment not being a primary key
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30455">[ date ]</a>
              <a href="thread.html#30455">[ thread ]</a>
              <a href="subject.html#30455">[ subject ]</a>
              <a href="author.html#30455">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] The user table
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20The%20user%20table&In-Reply-To=%3C4D72807E.1060006%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030539.html">
   <LINK REL="Next"  HREF="030555.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] The user table</H1>
    <B>Gary Mort</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20The%20user%20table&In-Reply-To=%3C4D72807E.1060006%40gmail.com%3E"
       TITLE="[nycphp-talk] The user table">garyamort at gmail.com
       </A><BR>
    <I>Sat Mar  5 13:27:10 EST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030539.html">[nycphp-talk] The user table
</A></li>
        <LI>Next message: <A HREF="030555.html">[nycphp-talk] The user table
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30541">[ date ]</a>
              <a href="thread.html#30541">[ thread ]</a>
              <a href="subject.html#30541">[ subject ]</a>
              <a href="author.html#30541">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 3/4/2011 3:07 PM, D. J. Waletzky wrote:
&gt;<i> The problem with eliminating &quot;redundant&quot; info in a user table is that it
</I>&gt;<i> may not scale terribly well. I always take care to give any user table
</I>&gt;<i> an auto_incremented row number/uid, because the user's handle and
</I>&gt;<i> e-mail, though unique, may change. Without an independent index
</I>&gt;<i> changing either of these columns in the user table will cause all kinds
</I>&gt;<i> of headaches in other linked tables. With a row number you can save
</I>&gt;<i> space and CPU cycles by using numeric IDs for foreign keys.
</I>
I am no longer convinced that the cpu cycles saved by using a numeric id 
are sufficient to justify doing so with todays computers.  By the time 
you get to an app that is sizable enough to be looking to shave those 
few microseconds, your going to be dealing with a large number of ways 
to save space....and your likely going to want to stick the user mapping 
data into a cache in memory somewhere anyway, so the time saved is not 
that big of a deal.

Also, my main thinking is not from &quot;your custom app written to satisify 
the needs of Woot on a Woot off day&quot;...  I'm thinking more about &quot;your 
open source project designed to be installed on mom and pop systems&quot;.

When you have to design to scale, you can go back through and make 
changes for that and afford it.  But trying to design the ideal user 
table structure for a general purpose app and sticking to &quot;good design 
practices&quot; from decades ago is not the best call.

Check the Joomla! or Drupal forums and you will find many people going 
in and doing very hackish things to get the user database to work the 
way they want it.   Not all users of all sites have/want to give you 
their email address[think actual face to face clubs], but both systems 
not only demand one, they demand a unique one.  So the simple solution 
of just assigning all these users the owners email address does not 
work.  I forget which one, I think it was Joomla! , does not recognize 
valid email addresses with a + in them, so you can't even use the common 
trick of &lt;emailname&gt;+&lt;uniqueid&gt;@&lt;domain&gt; .  Well, you can, but you have 
to hack into core code to do it.

Using the outline I specified, you can switch from using &quot;username&quot; as 
the key display to &quot;userid&quot; when and if you need to scale[create an 
update script to map all those names to integers and do it in a batch].

The main thing I'm looking at though is that it is better, in my mind, 
to design a less efficient, more flexible system that everyone can use - 
and place the cost on &quot;tuning&quot; it for scalability on those who can most 
afford it[since if you need to scale and can't afford to pay for it, you 
have a problem], than to make things a little easier for scalability at 
the cost of making more people pay to customize/hack it.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030539.html">[nycphp-talk] The user table
</A></li>
	<LI>Next message: <A HREF="030555.html">[nycphp-talk] The user table
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30541">[ date ]</a>
              <a href="thread.html#30541">[ thread ]</a>
              <a href="subject.html#30541">[ subject ]</a>
              <a href="author.html#30541">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

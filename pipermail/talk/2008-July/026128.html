<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] mysql: timestamp issue?
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20mysql%3A%20timestamp%20issue%3F&In-Reply-To=%3C486B51FB.5020408%40bzcode.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026125.html">
   <LINK REL="Next"  HREF="026131.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] mysql: timestamp issue?</H1>
    <B>bzcoder</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20mysql%3A%20timestamp%20issue%3F&In-Reply-To=%3C486B51FB.5020408%40bzcode.com%3E"
       TITLE="[nycphp-talk] mysql: timestamp issue?">bzcoder at bzcode.com
       </A><BR>
    <I>Wed Jul  2 06:01:31 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026125.html">[nycphp-talk] mysql: timestamp issue?
</A></li>
        <LI>Next message: <A HREF="026131.html">[nycphp-talk] mysql: timestamp issue?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26128">[ date ]</a>
              <a href="thread.html#26128">[ thread ]</a>
              <a href="subject.html#26128">[ subject ]</a>
              <a href="author.html#26128">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Marc Antony Vose wrote:
&gt;<i> Hi there.
</I>&gt;<i>
</I>&gt;<i> I exported this create table statement from an existing table of 
</I>&gt;<i> mine.  I was just wondering if someone would enlighten me as to why my 
</I>&gt;<i> &quot;edi_updated&quot; timestamp column is not auto-updating when a record is 
</I>&gt;<i> updated?
</I>
Well, my guess would be because your code tells it not to.  For 
example,  if your using some nice object oriented code, where you do 
something like:
-----
// set some edition id value
$ediid = 123;

// load the edition data
$myedi = new editionClass($ediid);

// set a 20% discount - ideally this data should actually
// have come from someone, ie entered on a form perhaps
// by the user
$discount = .80;
$newprice = $myedi-&gt;getField('edi_price') * $discount;

// update the price of the edition
$myedi-&gt;setField('edi_price', $newprice);

// update the record
$myedi-&gt;update();
----

or if you prefer a condensed coding style:
------
// get the edition
$myedi-&gt;new editionClass($ediid);
//set the discount, ideally this is provided by a user instead
// of hardcoded
$discount=.80;
// make our changes and update the record
$myedi-&gt;setDiscount($discount)-&gt;updateRecord();
------

The above generates a long update clause such as:
UPDATE EDITIONS
SET EDI_TITLE='$this-&gt;edi_title',
...
EDI_UPDATED=$this-&gt;edi_updated,
...
WHERE EDI_ID = $this-&gt;edi_id

(though of course, your using the safer syntax where you bind the 
variables instead of writing it out directly - it's just easier to write 
this way)

In which case, since your code explicitly specified what the update 
timestamp should be(and since you did not change the value, it is the 
original timestamp) the field will not be updated.

Just a guess though, since I don't have your code here. :-)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026125.html">[nycphp-talk] mysql: timestamp issue?
</A></li>
	<LI>Next message: <A HREF="026131.html">[nycphp-talk] mysql: timestamp issue?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26128">[ date ]</a>
              <a href="thread.html#26128">[ thread ]</a>
              <a href="subject.html#26128">[ subject ]</a>
              <a href="author.html#26128">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] PHP caching (not opcode)
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20caching%20%28not%20opcode%29&In-Reply-To=%3Caf4f9a900807171452o3df524b2m9b1aa1a11bd8b05d%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026219.html">
   <LINK REL="Next"  HREF="026223.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] PHP caching (not opcode)</H1>
    <B>Patrick May</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20caching%20%28not%20opcode%29&In-Reply-To=%3Caf4f9a900807171452o3df524b2m9b1aa1a11bd8b05d%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] PHP caching (not opcode)">patrick at hexane.org
       </A><BR>
    <I>Thu Jul 17 17:52:21 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026219.html">[nycphp-talk] Handling empty values in hashes
</A></li>
        <LI>Next message: <A HREF="026223.html">[nycphp-talk] PHP caching (not opcode)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26222">[ date ]</a>
              <a href="thread.html#26222">[ thread ]</a>
              <a href="subject.html#26222">[ subject ]</a>
              <a href="author.html#26222">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I'm working on a PHP cache library, and I wanted to check in and see what
folks thought.

Usually, you have many different front end views that you will want to
cache.  These may pull from multiple datasources in odd ways.  Far away from
the front end, there is backend CMS, either a tool like Wordpress or Drupal,
or a custom tool.  Generally, I find myself managing caches by:

1. Putting the code that generates the cache into the front end, since it is
the design that dictates which pieces of information should be grouped
together.
2. Putting a very small amount of code in the back end which causes the
cache to be deleted on the appropriate CRUD operations.  CMS's are
complicated enough as they are, and I don't want to clutter them up more
then necessary.

The hard part is creating the association between the front and back end.
What I want to do is to use *tags* to create this association, and to break
caches.

It works something like this:

&lt;?php
function an_expensive_operation($arg1, $arg2) {
    ....
}

cache_set_dir('/tmp/www/cache');

// this will either run the callback and cache
// the return value and output, or just spit
// out the output and return value
// function cache( $callback, $params, $unique_name, $flags ) {...};
cache(
  'an_expensive_operation',
  array($value1, $value2),
  'run_an_expensive_operation_on_the_home_page',
  array('on_save', 'on_update', 'on_monday')
);

// any of these calls will cause the cache to be deleted,
// and force the cached function above to be re-run
break_cache('run_an_expensive_operation_on_the_home_page');
break_cache('on_save');
break_cache('on_update');
break_cache('on_monday');
break_cache('on_tuesday', 'on_monday');
?&gt;

Does this sound similar to any existing library / tool, either for PHP or
for any other platform?  Does this sound like a useful library?

Thanks for your feedback!

Cheers,

Patrick


-- 
Patrick May
135 Oak Street
New York, NY 11222
+1 (347) 232-5208
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">patrick at hexane.org</A>
<A HREF="http://www.hexane.org">http://www.hexane.org</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20080717/9ffd352e/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20080717/9ffd352e/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026219.html">[nycphp-talk] Handling empty values in hashes
</A></li>
	<LI>Next message: <A HREF="026223.html">[nycphp-talk] PHP caching (not opcode)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26222">[ date ]</a>
              <a href="thread.html#26222">[ thread ]</a>
              <a href="subject.html#26222">[ subject ]</a>
              <a href="author.html#26222">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

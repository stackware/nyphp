<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] PHP
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-January/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP&In-Reply-To=%3C000e01c4f81a%24ce107640%2468e4a144%40Liz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013254.html">
   <LINK REL="Next"  HREF="013404.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] PHP</H1>
    <B>Peter Sawczynec</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP&In-Reply-To=%3C000e01c4f81a%24ce107640%2468e4a144%40Liz%3E"
       TITLE="[nycphp-talk] PHP">psaw at pswebcode.com
       </A><BR>
    <I>Tue Jan 11 15:19:02 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="013254.html">[nycphp-talk] PHP
</A></li>
        <LI>Next message: <A HREF="013404.html">[nycphp-talk] PHP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13257">[ date ]</a>
              <a href="thread.html#13257">[ thread ]</a>
              <a href="subject.html#13257">[ subject ]</a>
              <a href="author.html#13257">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Couple of alternate solutions (viable but got pitfalls):

1) Tiny JavaScripted popup or popunder window polls the opener page for it's
existence. When opener page disappears, the popup window does location
change to PHP logout page, processes, and then closes itself. 

2) 1x1 transparent gif src points to PHP script page that polls for
&quot;connectin_aborted&quot; and fires logout script when true.

Peter

 

-----Original Message-----
From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A> [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>] On
Behalf Of charlie derr
Sent: Tuesday, January 11, 2005 2:59 PM
To: NYPHP Talk
Subject: Re: [nycphp-talk] PHP


What about using &lt;meta http-equiv=&quot;Refresh&quot; content=&quot;60; <A HREF="http://yoururl">http://yoururl</A>&quot;&gt; in
the header of the page?

As i understand it, this would try to grab a new copy of the page every
minute (modify the 60 if you want a longer or shorter time).  By keeping
track of when the reloads cease, you'd know when the visitor closed the
browser (or lost network connectivity) even if she/he didn't hit the logout
button.

And surely it'll be no picnic to integrate something like this with your
already existing authentication code (so that it works seamlessly and
doesn't demand a new login on every automatic refresh once a minute).  And
if your pages are places where people can input data (via forms), it'd be a
real drag to have the page automatically reload (and lose the paragraph or
so of text that your visitor just entered in a form field(s)).


	good luck,	
		~c

Peter Sawczynec wrote:
&gt;<i> This is a possible &quot;almost does it&quot; option.
</I>&gt;<i> 
</I>&gt;<i> The time of every new page hit by the user can be entered as the 
</I>&gt;<i> newest logout time. So if they never formally logout we at least have 
</I>&gt;<i> an approximate Log Out time. If they really Log Out, we get the Log 
</I>&gt;<i> Out time for real.
</I>&gt;<i> 
</I>&gt;<i> By the by, there is a way to rig something with JavaScript and the 
</I>&gt;<i> onUnload event. But it has pitfalls too.
</I>&gt;<i> 
</I>&gt;<i> I am surprised now that PHP doesn't offer &quot;on session start&quot; and &quot;on 
</I>&gt;<i> session end&quot; event capturing, or am I wrong?
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> 
</I>&gt;<i> Peter
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A> 
</I>&gt;<i> [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>] On Behalf Of Rahmin Pavlovic
</I>&gt;<i> Sent: Tuesday, January 11, 2005 2:17 PM
</I>&gt;<i> To: NYPHP Talk
</I>&gt;<i> Subject: Re: [nycphp-talk] PHP
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Tue, 11 Jan 2005 14:06 , Peter Sawczynec &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">psaw at pswebcode.com</A>&gt; sent:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i>Using PHP, is there a simple way to capture browser shutdown or a
</I>&gt;&gt;<i>session termination event, so that a user's departure time from a site 
</I>&gt;&gt;<i>can be captured when they don't use the formal Log Out button.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I need to track user time logged into a site. I am using PHP sessions.
</I>&gt;&gt;<i>Currently, capturing the user Log In efforts and capturing the user Log 
</I>&gt;&gt;<i>Out time when they hit Logout button.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Any solution suggestions for capturing log out time of users who just
</I>&gt;&gt;<i>close the browser?
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> A possible solution would be log 'on-site' time by saving a timestamp 
</I>&gt;<i> of every page view.  We do that in-part to prevent additional log-in's 
</I>&gt;<i> from the same account during a given active timeframe.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Talk
</I>&gt;<i> Supporting AMP Technology (Apache/MySQL/PHP) 
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> <A HREF="http://www.nyphp.org">http://www.nyphp.org</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Talk
</I>&gt;<i> Supporting AMP Technology (Apache/MySQL/PHP) 
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> <A HREF="http://www.nyphp.org">http://www.nyphp.org</A>
</I>
_______________________________________________
New York PHP Talk
Supporting AMP Technology (Apache/MySQL/PHP)
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
<A HREF="http://www.nyphp.org">http://www.nyphp.org</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013254.html">[nycphp-talk] PHP
</A></li>
	<LI>Next message: <A HREF="013404.html">[nycphp-talk] PHP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13257">[ date ]</a>
              <a href="thread.html#13257">[ thread ]</a>
              <a href="subject.html#13257">[ subject ]</a>
              <a href="author.html#13257">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] if you were teaching PHP...
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-January/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20if%20you%20were%20teaching%20PHP...&In-Reply-To=%3C20050119041406.EC5B0A85F3%40virtu.nyphp.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013354.html">
   <LINK REL="Next"  HREF="013364.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] if you were teaching PHP...</H1>
    <B>Hans Zaunere</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20if%20you%20were%20teaching%20PHP...&In-Reply-To=%3C20050119041406.EC5B0A85F3%40virtu.nyphp.org%3E"
       TITLE="[nycphp-talk] if you were teaching PHP...">lists at zaunere.com
       </A><BR>
    <I>Tue Jan 18 23:13:56 EST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="013354.html">[nycphp-talk] if you were teaching PHP...
</A></li>
        <LI>Next message: <A HREF="013364.html">[nycphp-talk] if you were teaching PHP...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13359">[ date ]</a>
              <a href="thread.html#13359">[ thread ]</a>
              <a href="subject.html#13359">[ subject ]</a>
              <a href="author.html#13359">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> &gt; Those who know me know I don't favor DB abstraction, so this will be biased, and
</I>&gt;<i> frankly I don't know that much about PEAR::DB.  Can it support prepared statements?
</I>&gt;<i> Can it support cursors (server side)?  Can it support collation? etc...
</I>&gt;<i> 
</I>&gt;<i> Sounds funny coming from a MySQL guy. (rimshot)
</I>
Hmm, not sure how to read that one :)

&gt;<i> &gt; While DB abstraction can be useful for simple apps, and is something worth
</I>&gt;<i> learning about, large applications never use generic abstraction, since they are
</I>&gt;<i> rarely deployed on multiple databases.
</I>&gt;<i> 
</I>&gt;<i> All I can tell you is that after working on sites that get 10 million
</I>&gt;<i> visitors daily, had I coded anything to a native API the whole thing
</I>&gt;<i> would have died a horrible death!  When you are really pushing the
</I>&gt;<i> limits, native APIs are what kill you, not save you - as you end up
</I>&gt;<i> worrying more about scaling and redundancy, where a more generic
</I>&gt;<i> communication-presentation-application-data layered approach will save
</I>&gt;<i> your bacon time after time. Something like:
</I>
That's an interesting take, that is, adding code to enforce proper architecture.  I see what you're saying, but at the end of the day the more code something executes, the slower it'll be.  Now that's not to say a minor abstraction for proper replication handling, for example, isn't a good thing.

&gt;<i>   Load Balancers &lt;=&gt; Webservers &lt;=&gt; Application Servers &lt;=&gt; Databases
</I>&gt;<i> 
</I>&gt;<i> As a matter of fact, the biggest site I ever worked on ended up going
</I>&gt;<i> the java route, where database transparency was one of the main goals.
</I>&gt;<i> (Not my decision as I had moved on, but you get the point.)
</I>
Quite true, and frankly, Java kind of has the best of both worlds.  JDBC drivers are &quot;abstractions&quot; but written particularly for that database, ie, they expose the same interface but are native calls themselves.  It's a totally different layer of abstraction than, let's say, PEAR::DB.

&gt;<i> If you implement an application that maxes out mysql's functionality
</I>&gt;<i> for example (mitchy bites tongue), you are then going to lose a lot of
</I>&gt;<i> effort if you decide to put SQL Relay in front of your database
</I>&gt;<i> servers. Ok, maybe not logical for MySQL, but for something like
</I>&gt;<i> Oracle (where OCI connections have lots of overhead) this progression
</I>&gt;<i> happens frequently, and apps end up getting partially rewritten in
</I>&gt;<i> order to decouple the logic from the database layer to accomodate the
</I>&gt;<i> connection pool...
</I>
Agreed, but this is most often and best done with application layer DB abstraction.  Per above, implementing fault tolerance with replication requires some layer of abstraction, but I wouldn't (and couldn't) do it with a generic abstraction.  Fault tolerance between, let's say, MySQL and Oracle, just wouldn't work with a generic abstraction that tries to cover PostgreSQL, MSSQL, SQL Lite, Access, Sybase, and TimesTen.

&gt;<i> &gt; That said, abstraction within the application - that is, &quot;custom&quot; abstraction
</I>&gt;<i> written specifically in the application, and for their database - can add a lot of
</I>&gt;<i> value, since it can expose the needed features for that db/app combo.  Lastly,
</I>&gt;<i> knowing how a database works, and thus how to talk to it in the most efficient
</I>&gt;<i> manner, is central in a successful and scalable application.
</I>&gt;<i> 
</I>&gt;<i> The first sentence is dead on, and Mambo's database class is a good
</I>&gt;<i> example. Still native MySQL calls, but nice abstraction to make the
</I>&gt;<i> interface simple and predictable for 3rd party developers.
</I>
Agreed 100%; this is application layer database abstraction, not generic.

&gt;<i> Knowing how databases work is *critical* to learning how to write
</I>&gt;<i> useful software, as poorly-designed applications are also difficult to
</I>&gt;<i> maintain, let alone scale.
</I>&gt;<i> 
</I>&gt;<i> Which does bring up a great debate - where do you draw the line
</I>&gt;<i> between portability and native functionality?  If you have PostgreSQL
</I>&gt;<i> or Oracle, then does it make sense to load up all of your DML into the
</I>&gt;<i> database as stored procedures, for example? I used to think that way,
</I>&gt;<i> but also was convinced at the time that there were limited options on
</I>&gt;<i> the database server side; and now that is just not the case, with
</I>&gt;<i> PostgreSQL and Firebird around (and yes, even MySQL is catching up
</I>&gt;<i> with 5.0)   ;-)
</I>
That actually brings up an excellent point.  Stored procedures are the ultimate in database abstraction, and frankly makes the most sense.  At the same time, companies are founded and make millions on porting stored procedure code, so in the end, portability is often a marketing term.  No database implements the same stored procedure language, and although SQL2003's PSM language is considered standard these days (which MySQL is implementing from scratch after learning the mistakes of everyone else), there's still a porting process to the standard.

DB abstraction can happen at various levels, and should.  But overly abstracting database access is often more of a hassle than advantage, especially as the complexity of the application increases.

And I smell the seeds of a presentation here :)


---
Hans Zaunere
President, Founder
New York PHP
<A HREF="http://www.nyphp.org">http://www.nyphp.org</A>

Gmail: The 1gb spam catcher 



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013354.html">[nycphp-talk] if you were teaching PHP...
</A></li>
	<LI>Next message: <A HREF="013364.html">[nycphp-talk] if you were teaching PHP...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13359">[ date ]</a>
              <a href="thread.html#13359">[ thread ]</a>
              <a href="subject.html#13359">[ subject ]</a>
              <a href="author.html#13359">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

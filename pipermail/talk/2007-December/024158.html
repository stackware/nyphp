<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Reading in strings from text file
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-December/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Reading%20in%20strings%20from%20text%20file&In-Reply-To=%3C8f0676b40712101123y3ae00976q8b74f6dee0688da5%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024157.html">
   <LINK REL="Next"  HREF="024160.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Reading in strings from text file</H1>
    <B>John Campbell</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Reading%20in%20strings%20from%20text%20file&In-Reply-To=%3C8f0676b40712101123y3ae00976q8b74f6dee0688da5%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] Reading in strings from text file">jcampbell1 at gmail.com
       </A><BR>
    <I>Mon Dec 10 14:23:31 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024157.html">[nycphp-talk] Reading in strings from text file
</A></li>
        <LI>Next message: <A HREF="024160.html">[nycphp-talk] Reading in strings from text file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24158">[ date ]</a>
              <a href="thread.html#24158">[ thread ]</a>
              <a href="subject.html#24158">[ subject ]</a>
              <a href="author.html#24158">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> I am about to start on a module for i18n and wonder if anyone has experience
</I>&gt;<i> on how long it takes to read in let's say 1,000 strings of about 30 characters
</I>&gt;<i> on average from a text file that has numeric keys, with those keys  becoming
</I>&gt;<i> the key of an array that in the end is to be stored in $_SESSION. Is there a
</I>&gt;<i> better place than $_SESSION to hold this? What I really want to prevent is to
</I>&gt;<i> have each script that generates text output have to read in its own strings as
</I>&gt;<i> this adds management needs to make sure the right strings are picked up.
</I>&gt;<i> Anyone knows how well this would scale with 10,000 or 100,000 strings? Sure, I
</I>&gt;<i> could try it out, but asking NYPHP is way faster.
</I>
I highly recommend *not* doing it this way.
1) A session is the worst place to put the data because there is a
different session file for each user.  If you do want to do this, use
a singleton pattern to access the array bundle.
2) Plurals, and translation re-ordering will be nearly impossible.
3) Performance will be suboptimal.
4) You will have to build your own tools for the translators.
5) Dealing with merges is going to be a pain.
6) You need to give the translators context for the strings.
7) Your system will have to deal with non-translated strings appropriately.

The good news is that all of these problems associated with i18n, have
been solved.  Gettext is the GNU standard and you get all of the tools
for free (PoEdit for translators, msgmerge, binary encoding for
performance)  Gettext seems confusing and complicated at first, but
you will appreciate it once you have tried something else.

I know this doesn't answer your question about the performance, but it
is unlikely that you will be able to successfully internationalize an
application with 1000+ strings if your plan is to use array bundles.

Just so you understand the difficulty of i18n'ing an app, consider this string:
&quot;Your Visa card with last four digits 1234 expires on Dec 15, 2007&quot;.

In another language, it may need to be written as:
&quot;On 15:Drb:2007, expires, last 4 digits 1234, is your Visa&quot;


Also, your application code will become unreadable if you use array
bundles. Consider:
echo $translation_bundle[ERR::CC_EXP];
vs the gettext way:
echo _(&quot;Your credit card has expired&quot;);

I find the latter much more readable.

Cheers,
John Campbell

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024157.html">[nycphp-talk] Reading in strings from text file
</A></li>
	<LI>Next message: <A HREF="024160.html">[nycphp-talk] Reading in strings from text file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24158">[ date ]</a>
              <a href="thread.html#24158">[ thread ]</a>
              <a href="subject.html#24158">[ subject ]</a>
              <a href="author.html#24158">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

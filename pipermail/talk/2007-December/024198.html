<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Tamperproof URLs and PHP slides posted
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-December/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Tamperproof%20URLs%20and%20PHP%20slides%20posted&In-Reply-To=%3C4c95589d0712120944r7dc14e13qcdbde9923bdc8156%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024195.html">
   <LINK REL="Next"  HREF="024197.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Tamperproof URLs and PHP slides posted</H1>
    <B>Nick Galbreath</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Tamperproof%20URLs%20and%20PHP%20slides%20posted&In-Reply-To=%3C4c95589d0712120944r7dc14e13qcdbde9923bdc8156%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] Tamperproof URLs and PHP slides posted">nickg at modp.com
       </A><BR>
    <I>Wed Dec 12 12:44:07 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024195.html">[nycphp-talk] Tamperproof URLs and PHP slides posted
</A></li>
        <LI>Next message: <A HREF="024197.html">[nycphp-talk] Tamperproof URLs and PHP slides posted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24198">[ date ]</a>
              <a href="thread.html#24198">[ thread ]</a>
              <a href="subject.html#24198">[ subject ]</a>
              <a href="author.html#24198">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Aha!  Good point.
So there are a few ways you can do this.   But i think the simplest is just
to record the username (perhaps the ip), and highscore and time stamp.  Then
when a new message comes in check the db to see if this user's timestamp is
close to now.  If so, reject.

More complicated ways are having the client send the timestamp and use it in
your hmac/hash thing.  If their timestamp is old then they are replaying and
you can just reject it.

Or some combination of the both.  Without know your product &amp; operations
better it's hard to say, but something like this should get your started.

have fun!

--nickg




On 12/12/07, John Campbell &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">jcampbell1 at gmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Thanks Nick,
</I>&gt;<i>
</I>&gt;<i> I'll take some measures to obfuscate the &quot;secret&quot;, but I just realized
</I>&gt;<i> I have another potential hole.  There is nothing to prevent someone
</I>&gt;<i> from actually getting a high score, then replaying the request to get
</I>&gt;<i> all of the top positions.  I suppose the solution is to have the
</I>&gt;<i> server create a random string, save it on the server, send it to the
</I>&gt;<i> client, and use the token as anonther element of the checksum.  Then
</I>&gt;<i> once the score is saved, the token is deleted from the server.  I
</I>&gt;<i> think that will work, but now I am starting to feel sorry for the next
</I>&gt;<i> guy that has to figure out what the hell the my code is doing. :)
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> John Campbell
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i>
</I>&gt;<i> Show Your Participation in New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20071212/964c9523/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20071212/964c9523/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024195.html">[nycphp-talk] Tamperproof URLs and PHP slides posted
</A></li>
	<LI>Next message: <A HREF="024197.html">[nycphp-talk] Tamperproof URLs and PHP slides posted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24198">[ date ]</a>
              <a href="thread.html#24198">[ thread ]</a>
              <a href="subject.html#24198">[ subject ]</a>
              <a href="author.html#24198">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

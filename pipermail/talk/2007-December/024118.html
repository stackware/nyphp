<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] distances between two zip codes
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-December/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20distances%20between%20two%20zip%20codes&In-Reply-To=%3C9F9A3AE7-AB2F-41D3-A0CA-FBDE597392CD%40beaffinitive.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024117.html">
   <LINK REL="Next"  HREF="024121.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] distances between two zip codes</H1>
    <B>Rob Marscher</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20distances%20between%20two%20zip%20codes&In-Reply-To=%3C9F9A3AE7-AB2F-41D3-A0CA-FBDE597392CD%40beaffinitive.com%3E"
       TITLE="[nycphp-talk] distances between two zip codes">rmarscher at beaffinitive.com
       </A><BR>
    <I>Thu Dec  6 23:57:20 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024117.html">[nycphp-talk] distances between two zip codes
</A></li>
        <LI>Next message: <A HREF="024121.html">[nycphp-talk] distances between two zip codes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24118">[ date ]</a>
              <a href="thread.html#24118">[ thread ]</a>
              <a href="subject.html#24118">[ subject ]</a>
              <a href="author.html#24118">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Dec 6, 2007, at 11:13 PM, chad qian wrote:
&gt;<i> I want to program php to calculate the distance between two zip  
</I>&gt;<i> codes.I only have zip codes,nothing else.How to do it?I'm completely  
</I>&gt;<i> lost.
</I>
You need to find out the latitude and longitude of the zip codes.   
That's the only way.

You can purchase zipcode databases that will give you the latitude and  
longitude.  Usually it's something you get a subscription for so you  
can be updated when zipcodes change.  My company uses this service:
<A HREF="http://www.zipcodeworld.com">http://www.zipcodeworld.com</A>

An alternative to purchasing your own zipcode database, is to use a  
web service to get the latitude and longitude:
<A HREF="http://developer.yahoo.com/maps/rest/V1/geocode.html">http://developer.yahoo.com/maps/rest/V1/geocode.html</A>

Rasmus Lerdorf (creator of php) even posted a great article on how to  
use that web service:
<A HREF="http://toys.lerdorf.com/archives/35-GeoCool!.html">http://toys.lerdorf.com/archives/35-GeoCool!.html</A>

Once you have the latitude and longitude, you want to search google  
for &quot;distance latitude longitude php.&quot;  The first hit is  
coincidentally the site that sells the zipcode databases:
<A HREF="http://www.zipcodeworld.com/samples/distance.php.html">http://www.zipcodeworld.com/samples/distance.php.html</A>

If you go the route of buying a subscription to the zipcode database  
(probably only if you have too high a level of web traffic to use the  
Yahoo! ), you should import the CSV file into a mysql database.   
Donald J Organ IV just posted a mysql query to this list last week  
that can find all the zipcodes in a range:
On Dec 4, 2007, at 1:26 PM, Donald J Organ IV wrote:
&gt;<i> replace the follwing fields with value:
</I>&gt;<i>
</I>&gt;<i> [origin-lat]
</I>&gt;<i> [origin-long]
</I>&gt;<i> [dest-lat]
</I>&gt;<i> [dest-long]
</I>&gt;<i> [radius]
</I>&gt;<i> SELECT distinct zipcode,
</I>&gt;<i> ROUND((ACOS((SIN([origin-lat]/57.2958) * SIN([dest-latitude]/ 
</I>&gt;<i> 57.2958)) +
</I>&gt;<i> (COS([origin-lat]/57.2958) * COS([dest-lat]/57.2958) *
</I>&gt;<i> COS([dest-long]/57.2958 - [origin-long]/57.2958)))) * 3963, 3) AS  
</I>&gt;<i> distance
</I>&gt;<i> FROM zipcodes
</I>&gt;<i> WHERE (latitude &gt;= [origin-lat] - ([radius]/111))
</I>&gt;<i> AND (latitude &lt;= [origin-lat] + ([radius]/111))
</I>&gt;<i> AND (longitude &gt;= [origin-long] - ([radius]/111))
</I>&gt;<i> AND (longitude &lt;= [origin-long] + ([radius]/111))
</I>&gt;<i> ORDER BY distance
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20071206/2939a941/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20071206/2939a941/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024117.html">[nycphp-talk] distances between two zip codes
</A></li>
	<LI>Next message: <A HREF="024121.html">[nycphp-talk] distances between two zip codes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24118">[ date ]</a>
              <a href="thread.html#24118">[ thread ]</a>
              <a href="subject.html#24118">[ subject ]</a>
              <a href="author.html#24118">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

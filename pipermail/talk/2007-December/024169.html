<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Managing form data with PHP
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-December/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Managing%20form%20data%20with%20PHP&In-Reply-To=%3C475EDEB6.2020105%40gmx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024170.html">
   <LINK REL="Next"  HREF="024182.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Managing form data with PHP</H1>
    <B>David Krings</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Managing%20form%20data%20with%20PHP&In-Reply-To=%3C475EDEB6.2020105%40gmx.net%3E"
       TITLE="[nycphp-talk] Managing form data with PHP">ramons at gmx.net
       </A><BR>
    <I>Tue Dec 11 14:02:14 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024170.html">[nycphp-talk] Managing form data with PHP
</A></li>
        <LI>Next message: <A HREF="024182.html">[nycphp-talk] Managing form data with PHP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24169">[ date ]</a>
              <a href="thread.html#24169">[ thread ]</a>
              <a href="subject.html#24169">[ subject ]</a>
              <a href="author.html#24169">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Tony Furnivall wrote:
  &gt; The 'pretty' enhancements are relatively easy - but I'm having a problem
&gt;<i> trying to get the form data to redisplay.
</I>&gt;<i> 
</I>&gt;<i> Any pointers? ideas? suggestions?
</I>
I am sure there are better ways, but this is what I do:

I submit the script to itself and check with isset() which values in $_POST 
are set. With a good initialization of variables you get a very reliable means 
of checking if there was data submitted at all (after getting values from 
$_POST unsubmitted variables retain their initialization value) and when it 
was submitted (variable valuye is no longer the initialization value) one can 
check for plausibility, such as checking if a date entered really is a valid 
date (PHP has nice functions for that). Based on the outcome of all this 
checking I set the default value of the form elements to the submitted and 
accepted value or show an appropriate error message (which you say you have 
handled with the 'pretty' stuff). Upon a submit that generates no error I 
write the values to $_SESSION and redirect the browser to the next script, for 
example one that writes the values to the database. Of course, you can also 
show a message that all entries are OK and place a button on the page. Upon 
clicking that button the whole entires are submitted via hidden fields through 
$_POST to a different script.
Or you could just stuff all the code into one big script and redirect to 
itself with commands sent along through the URL parameter that can be 
harvested from $_GET. You ideally create a huge switch statement that acts 
upon that activity tag. I like many script better than one big one, but I can 
see advantages for both approaches. There are some HTML form fields where you 
do not want to (or even cannot) set default values from previous submissions, 
such as password fields. It is common practice that those entries are not 
preserved. There are two ways to get the previously submitted value to show in 
drop-down lists as current selection. The easy, cheesy method is to make sure 
that it is the first entry in the list, which is the default selection if not 
specified otherwise. You will have that option then in the list twice. The 
nicer approach is to set the selected flag appropriately. Likewise for radio 
button groups and check boxes.

I use this in some cases, but do so sparingly. If the form contains three 
fields I don't bother. It is nice to do this for large forms. It can get 
confusing at times and there is a lot of checking needed so that you don't get 
screwy results for the various states of the page/form. But, I found it to 
work well and in a way that I can comprehend and troubleshoot. Add a lot of 
comments so that in a week from now you still have a clue as to why there are 
all these checks in there. The script will get quite complex compared to one 
that 'only' shows a static form.

Hope that helps,

		David

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024170.html">[nycphp-talk] Managing form data with PHP
</A></li>
	<LI>Next message: <A HREF="024182.html">[nycphp-talk] Managing form data with PHP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24169">[ date ]</a>
              <a href="thread.html#24169">[ thread ]</a>
              <a href="subject.html#24169">[ subject ]</a>
              <a href="author.html#24169">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

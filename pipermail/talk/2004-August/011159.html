<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] broadcast emailer: is this sane strategy
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2004-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20broadcast%20emailer%3A%20is%20this%20sane%20strategy&In-Reply-To=%3C412125DC.7090905%40sklar.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011157.html">
   <LINK REL="Next"  HREF="011161.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] broadcast emailer: is this sane strategy</H1>
    <B>David Sklar</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20broadcast%20emailer%3A%20is%20this%20sane%20strategy&In-Reply-To=%3C412125DC.7090905%40sklar.com%3E"
       TITLE="[nycphp-talk] broadcast emailer: is this sane strategy">sklar at sklar.com
       </A><BR>
    <I>Mon Aug 16 17:23:40 EDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="011157.html">[nycphp-talk] broadcast emailer: is this sane strategy
</A></li>
        <LI>Next message: <A HREF="011161.html">[nycphp-talk] broadcast emailer: is this sane strategy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11159">[ date ]</a>
              <a href="thread.html#11159">[ thread ]</a>
              <a href="subject.html#11159">[ subject ]</a>
              <a href="author.html#11159">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> When they click Send -- this is the part that I think merits some thinking
</I>&gt;<i> -- I've decided to do a sort of poor man's fork. That is, I write the
</I>&gt;<i> message body to a temporary file; then I execute myself with an exec()
</I>&gt;<i> call with args $to, $subject, $message_filename and redirect any output to
</I>&gt;<i> /dev/null; then I say &quot;see ya later&quot; to the browser.
</I>&gt;<i> 
</I>&gt;<i> If I'm in CLI mode, I open the message file, to do the db query, loop
</I>&gt;<i> through the result sending mail with PEAR::Mail/sendmail, and log some
</I>&gt;<i> things along the way, then email a report to the user.
</I>&gt;<i> 
</I>&gt;<i> This will be on a shared server. To keep Evil Spammer from getting a hold
</I>&gt;<i> of it, I will be in cgi-wrapped mode with execute permissions set to only
</I>&gt;<i> me. And the web interface will require authentication of course.
</I>
If you're able to in your shared server environment and you(r users) can 
stand a few minute delay perhaps after they click &quot;Send&quot; you could do it 
this way: have the web page save info about who gets sent what to the 
db. Then every 3/5/10/whatever minutes, have cron run a process that 
scans the db for messages to be sent, sends them, and then updates the 
db with log info. No submit button delays for the user, you don't have 
to worry about cgi-wrapping, and you still get all the nice log info to use.

David



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011157.html">[nycphp-talk] broadcast emailer: is this sane strategy
</A></li>
	<LI>Next message: <A HREF="011161.html">[nycphp-talk] broadcast emailer: is this sane strategy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11159">[ date ]</a>
              <a href="thread.html#11159">[ thread ]</a>
              <a href="subject.html#11159">[ subject ]</a>
              <a href="author.html#11159">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

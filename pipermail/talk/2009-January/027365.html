<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Firefox and authentication
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Firefox%20and%20authentication&In-Reply-To=%3C20090131023020.FJZO6616.hrndva-omta05.mail.rr.com%40DeJaVu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027361.html">
   <LINK REL="Next"  HREF="027376.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Firefox and authentication</H1>
    <B>Michele Waldman</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Firefox%20and%20authentication&In-Reply-To=%3C20090131023020.FJZO6616.hrndva-omta05.mail.rr.com%40DeJaVu%3E"
       TITLE="[nycphp-talk] Firefox and authentication">mmwaldman at nyc.rr.com
       </A><BR>
    <I>Fri Jan 30 21:30:24 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="027361.html">[nycphp-talk] Non-Profit and Major Corporate PHP Users List
</A></li>
        <LI>Next message: <A HREF="027376.html">[nycphp-talk] Firefox and authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27365">[ date ]</a>
              <a href="thread.html#27365">[ thread ]</a>
              <a href="subject.html#27365">[ subject ]</a>
              <a href="author.html#27365">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm trying to switch from basic authentication to digest.  I'm working in
Firefox, which is why.

 

 I'm using mod_auth_mysql for most of the account.

     &lt;Files login.php&gt;        Logged in as Basic

  AuthType Basic

  AuthName &quot;The space&quot;

  require group agroup

     &lt;/Files&gt;

&lt;Files logout.php&gt;      Want to call a script protected by digest

AuthType Digest

AuthName &quot;The Space&quot;

AuthUserFile /home/path/.htpasswd

Require user nonexistent

&lt;/Files&gt;

 

To log off, I'm using:

olxmlHttp.open(&quot;GET&quot;,&quot;logout.php&quot;,false, &quot;logoff&quot;, &quot;logoff&quot;);

olxmlHttp.setRequestHeader('Authorization', 'Digest');

olxmlHttp.send(null);

            olxmlHttp.abort(); //* commented out right now

In the .htaccess file I have:

 

In the domain error log I get:

Digest: client used wrong authentication scheme `Basic':
/path/force_logout.php, referer: <A HREF="https://domain/path/">https://domain/path/</A>

Then a popup window opens.  

When I type the wrong user/password, in the error log I get:

Digest: user `b' in realm `The Space' not found: /path/logout.php, referer:
<A HREF="https://domain/path">https://domain/path</A>

 

Does anyone know how to switch between authentication type from a script?
I'm was thinking setRequestHeader would work.

In phpinfo() on a script in the same directory, I have:

 

HTTP Request GET /path/file HTTP/1.1

User-Agent Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.0.5)
Gecko/2008120122 Firefox/3.0.5 

Accept 

Keep-Alive 300 

Connection keep-alive 

Cookie PHPSESSID=whatever

Authorization Digest username=&quot;user&quot;, realm=&quot;My Site&quot;, nonce=&quot;value&quot;,
uri=&quot;script&quot;, algorithm=MD5, response=&quot;value&quot;, qop=auth, nc=00000001,
cnonce=&quot;value

 

What I'm not sure is what the server is looking at.  The authorization value
in the client header?  Is that dictating what should happen. Httpd is
complaining wrong Authentication Scheme, which makes me think server side
Authenticate header, which is what I was trying for a while until I realized
I was on the client.

Can I change the headers and it will work?  Is this the right thing to do?

I dabbled a little with setting different Authorization header values.

But, I need a break and could use some advice.

Michele

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20090130/5e588f13/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20090130/5e588f13/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027361.html">[nycphp-talk] Non-Profit and Major Corporate PHP Users List
</A></li>
	<LI>Next message: <A HREF="027376.html">[nycphp-talk] Firefox and authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27365">[ date ]</a>
              <a href="thread.html#27365">[ thread ]</a>
              <a href="subject.html#27365">[ subject ]</a>
              <a href="author.html#27365">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

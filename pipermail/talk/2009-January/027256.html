<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] File Uploads
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20File%20Uploads&In-Reply-To=%3C20090108204143.TBBT4747.hrndva-omta02.mail.rr.com%40DeJaVu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027255.html">
   <LINK REL="Next"  HREF="027257.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] File Uploads</H1>
    <B>Michele Waldman</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20File%20Uploads&In-Reply-To=%3C20090108204143.TBBT4747.hrndva-omta02.mail.rr.com%40DeJaVu%3E"
       TITLE="[nycphp-talk] File Uploads">mmwaldman at nyc.rr.com
       </A><BR>
    <I>Thu Jan  8 15:41:47 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="027255.html">[nycphp-talk] File Uploads
</A></li>
        <LI>Next message: <A HREF="027257.html">[nycphp-talk] File Uploads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27256">[ date ]</a>
              <a href="thread.html#27256">[ thread ]</a>
              <a href="subject.html#27256">[ subject ]</a>
              <a href="author.html#27256">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Funky. I'm thinking not visible iframe with a copy of the data that gets
submitted to a php script that slams the $_FILES into the $_SESSION.

Yuck!

Michele

 

  _____  

From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A> [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>] On
Behalf Of Elijah Insua
Sent: Thursday, January 08, 2009 3:30 PM
To: NYPHP Talk
Subject: Re: [nycphp-talk] File Uploads

 

 

On Thu, Jan 8, 2009 at 3:23 PM, Michele Waldman &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mmwaldman at nyc.rr.com</A>&gt;
wrote:

form action=&quot;test.php&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;

&lt;p&gt;Pictures:

&lt;input type=&quot;file&quot; name=&quot;pictures[]&quot; /&gt;

&lt;input type=&quot;file&quot; name=&quot;pictures[]&quot; /&gt;

&lt;input type=&quot;file&quot; name=&quot;pictures[]&quot; /&gt;

&lt;input type=&quot;submit&quot; value=&quot;Send&quot; /&gt;

&lt;/p&gt;

&lt;/form&gt;

&lt;?php
foreach ($_FILES[&quot;pictures&quot;][&quot;error&quot;] as $key =&gt; $error) {
    if ($error == UPLOAD_ERR_OK) {
        $tmp_name = $_FILES[&quot;pictures&quot;][&quot;tmp_name&quot;][$key];
        $name = $_FILES[&quot;pictures&quot;][&quot;name&quot;][$key];
        move_uploaded_file($tmp_name, &quot;data/$name&quot;);
    }
}
?&gt; 

When test.php is called $_FILES is defined.  But, if I call another php
module right after $_FILES is no longer defined.  Is there a way to capture
the value of $_FILES or make it persist?


$_FILES should be available through out a request as it is a super global 

 

What I was trying was something like this:

form action=&quot;afunction();&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;

&lt;p&gt;Pictures:

&lt;input type=&quot;file&quot; name=&quot;pictures[]&quot; /&gt;

&lt;input type=&quot;file&quot; name=&quot;pictures[]&quot; /&gt;

&lt;input type=&quot;file&quot; name=&quot;pictures[]&quot; /&gt;

&lt;input type=&quot;submit&quot; value=&quot;Send&quot; /&gt;

&lt;/p&gt;

&lt;/form&gt;

function a_function()

{

 

       rlxmlHttp=getXmlHttpObject();

       if (rlxmlHttp == null)

       {

           document.getElementById(&quot;fnErrMsg&quot;).innerHTML = '*Browser does
not support HTTP Request';

       }

       else

       {

           rlxmlHttp.onreadystatechange=finishContact;

           rlxmlHttp.open(&quot;POST&quot;,&quot;ascript.php&quot;,true); /* ascript.php using
$_FILES */

           rlxmlHttp.setRequestHeader('Content-Type',
'application/x-www-form-urlencoded');

/*         rlxmlHttp.setRequestHeader('Content-Type',
'multipart/form-data'); */

           rlxmlHttp.send(null);

      }

}

The $_FILES variable no longer exist.  But, $_FILES is no longer defined.
Does anyone have any creative ideas?

Michele

You may want to make sure, but I'm quite positive that you cannot upload
files using 'AJAX', look to flash or an iframe if this is really important.

 -- Elijah

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20090108/406e6dc0/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20090108/406e6dc0/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027255.html">[nycphp-talk] File Uploads
</A></li>
	<LI>Next message: <A HREF="027257.html">[nycphp-talk] File Uploads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27256">[ date ]</a>
              <a href="thread.html#27256">[ thread ]</a>
              <a href="subject.html#27256">[ subject ]</a>
              <a href="author.html#27256">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] iterating through a multibyte string
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2010-January/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20iterating%20through%20a%20multibyte%20string&In-Reply-To=%3CE2ECCAB2-399B-4558-95AC-D0FA7727CD11%40beaffinitive.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029605.html">
   <LINK REL="Next"  HREF="029608.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] iterating through a multibyte string</H1>
    <B>Rob Marscher</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20iterating%20through%20a%20multibyte%20string&In-Reply-To=%3CE2ECCAB2-399B-4558-95AC-D0FA7727CD11%40beaffinitive.com%3E"
       TITLE="[nycphp-talk] iterating through a multibyte string">rmarscher at beaffinitive.com
       </A><BR>
    <I>Wed Jan 13 10:02:08 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="029605.html">[nycphp-talk] Zend Corp listing Local PHP Groups
</A></li>
        <LI>Next message: <A HREF="029608.html">[nycphp-talk] iterating through a multibyte string
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29607">[ date ]</a>
              <a href="thread.html#29607">[ thread ]</a>
              <a href="subject.html#29607">[ subject ]</a>
              <a href="author.html#29607">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I have a need to iterate through a multibyte string to process the string character by character.  Hopefully in php6, this will work without any special work, but as we know we need to use special multibyte string functions in php5 to work with utf-8 characters.  Here's an example that iterates my dilemma:

&lt;?php
mb_internal_encoding(&quot;UTF-8&quot;);

$str = &quot;string with utf-8 chars &#229;&#232;&#246;&quot;;
$length = mb_strlen($str);
$brokenStr = &quot;&quot;;
$preservedStr = &quot;&quot;;

for ($i = 0; $i &lt; $length; $i++) {
  $brokenStr .= $str[$i];
  $preservedStr .= mb_substr($str, $i, 1);
}
echo &quot;brokenStr = &quot; . $brokenStr . &quot;\n&quot;;
echo &quot;preservedStr = &quot; . $preservedStr . &quot;\n&quot;;
?&gt;

The array notation for string is the normal way to do this with regular strings: $str[$i].  I assume this will work for multibyte strings in php6.  

-- Is using mb_substr($str, $i, 1) the only way to get this to work in php5?  That's my question.

It seems like it's going to be many times slower according to some of the comments I've seen on the multibyte functions in the php manual.

Thanks!!
-Rob


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029605.html">[nycphp-talk] Zend Corp listing Local PHP Groups
</A></li>
	<LI>Next message: <A HREF="029608.html">[nycphp-talk] iterating through a multibyte string
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29607">[ date ]</a>
              <a href="thread.html#29607">[ thread ]</a>
              <a href="subject.html#29607">[ subject ]</a>
              <a href="author.html#29607">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Can I set the response code if a PHP Fatal error	occurs?
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Can%20I%20set%20the%20response%20code%20if%20a%20PHP%20Fatal%20error%0A%09occurs%3F&In-Reply-To=%3C200902171052.21092.jellicle%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027537.html">
   <LINK REL="Next"  HREF="027514.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Can I set the response code if a PHP Fatal error	occurs?</H1>
    <B>Michael Sims</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Can%20I%20set%20the%20response%20code%20if%20a%20PHP%20Fatal%20error%0A%09occurs%3F&In-Reply-To=%3C200902171052.21092.jellicle%40gmail.com%3E"
       TITLE="[nycphp-talk] Can I set the response code if a PHP Fatal error	occurs?">jellicle at gmail.com
       </A><BR>
    <I>Tue Feb 17 10:52:20 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="027537.html">[nycphp-talk] Can I set the response code if a PHP Fatal	error	occurs?
</A></li>
        <LI>Next message: <A HREF="027514.html">[nycphp-talk] Can I set the response code if a PHP Fatal error occurs?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27513">[ date ]</a>
              <a href="thread.html#27513">[ thread ]</a>
              <a href="subject.html#27513">[ subject ]</a>
              <a href="author.html#27513">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tuesday 17 February 2009, <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">lorband at optonline.net</A> wrote:
&gt;<i>  I am using AJAX to submit a PHP request. If a PHP Fatal error occurs
</I>&gt;<i> when running the php program, the http response code is 200 and it
</I>&gt;<i> appears the program ran successfully. Is there a way for php to return a
</I>&gt;<i> 500 http response code when a fatal error occurs so myjava_script that is
</I>&gt;<i> processing the response can alert the user that an error has occurred?
</I>&gt;<i> Try/catch won't capture fatal errors for me to set the header. Thank you,
</I>&gt;<i> Lori
</I>
Your Javascript code should look like this:

a) did I get the right data back from the server?  If so, report success.
b) Otherwise, report failure to the user.

It doesn't matter what went wrong on the server side, if you're just 
reporting to the user.  MAke your PHP script return something (the word 
&quot;good&quot; for example), have your javascript look for that word, if it didn't 
get that word, report to the user &quot;Something seems to be wrong&quot;.

Behind the scenes it might matter to you what went wrong with the PHP 
script, but it doesn't matter to the user at all.  You shouldn't be testing 
the http status code as a way to figure out if things were successful - test 
some data output by the PHP script, where that data is only sent if 
everything went correctly.

Michael Sims

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20090217/627a3f67/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20090217/627a3f67/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027537.html">[nycphp-talk] Can I set the response code if a PHP Fatal	error	occurs?
</A></li>
	<LI>Next message: <A HREF="027514.html">[nycphp-talk] Can I set the response code if a PHP Fatal error occurs?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27513">[ date ]</a>
              <a href="thread.html#27513">[ thread ]</a>
              <a href="subject.html#27513">[ subject ]</a>
              <a href="author.html#27513">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

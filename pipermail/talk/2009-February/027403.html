<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Link to article about nested sets
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Link%20to%20article%20about%20nested%20sets&In-Reply-To=%3Cb76252690902021502q3bb3af0cn1571485eed225407%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027402.html">
   <LINK REL="Next"  HREF="027397.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Link to article about nested sets</H1>
    <B>csnyder</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Link%20to%20article%20about%20nested%20sets&In-Reply-To=%3Cb76252690902021502q3bb3af0cn1571485eed225407%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] Link to article about nested sets">chsnyder at gmail.com
       </A><BR>
    <I>Mon Feb  2 18:02:18 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="027402.html">[nycphp-talk] Link to article about nested sets
</A></li>
        <LI>Next message: <A HREF="027397.html">[nycphp-talk] large file uploads with cgi php
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27403">[ date ]</a>
              <a href="thread.html#27403">[ thread ]</a>
              <a href="subject.html#27403">[ subject ]</a>
              <a href="author.html#27403">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Feb 2, 2009 at 4:14 PM, Dan Cech &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">dcech at phpwerx.net</A>&gt; wrote:
&gt;<i> Ahh yes, good old nested sets.  I still prefer the hybrid approach I
</I>&gt;<i> took with phpGACL (<A HREF="http://phpgacl.sf.net">http://phpgacl.sf.net</A>) and my old clew demo that
</I>&gt;<i> stores both both adjacency and nsm data.
</I>&gt;<i>
</I>&gt;<i> For a very small storage overhead you get the benefits of both
</I>&gt;<i> approaches (try pulling immediate children from an nsm tree) and the
</I>&gt;<i> ability to rebuild the nsm data from scratch if it gets especially
</I>&gt;<i> messed up (not that there would ever be bugs...).
</I>&gt;<i>
</I>&gt;<i> I've been meaning to sit down and try to figure out a variation using
</I>&gt;<i> intervals between the lft and rgt values so that inserts are cheaper,
</I>&gt;<i> just haven't had a project that needed it enough to motivate me yet!
</I>
We use left+right+parentId, so that immediate children are easy to find.

It works pretty well to bulk-insert a bunch of empty nodes and then
use them up as you go (to cut down on insert time). That's not going
to be a good solution if your inserts are really spread out all over
the tree, but in the apps I've built so far the majority of inserts
happen at just a few nodes. Cron can be used to keep a ready supply of
fresh nodes in those locations, and you take nearly the same
performance hit whether you insert one or 50.

If you use NSM, definitely write a test script that bulks up the tree
so you can see what performance is like with 50k nodes vs. 500k nodes.
You're going to notice, and you need to be prepared for it.

Some kind of interval-based partitioning will probably be necessary if
you need to run on a standard server with &gt; 100k nodes, or if you are
going to try to catch a lot of inserts at the same time.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027402.html">[nycphp-talk] Link to article about nested sets
</A></li>
	<LI>Next message: <A HREF="027397.html">[nycphp-talk] large file uploads with cgi php
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27403">[ date ]</a>
              <a href="thread.html#27403">[ thread ]</a>
              <a href="subject.html#27403">[ subject ]</a>
              <a href="author.html#27403">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

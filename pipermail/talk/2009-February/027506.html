<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] slow php
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20slow%20php&In-Reply-To=%3C499A0870.3020701%40gmx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027505.html">
   <LINK REL="Next"  HREF="027508.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] slow php</H1>
    <B>David Krings</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20slow%20php&In-Reply-To=%3C499A0870.3020701%40gmx.net%3E"
       TITLE="[nycphp-talk] slow php">ramons at gmx.net
       </A><BR>
    <I>Mon Feb 16 19:44:32 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="027505.html">[nycphp-talk] slow php
</A></li>
        <LI>Next message: <A HREF="027508.html">[nycphp-talk] slow php
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27506">[ date ]</a>
              <a href="thread.html#27506">[ thread ]</a>
              <a href="subject.html#27506">[ subject ]</a>
              <a href="author.html#27506">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Nicholas Hart wrote:
&gt;<i> Many thanks for the considerable response!  I have changed the code to 
</I>&gt;<i> reduce a large number of SELECTs by saving a query to an array.  My 
</I>&gt;<i> problem now is that although this array is appox. 3,000 records, I need 
</I>&gt;<i> a way to pass this to a function.  Note: the array contains all discount 
</I>&gt;<i> data while the function pulls out several sub-queries per user and 
</I>&gt;<i> product codes.  Since there are 5 sub queries, it is probably easier to 
</I>&gt;<i> pass the main one. 
</I>&gt;<i> 
</I>&gt;<i> Any idea how to pass this array, a pointer to it or make this a global 
</I>&gt;<i> array?  Making a global array appears to be depricated or discouraged.  
</I>&gt;<i> I have tried passing this array which is called $discount but it doesn't 
</I>&gt;<i> appear to be working when I do.  I also run out of memory which at 128MB 
</I>&gt;<i> is kind of odd. 
</I>&gt;<i> 
</I>&gt;<i> Any help is much appreciated..
</I>

One note, please add at least the subject of the thread in when replying to a 
section of a digest email and puleaze trim messages. 90% of your email had 
nothing to do with what you were asking. I won't even get into the top posting 
issue....


Now, by default PHP passes function arguments by value. That means it makes a 
copy of what you specified as argument and works with that copy. That means if 
you pass an array and change an element from within the function the array is 
changed only within the scope of the function. In order to have the original 
be changed as well you can either return the changed array and then assign it 
to the original. The more convenient way is to pass the array by reference, 
because then the function will not make a copy and apply changes to the original.

You find it nicely explained with examples in the PHP manual, especially this 
portion:
<A HREF="http://www.php.net/manual/en/functions.arguments.php">http://www.php.net/manual/en/functions.arguments.php</A>

I must say that the PHO manual is one of the best manuals ever written and the 
web version is even better with all the comments added...although with those 
it happens that some are plain wrong and others are just so old that they no 
longer apply.

Way back when PHP made everything global, which was easier to some extent, but 
really made for sloppy and often incompatible programming. Also, the &quot;&amp;&quot; is 
easily overlooked, so I recommend to mention in the function desciption 
commentary that this array is passed in by reference and what will happen to 
the array passed when using this function.


Crafting very wordy responses is also frowned upon, I take the blame for that one.

David

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027505.html">[nycphp-talk] slow php
</A></li>
	<LI>Next message: <A HREF="027508.html">[nycphp-talk] slow php
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27506">[ date ]</a>
              <a href="thread.html#27506">[ thread ]</a>
              <a href="subject.html#27506">[ subject ]</a>
              <a href="author.html#27506">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

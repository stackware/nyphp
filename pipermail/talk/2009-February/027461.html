<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] lost sessions on redirect
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20lost%20sessions%20on%20redirect&In-Reply-To=%3C20090210033741.GA13991%40panix.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027460.html">
   <LINK REL="Next"  HREF="027463.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] lost sessions on redirect</H1>
    <B>Daniel Convissor</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20lost%20sessions%20on%20redirect&In-Reply-To=%3C20090210033741.GA13991%40panix.com%3E"
       TITLE="[nycphp-talk] lost sessions on redirect">danielc at analysisandsolutions.com
       </A><BR>
    <I>Mon Feb  9 22:37:41 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="027460.html">[nycphp-talk] lost sessions on redirect
</A></li>
        <LI>Next message: <A HREF="027463.html">[nycphp-talk] lost sessions on redirect  - Found
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27461">[ date ]</a>
              <a href="thread.html#27461">[ thread ]</a>
              <a href="subject.html#27461">[ subject ]</a>
              <a href="author.html#27461">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Christina:

Before I get into specific code feedback, you REALLY need to get some 
coding standards in place.  Your nesting is a total mess.  Read and 
follow <A HREF="http://pear.php.net/manual/en/standards.php.">http://pear.php.net/manual/en/standards.php.</A>


On Mon, Feb 09, 2009 at 10:08:30PM -0500, Christina Karlhoff wrote:
&gt;<i>         
</I>&gt;<i>         setcookie(&quot;form&quot;, serialize($_POST), time()+300);
</I>
No.  Put that stuff in the session, not the cookie.


&gt;<i>                         header('Location:
</I>&gt;<i> <A HREF="http://www.wll.com/thankyou.shtml">http://www.wll.com/thankyou.shtml</A>');
</I>&gt;<i>    $_POST['RemoteIP'] = $_SERVER['REMOTE_ADDR'];
</I>... snip ...
&gt;<i>             header('Location: ' . $_SERVER['HTTP_REFERER']);
</I>... snip ...

Ouch.  Security vulnerability.  You can not trust user input.  Unescaped 
user input must not be put directly into databases, HTML, shell execution 
commands or header calls (among other things).  Read 
<A HREF="http://phpsec.org/projects/guide/.">http://phpsec.org/projects/guide/.</A>


&gt;<i>    if ($HTTP_COOKIE_VARS['form']) {
</I>
When you want to access cookies, use $_COOKIE.  That may be the reason 
you're loosing data.  But as mentioned before, you should put this in the 
session.


&gt;<i> So i understand that session error shows which required field was not
</I>&gt;<i> entered by the user... but, what happens to the session vars with the
</I>&gt;<i> form data?
</I>
It's not in the session.  It's in a cookie.

--Dan

-- 
 T H E   A N A L Y S I S   A N D   S O L U T I O N S   C O M P A N Y
            data intensive web and database programming
                <A HREF="http://www.AnalysisAndSolutions.com/">http://www.AnalysisAndSolutions.com/</A>
 4015 7th Ave #4, Brooklyn NY 11232  v: 718-854-0335 f: 718-854-0409

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027460.html">[nycphp-talk] lost sessions on redirect
</A></li>
	<LI>Next message: <A HREF="027463.html">[nycphp-talk] lost sessions on redirect  - Found
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27461">[ date ]</a>
              <a href="thread.html#27461">[ thread ]</a>
              <a href="subject.html#27461">[ subject ]</a>
              <a href="author.html#27461">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

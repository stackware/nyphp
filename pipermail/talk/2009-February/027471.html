<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] slow php
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20slow%20php&In-Reply-To=%3Caa9991030902131237i1bff729cs772243d94145f218%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027470.html">
   <LINK REL="Next"  HREF="027473.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] slow php</H1>
    <B>Jesse Callaway</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20slow%20php&In-Reply-To=%3Caa9991030902131237i1bff729cs772243d94145f218%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] slow php">bonsaime at gmail.com
       </A><BR>
    <I>Fri Feb 13 15:37:06 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="027470.html">[nycphp-talk] slow php
</A></li>
        <LI>Next message: <A HREF="027473.html">[nycphp-talk] slow php
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27471">[ date ]</a>
              <a href="thread.html#27471">[ thread ]</a>
              <a href="subject.html#27471">[ subject ]</a>
              <a href="author.html#27471">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Feb 13, 2009 at 3:31 PM, Nicholas Hart &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">nhart at partsauthority.com</A>&gt; wrote:
&gt;<i> I have a php 'cron job' script which is inserting some records.  It uses
</I>&gt;<i> arrays to store 12 field records along with several nested loops in which it
</I>&gt;<i> tests various currency values from a separate 4 field table and sorts them
</I>&gt;<i> to get the lowest one for insert into a new 4 field table record.  It has
</I>&gt;<i> about 640,000 Product records per 4 Customers or apporx. 2.4 million records
</I>&gt;<i> to insert.  It takes several hours+ to complete and I am hoping there is a
</I>&gt;<i> way to speed it up.
</I>&gt;<i>
</I>&gt;<i> So far, I've tried updating instead of inserting records and changing a few
</I>&gt;<i> functions but nothing seems to make much difference.  Am I being
</I>&gt;<i> unreasonable for the size of the files here?  I'm considering using a
</I>&gt;<i> Derived Table in mySQL and will also consider another language such as
</I>&gt;<i> python.  Please let me know if you have any suggestions.  Thanks.
</I>&gt;<i>
</I>&gt;<i> Nicholas Hart
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP User Group Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>&gt;<i>
</I>
Do your inserts in chunks. If you have the RAM, do one big insert.
Otherwise you have to hit the disk for each record which can be slow
especially if you have table locks going on elsewhere.

-jesse

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027470.html">[nycphp-talk] slow php
</A></li>
	<LI>Next message: <A HREF="027473.html">[nycphp-talk] slow php
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27471">[ date ]</a>
              <a href="thread.html#27471">[ thread ]</a>
              <a href="subject.html#27471">[ subject ]</a>
              <a href="author.html#27471">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

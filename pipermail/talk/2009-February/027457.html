<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] lost sessions on redirect
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20lost%20sessions%20on%20redirect&In-Reply-To=%3C60B906BB-15CC-41DA-A363-2EFE952A4214%40php.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027455.html">
   <LINK REL="Next"  HREF="027459.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] lost sessions on redirect</H1>
    <B>Chris Shiflett</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20lost%20sessions%20on%20redirect&In-Reply-To=%3C60B906BB-15CC-41DA-A363-2EFE952A4214%40php.net%3E"
       TITLE="[nycphp-talk] lost sessions on redirect">shiflett at php.net
       </A><BR>
    <I>Mon Feb  9 20:43:17 EST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="027455.html">[nycphp-talk] lost sessions on redirect
</A></li>
        <LI>Next message: <A HREF="027459.html">[nycphp-talk] lost sessions on redirect
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27457">[ date ]</a>
              <a href="thread.html#27457">[ thread ]</a>
              <a href="subject.html#27457">[ subject ]</a>
              <a href="author.html#27457">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Feb 9, 2009, at 20:02, Michael Southwell wrote:

&gt;<i> Christina Karlhoff wrote:
</I>&gt;&gt;<i> About a year ago NYPHP created a captcha form for our website.  The  
</I>&gt;&gt;<i> html has undergone quite a few changes.  Unfortunately in that  
</I>&gt;&gt;<i> process we've lost some function...when a user submits the form,  
</I>&gt;&gt;<i> forgetting a required field, the session is lost; on the redirect  
</I>&gt;&gt;<i> the data that was input by the user is gone.  Needing some guidance  
</I>&gt;&gt;<i> as to how to fix this.  Help please?
</I>&gt;<i>
</I>&gt;<i> Carry the session id along as a get variable in the redirect,  
</I>&gt;<i> something like this:
</I>&gt;<i> header( 'Location: somewhere.php?PHPSESSID=' . session_id() );
</I>
Probably best to determine the problem first. The Location header  
requires an absolute URL, and the way you've just used it results in a  
lost session on some older versions of IE. (IE correctly determines  
the host for the request, but it fails to include cookies for that  
host.) So, passing along the session identifier in the URL can correct  
this problem, but it's a poor solution.

Christina, do you have LiveHTTPHeaders for Firefox or something like  
it? If we could see the HTTP transaction in question, I'm sure the  
problem will reveal itself.

Chris

--
Chris Shiflett
<A HREF="http://shiflett.org/">http://shiflett.org/</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027455.html">[nycphp-talk] lost sessions on redirect
</A></li>
	<LI>Next message: <A HREF="027459.html">[nycphp-talk] lost sessions on redirect
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27457">[ date ]</a>
              <a href="thread.html#27457">[ thread ]</a>
              <a href="subject.html#27457">[ subject ]</a>
              <a href="author.html#27457">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

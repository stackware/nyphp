<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] exec() funciton help
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2006-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20exec%28%29%20funciton%20help&In-Reply-To=%3C44D4F07F.1090007%40phpwerx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018929.html">
   <LINK REL="Next"  HREF="018939.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] exec() funciton help</H1>
    <B>Dan Cech</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20exec%28%29%20funciton%20help&In-Reply-To=%3C44D4F07F.1090007%40phpwerx.net%3E"
       TITLE="[nycphp-talk] exec() funciton help">dcech at phpwerx.net
       </A><BR>
    <I>Sat Aug  5 15:24:47 EDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018929.html">[nycphp-talk] exec() funciton help
</A></li>
        <LI>Next message: <A HREF="018939.html">[nycphp-talk] exec() funciton help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18938">[ date ]</a>
              <a href="thread.html#18938">[ thread ]</a>
              <a href="subject.html#18938">[ subject ]</a>
              <a href="author.html#18938">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Joseph Crawford wrote:
&gt;<i> I also tried setting the $result and the exec command returns 1
</I>
In command shell speak 1 means an error occurred.

The reason you're not getting any output is that you're redirecting it
to $file.

If your php process doesn't have permission to create the file, it will
just return 1.

You can get around this by doing 2 things.

firstly, touch() the file and chmod it appropriately from php, which
will allow you to react appropriately to any errors there

secondly, redirect stderr from the svn log command to stdout so that you
can see any errors it outputs and react to them:

1. use 1&gt;&amp;3 to 'save' stdout
2. redirect stdout to the output file with 1&gt;filename
3. redirect stderr to the 'saved' stdout with 2&gt;&amp;3

Here is some example code:

$directory = '/home/httpd/vhosts/b2cdev.licketyship.com/httpdocs';
chdir($directory);

$file = 'svn.log';

if (!is_file($file) || !is_readable($file)) {
  if (!touch($file)) {
    echo 'error: couldn't touch '.$file;
    exit;
  }

  chmod($file,0644);

  exec('/usr/bin/svn log -v 1&gt;&amp;3 1&gt;'.$file.' 2&gt;&amp;3',$output,$retval);
  if ($retval != 0) {
    echo 'error: '. implode(&quot;\n&quot;,$output);
    exit;
  }

  echo 'file created';
}

Dan

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018929.html">[nycphp-talk] exec() funciton help
</A></li>
	<LI>Next message: <A HREF="018939.html">[nycphp-talk] exec() funciton help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18938">[ date ]</a>
              <a href="thread.html#18938">[ thread ]</a>
              <a href="subject.html#18938">[ subject ]</a>
              <a href="author.html#18938">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

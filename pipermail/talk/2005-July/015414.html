<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] PHP Sessions on windows
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-July/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20Sessions%20on%20windows&In-Reply-To=%3C0IKI0011HC7E7ISE%40mta1.srv.hcvlny.cv.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015413.html">
   <LINK REL="Next"  HREF="015415.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] PHP Sessions on windows</H1>
    <B>Tom</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20Sessions%20on%20windows&In-Reply-To=%3C0IKI0011HC7E7ISE%40mta1.srv.hcvlny.cv.net%3E"
       TITLE="[nycphp-talk] PHP Sessions on windows">tom at supertom.com
       </A><BR>
    <I>Sun Jul 31 16:04:25 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="015413.html">[nycphp-talk] darwinports
</A></li>
        <LI>Next message: <A HREF="015415.html">[nycphp-talk] PHP Sessions on windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15414">[ date ]</a>
              <a href="thread.html#15414">[ thread ]</a>
              <a href="subject.html#15414">[ subject ]</a>
              <a href="author.html#15414">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey folks,
 
I really must be missing something, and I just can't figure it out.  I can't
seem to get sessions working on windows.  I'm using PHP5.1 beta 3 (I just
upgraded to this, I was using 5.0.4, sessions didn't work there, either),
Apache 2.0.53 on Windows 2000 Professional (workstation, not server).
 
The problem appears to be that the session file is created (and it has data
in it), but not &quot;re-read&quot;, meaning that a new session is ALWAYS created.
 
Apache was originally running as the &quot;LocalSystem&quot; user, I changed it to
Administrator, with no change.
 
Here are the PHP session settings from my system, with my comments about
what I've tried underneath (I doubt this will 'tab' well in everyone's email
client):
 
session.auto_start 	Off	Off 	; tried both on and off
session.bug_compat_42	On On		; tried both on and off
session.bug_compat_warn	On On
session.cache_expire	180 180
session.cache_limiter	nocache nocache
session.cookie_domain	no value no value
session.cookie_lifetime	0 0
session.cookie_path	\ \
session.cookie_secure	Off Off
session.entropy_file	no value no value
session.entropy_length  0 0
session.gc_divisor	1000 1000
session.gc_maxlifetime  1440 1440
session.gc_probability	1 1
session.hash_bits_per_character 5 5
session.hash_function	0 0
session.name   		FOOBAR FOOBAR	; originally running as PHPSESSID -
shouldn't matter anyway
session.referer_check  	no value no value
session.save_handler	files files
(*)session.save_path		C:/Documents and
Settings/Administrator/Local Settings/Temp/php C:/Documents and
Settings/Administrator/Local Settings/Temp/php

session.serialize_handler php php
session.use_cookies  	On On
session.use_only_cookies Off Off
session.use_trans_sid  	0 0
 
 
 
* session.save_path - (no, the star is not in my php.ini file) I've had the
save path at c:\temp, c:\tmp and the entry above.  I've had all of the
slashes in both directions '\' and '/' with no luck (I'm not even sure which
one is right anymore).  I've set permissions on all of the directories, and
their parents to &quot;full control&quot; for &quot;Everybody&quot;.  Like I said earlier, the
file is getting written, it is just not being read back in.

Ok, here is my PHP test code.  Works fine on Linux:

&lt;?php
session_start();
// Use $HTTP_SESSION_VARS with PHP 4.0.6 or less
if (!isset($_SESSION['count'])) {
  $_SESSION['count'] = 0;
} else {
  $_SESSION['count']++;
}

print &quot;Counter=&quot;.$_SESSION['count'];

print &quot;&lt;br&gt;&lt;a href=session_test2.php&gt;Go to page 2&lt;/a&gt;&quot;;

print &quot;&lt;br&gt;&lt;a href=session_test_delete.php&gt;Clear Session&lt;/a&gt;&quot;;

?&gt;

I also notice the data in the session file isn't encrypted in any way.
Should it be?  I would think it would be at least base64 encoded....

Any suggestions greatly appreciated - this is very frustrating!

Thanks,

Tom

<A HREF="http://www.liphp.org">http://www.liphp.org</A>




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015413.html">[nycphp-talk] darwinports
</A></li>
	<LI>Next message: <A HREF="015415.html">[nycphp-talk] PHP Sessions on windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15414">[ date ]</a>
              <a href="thread.html#15414">[ thread ]</a>
              <a href="subject.html#15414">[ subject ]</a>
              <a href="author.html#15414">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] php install: &quot;can't find mysql headers&quot;
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2005-July/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20php%20install%3A%20%22can%27t%20find%20mysql%20headers%22&In-Reply-To=%3C000701c585c0%243ffa23e0%246801a8c0%40allen%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015200.html">
   <LINK REL="Next"  HREF="015205.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] php install: &quot;can't find mysql headers&quot;</H1>
    <B>Allen Shaw</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20php%20install%3A%20%22can%27t%20find%20mysql%20headers%22&In-Reply-To=%3C000701c585c0%243ffa23e0%246801a8c0%40allen%3E"
       TITLE="[nycphp-talk] php install: &quot;can't find mysql headers&quot;">ashaw at iifwp.org
       </A><BR>
    <I>Sun Jul 10 22:28:33 EDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="015200.html">[nycphp-talk] php install: &quot;can't find mysql headers&quot;
</A></li>
        <LI>Next message: <A HREF="015205.html">[nycphp-talk] php install: &quot;can't find mysql headers&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15203">[ date ]</a>
              <a href="thread.html#15203">[ thread ]</a>
              <a href="subject.html#15203">[ subject ]</a>
              <a href="author.html#15203">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Oh, boy, what a bunch of quality advice. Hans (and a couple of others I
guess) hit it on the head:
&gt;<i> It's probably a cross
</I>&gt;<i> compile/RPM issue/version mismatch.
</I>
I had mismatching versions of the mysql rpms -- something like devel-4.0.25,
server-4.0.22, client-4.0.22.  Like Hans suggested, I wiped 'em all out,
installed new packages (all 4.0.25) from MySQL AB, and recompiled PHP.
Configure ('--with-mysql=/usr') ran without a hitch, as did the rest of the
install.  Ace the installation problem.  Restart apache, and the segfaults
go away, too, at least all the ones I've noticed so far.  Ace the segfault
problem.

This is great to know.  From what I saw on the web, these problems
(apparently random segfaults from php/mysql; and &quot;cannot find headers&quot; in
php compile) have hit a number of people, and none of them were lucky enough
to find solutions this quickly; nobody suggested this cause to them, at
least not in the online discussions.  Hopefully the next guy will either
google up this list archive or have the good fortune of knowing a few folks
who know their stuff.

Thanks much,
Allen
----- Original Message ----- 
From: &quot;Hans Zaunere&quot; &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">lists at zaunere.com</A>&gt;
To: &quot;'NYPHP Talk'&quot; &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>&gt;
Sent: Sunday, July 10, 2005 2:55 PM
Subject: RE: [nycphp-talk] php install: &quot;can't find mysql headers&quot;


&gt;<i>
</I>&gt;<i> &gt; Okay, I decided to go with a source install, and now I'm just confused.
</I>&gt;<i> &gt; As I mentioned earlier I installed php 4.3.11 from source this morning
</I>&gt;<i> &gt; without removing the existing php rpms, and I noticed that some things
</I>&gt;<i> &gt; weren't working.  So I went back and removed those rpms and tried to
</I>&gt;<i> &gt; rebuild again, but the problems don't go away.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The real problem I'm trying to solve is that apache (1.3) is
</I>&gt;<i> &gt; consistently segfaulting on a few apparently randomly chosen calls.
</I>&gt;<i> &gt; That is, I have a few links on my site that are garuanteed to cause a
</I>&gt;<i> &gt; segmentation fault in apache, but it's seems oddly random why those
</I>&gt;<i> &gt; links are broken and not any other.  So I thought, maybe it's an arcane
</I>&gt;<i> &gt; php bug; upgrade to latest and then submit a bug-report if necessary.
</I>&gt;<i> &gt; Even stranger, now that I've upgraded, I get the *same* behavior, but on
</I>&gt;<i> &gt; *different* links (including any select operations with phpMyAdmin, but
</I>&gt;<i> &gt; not update, insert, etc., and not selects in other php scripts...)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; But my hope has been that, maybe, just maybe, there IS a bug in php's
</I>&gt;<i>
</I>&gt;<i> Hmm, unlikely - at least for something this simple.  It's probably a cross
</I>&gt;<i> compile/RPM issue/version mismatch.
</I>&gt;<i>
</I>&gt;<i> &gt; mysql support somewhere, and if I were to compile
</I>&gt;<i> &gt; --with-mysql=/path/to/mysql-headers I might just be okay.  But that
</I>&gt;<i> &gt; seems a no-go, too.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Using '--with-mysql=/usr/include/mysql' gets me the error 'Cannot find
</I>&gt;<i> &gt; MySQL header files under /usr/include/mysql'; same for
</I>&gt;<i> &gt; '--with-mysql=/usr/lib/mysql'.  Those are the only two directories that
</I>&gt;<i> &gt; rpm says contain files from the MySQL-devel package.  And
</I>&gt;<i> &gt; /usr/include/mysql does contain mysql.h .
</I>&gt;<i>
</I>&gt;<i> So you have the RPMs of MySQL installed?  And you've also installed the
</I>&gt;<i> libs/headers/shared libs/ RPMs from mysql.com, right?  Just to be overly
</I>&gt;<i> certain, you also have all the same version number and playform, right?
</I>&gt;<i>
</I>&gt;<i> Before installing them, remove all MySQL or PHP RPMs.
</I>&gt;<i>
</I>&gt;<i> rpm -qa | grep -i mysql
</I>&gt;<i> rpm -qa | grep -i php
</I>&gt;<i>
</I>&gt;<i> Then of course rpm -e each one.
</I>&gt;<i>
</I>&gt;<i> Once you seem to have things settled on that end, install the MySQL rpms.
</I>&gt;<i> And probably wouldn't hurt to run ldconfig and check ldconfig -p to make
</I>&gt;<i> sure the libs are installed and ready to be found (ie, they are listed).
</I>&gt;<i>
</I>&gt;<i> Now you can compile PHP, specifying the base path of the MySQL install,:
</I>&gt;<i>
</I>&gt;<i> --with-mysql=/usr
</I>&gt;<i>
</I>&gt;<i> Give that a try and see if it helps.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ---
</I>&gt;<i> Hans Zaunere
</I>&gt;<i> President, Founder
</I>&gt;<i>
</I>&gt;<i> New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.org">http://www.nyphp.org</A>
</I>&gt;<i>
</I>&gt;<i> AMP Technology
</I>&gt;<i> Supporting Apache, MySQL and PHP
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Talk Mailing List
</I>&gt;<i> AMP Technology
</I>&gt;<i> Supporting Apache, MySQL and PHP
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> <A HREF="http://www.nyphp.org">http://www.nyphp.org</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015200.html">[nycphp-talk] php install: &quot;can't find mysql headers&quot;
</A></li>
	<LI>Next message: <A HREF="015205.html">[nycphp-talk] php install: &quot;can't find mysql headers&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15203">[ date ]</a>
              <a href="thread.html#15203">[ thread ]</a>
              <a href="subject.html#15203">[ subject ]</a>
              <a href="author.html#15203">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

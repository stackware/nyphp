<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] PHP + UTF-8 + mb_string issue.
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-March/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20%2B%20UTF-8%20%2B%20mb_string%20issue.&In-Reply-To=%3C200703211050.26510.arzala%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021440.html">
   <LINK REL="Next"  HREF="021442.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] PHP + UTF-8 + mb_string issue.</H1>
    <B>Anirudh Zala</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20%2B%20UTF-8%20%2B%20mb_string%20issue.&In-Reply-To=%3C200703211050.26510.arzala%40gmail.com%3E"
       TITLE="[nycphp-talk] PHP + UTF-8 + mb_string issue.">arzala at gmail.com
       </A><BR>
    <I>Wed Mar 21 01:20:26 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="021440.html">[nycphp-talk] PHP on a Corporate IntrAnet w/ AD
</A></li>
        <LI>Next message: <A HREF="021442.html">[nycphp-talk] PHP + UTF-8 + mb_string issue.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21441">[ date ]</a>
              <a href="thread.html#21441">[ thread ]</a>
              <a href="subject.html#21441">[ subject ]</a>
              <a href="author.html#21441">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Everybody,

While building a truly multilingual project, I am running into an interesting 
problem with php5 + utf-8 + mb_string. Please study below table carefully. I 
have taken 1 word in 3 different languages English, Finnish (of Finland 
country) and Gujarati (of India country) to test PHP's Unicode character set 
handling with single and multibyte strings using mb_string extension.

Word appearing on left of &quot;=&quot; sign is actual string whose length is to be 
counted. What I have tried here is to count length of word in each language. 
For English and Finnish I have got correct results but for Gujarati language 
it seems that mb_string(?) is not working properly.

=======================================================
zala = 1 word; 4 bytes; 4 characters (z, a, l, a); 4 key-strokes (z, a, l, a); 
&quot;strlen&quot; should be 4 and is 4 also.

z&#228;l&#228; = 1 word; 4 bytes; 4 characters (z, &#228;, l, &#228;); 4 key-strokes (z, &#228;, l, &#228;); 
&quot;strlen&quot; should be 4 and is 4 also.

&#2717;&#2750;&#2738;&#2750;  = 1 word; 4 bytes; 2 characters (&#2717;&#2750;, &#2738;&#2750;); 4 key-strokes (&#2717;, &#2750;, &#2738;, &#2750;); 
&quot;strlen&quot; should be 2 but is 4.
=======================================================

Question is why PHP is not able to count length of given string in practical 
way. I am aware that current PHP versions are not aware of string, instead 
they just deal with bytes. In that case output is correct but this is not 
practical solution as length of word in Gujarati language is only &quot;2&quot; (In 
Indic languages, we have primary characters like &quot;&#2717;&quot; and secondary characters 
like &quot;&#2750;&quot;, but there is not value of secondary characters without primary 
characters) and not &quot;4&quot; even if it requires 4 bytes to store data.

I am sure that I am not missing any settings to be done at server, php or at 
client level to work this correctly. English and Finnish languages are 
different languages but they are part of same character set (i.e Latin) and 
their glyph is also same, while Gujarati language has different character set 
and it's glyph is also different. But this should not create this problem if 
&quot;mb_string&quot; is capable to handle strings in proper way.

Thanks,

Anirudh Zala

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021440.html">[nycphp-talk] PHP on a Corporate IntrAnet w/ AD
</A></li>
	<LI>Next message: <A HREF="021442.html">[nycphp-talk] PHP + UTF-8 + mb_string issue.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21441">[ date ]</a>
              <a href="thread.html#21441">[ thread ]</a>
              <a href="subject.html#21441">[ subject ]</a>
              <a href="author.html#21441">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] PHP + UTF-8 + mb_string issue.
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-March/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20%2B%20UTF-8%20%2B%20mb_string%20issue.&In-Reply-To=%3C200703211849.20842.arzala%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021446.html">
   <LINK REL="Next"  HREF="021443.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] PHP + UTF-8 + mb_string issue.</H1>
    <B>Anirudh Zala</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20%2B%20UTF-8%20%2B%20mb_string%20issue.&In-Reply-To=%3C200703211849.20842.arzala%40gmail.com%3E"
       TITLE="[nycphp-talk] PHP + UTF-8 + mb_string issue.">arzala at gmail.com
       </A><BR>
    <I>Wed Mar 21 09:19:20 EDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="021446.html">[nycphp-talk] PHP + UTF-8 + mb_string issue.
</A></li>
        <LI>Next message: <A HREF="021443.html">[nycphp-talk] PHP + UTF-8 + mb_string issue.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21447">[ date ]</a>
              <a href="thread.html#21447">[ thread ]</a>
              <a href="subject.html#21447">[ subject ]</a>
              <a href="author.html#21447">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wednesday 21 March 2007 16:05, Mark Armendariz wrote:
&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>] On Behalf Of Anirudh Zala
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Question is why PHP is not able to count length of given
</I>&gt;<i> &gt; string in practical way. I am aware that current PHP versions
</I>&gt;<i> &gt; are not aware of string, instead they just deal with bytes.
</I>&gt;<i> &gt; In that case output is correct but this is not practical
</I>&gt;<i> &gt; solution as length of word in Gujarati language is only &quot;2&quot;
</I>&gt;<i> &gt; (In Indic languages, we have primary characters like &quot;?&quot; and
</I>&gt;<i> &gt; secondary characters like &quot;?&quot;, but there is not value of
</I>&gt;<i> &gt; secondary characters without primary
</I>&gt;<i> &gt; characters) and not &quot;4&quot; even if it requires 4 bytes to store data.
</I>&gt;<i>
</I>&gt;<i> It's my understanding that the mbstring extension doesn't actually replace
</I>&gt;<i> php functions.  If you're using the extension, you'll have to use the
</I>&gt;<i> mb_string functions, (mb_strlen in this case).
</I>
It does if you set directive &quot;mbstring.func_overload=7&quot; in php.ini or in 
server configuration file.

&gt;<i>
</I>&gt;<i> On another note, something to use if you don't / can't use the extensions:
</I>&gt;<i> <A HREF="http://dev.splitbrain.org/view/darcs/dokuwiki/inc/utf8.php">http://dev.splitbrain.org/view/darcs/dokuwiki/inc/utf8.php</A>
</I>&gt;<i>
</I>&gt;<i> I grabbed this while doing research for a project I haven't started yet -
</I>&gt;<i> so I haven't had the chance to try it out, but it comes well recommended.
</I>&gt;<i>
</I>&gt;<i> Specific to your cause (from the link):
</I>&gt;<i>
</I>&gt;<i> /**
</I>&gt;<i>  * Unicode aware replacement for strlen()
</I>&gt;<i>  *
</I>&gt;<i>  * utf8_decode() converts characters that are not in ISO-8859-1
</I>&gt;<i>  * to '?', which, for the purpose of counting, is alright - It's
</I>&gt;<i>  * even faster than mb_strlen.
</I>&gt;<i>  *
</I>&gt;<i>  * @author &lt;chernyshevsky at hotmail dot com&gt;
</I>&gt;<i>  * @see    strlen()
</I>&gt;<i>  * @see    utf8_decode()
</I>&gt;<i>  */
</I>&gt;<i> function utf8_strlen($string){
</I>&gt;<i>   return strlen(utf8_decode($string));
</I>&gt;<i> }
</I>&gt;<i>
</I>
I throughout use UTF-8 encoding in input, processing, storing, output data 
hence data is already in UTF-8 format.

I have found that it is UTF-8 encoding that it is not properly supporting 
Indic languages as it has been designed so. My tested word requires 4 bytes 
to store in UTF-8 encoding hence in that way php + mbstring works properly. 
So I have concluded that it is not anymore php and/or mbstring issue as it 
happens same when I try to calculate length using SQL or using any other 
scripting language.

In Indic languages, there are separate alphabats for vowels and consonants. 
There is grammatical rule that when any vowel is used alone then count it's 
length as 1 but when it is used along with any consonant then count only 
consonant. That is how languages are used in communication, writing, reading 
etc. But while accommodating characters in UTF-8 encoding, developers either 
thought in different way or they have been told to do so.

&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I hope that works for you.
</I>&gt;<i>
</I>&gt;<i> Mark Armendariz
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i>
</I>&gt;<i> Show Your Participation in New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>
Thanks for suggestions.

Anirudh Zala

(30% of Internet resources, 
used to deliver web-pages, 
are wasted by unnecessary 
tabs and spaces.)

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021446.html">[nycphp-talk] PHP + UTF-8 + mb_string issue.
</A></li>
	<LI>Next message: <A HREF="021443.html">[nycphp-talk] PHP + UTF-8 + mb_string issue.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21447">[ date ]</a>
              <a href="thread.html#21447">[ thread ]</a>
              <a href="subject.html#21447">[ subject ]</a>
              <a href="author.html#21447">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

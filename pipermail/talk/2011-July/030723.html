<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] cookies and experiation
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2011-July/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20cookies%20and%20experiation&In-Reply-To=%3C9E428F2CA3BF46CE864FF34B9CD73038%40michelePC%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030721.html">
   <LINK REL="Next"  HREF="030724.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] cookies and experiation</H1>
    <B>Margaret Waldman</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20cookies%20and%20experiation&In-Reply-To=%3C9E428F2CA3BF46CE864FF34B9CD73038%40michelePC%3E"
       TITLE="[nycphp-talk] cookies and experiation">mmwaldman at nyc.rr.com
       </A><BR>
    <I>Sun Jul 10 12:09:46 EDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="030721.html">[nycphp-talk] cookies and experiation
</A></li>
        <LI>Next message: <A HREF="030724.html">[nycphp-talk] cookies and experiation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30723">[ date ]</a>
              <a href="thread.html#30723">[ thread ]</a>
              <a href="subject.html#30723">[ subject ]</a>
              <a href="author.html#30723">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I&#8217;ve thought of all of this ...


- is using the same computer for five years
- has never reformatted the hard drive or re-installed a fresh OS
- has never switched browsers
- has never cleared their cookies

Thanks for PHP_INT_MAX.  
From: Jim Yi 
Sent: Sunday, July 10, 2011 10:44 AM
To: NYPHP Talk 
Subject: Re: [nycphp-talk] cookies and experiation

PHP has some useful predefined constants, particularly PHP_INT_MAX in this case (<A HREF="http://php.net/manual/en/reserved.constants.php">http://php.net/manual/en/reserved.constants.php</A>).  What you should really be doing while setting the cookie is ignoring time() completely, and just set the expiration time to the maximum size of an integer.

  setcookie(&#8220;name&#8221;, &#8220;val&#8221;, PHP_INT_MAX);

This way, the cookie expires in 2038 for everyone, which is the furthest expiration you can set anyway.

On a more theoretical note, there really isn't a need to set a cookie's expiration date beyond, let's say 5 years.  For that cookie to even still be alive, you have to hope that the user:
- is using the same computer for five years
- has never reformatted the hard drive or re-installed a fresh OS
- has never switched browsers
- has never cleared their cookies

I'd say a combination of all of the above is extremely rare, and I can't really think of a good use-case where a cookie would still be useful 5 years from now, given that the internet is constantly evolving.

---
Jim Yi



On Sun, Jul 10, 2011 at 9:56 AM, Margaret Waldman &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mmwaldman at nyc.rr.com</A>&gt; wrote:

  I wanted to create a cookie that basically never expires.

  time() + x

  We can live to say 100 or so, so say 125 years expiration would be good.

  time() + 3944700000

  But that number is too big.

  Intval says on a 32 bit machine max is 2147483647.

  So 2147483647 &#8211; time() = 4294967294, which is bigger than 2147483647

  2147483647 = 68 years but because I&#8217;m adding time it grows bigger than the bigger integer

  But I really can only do this 2147483647  - time() = 837178076 26 years

  But php wasn&#8217;t crapping out on 290000000 + time(), so what really is the biggest integer

  Time today =            1310305571
  Time tomorrow =     1310391971
  Next year will be =   1341863171 (42 years)
  In 20 years will be = 1372420841 (52 years)

  So, 2147483647 &#8211; time in 20 year (1372420841) = 775062806 approx 23 years

  The numbers don&#8217;t look quite right but at time increases the life time you can extend in ints decreases.

  So, instead of just adding a value to time, I should

  $newLife = 2147483647  - time();

  setcookie(&#8220;name&#8221;, &#8220;val&#8221;, time() + newLife);

  I&#8217;m sure by the time, time() grows to be so big that this formula is an issue, integers will be big enough to handle it?

  Anyway, does anyone know the real max size of an integer? Cause it ain&#8217;t 2147483647 like the docs say for a 32 bit machine.

  Margaret Michele Waldman

  _______________________________________________
  New York PHP Users Group Community Talk Mailing List
  <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>

  <A HREF="http://www.nyphp.org/Show-Participation">http://www.nyphp.org/Show-Participation</A>





--------------------------------------------------------------------------------
_______________________________________________
New York PHP Users Group Community Talk Mailing List
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>

<A HREF="http://www.nyphp.org/Show-Participation">http://www.nyphp.org/Show-Participation</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20110710/4aba4b78/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20110710/4aba4b78/attachment.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: wlEmoticon-smile[1].png
Type: image/png
Size: 1041 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20110710/4aba4b78/attachment.png">http://lists.nyphp.org/pipermail/talk/attachments/20110710/4aba4b78/attachment.png</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030721.html">[nycphp-talk] cookies and experiation
</A></li>
	<LI>Next message: <A HREF="030724.html">[nycphp-talk] cookies and experiation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30723">[ date ]</a>
              <a href="thread.html#30723">[ thread ]</a>
              <a href="subject.html#30723">[ subject ]</a>
              <a href="author.html#30723">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

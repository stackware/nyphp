<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] timezone dropdown help
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2007-January/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20timezone%20dropdown%20help&In-Reply-To=%3C45BA8BB6.2010800%40gmx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020759.html">
   <LINK REL="Next"  HREF="020778.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] timezone dropdown help</H1>
    <B>David Krings</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20timezone%20dropdown%20help&In-Reply-To=%3C45BA8BB6.2010800%40gmx.net%3E"
       TITLE="[nycphp-talk] timezone dropdown help">ramons at gmx.net
       </A><BR>
    <I>Fri Jan 26 18:16:06 EST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="020759.html">[nycphp-talk] timezone dropdown help
</A></li>
        <LI>Next message: <A HREF="020778.html">[nycphp-talk] timezone dropdown help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20763">[ date ]</a>
              <a href="thread.html#20763">[ thread ]</a>
              <a href="subject.html#20763">[ subject ]</a>
              <a href="author.html#20763">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Aniesh joseph wrote:
&gt;<i> hi
</I>&gt;<i> 
</I>&gt;<i> I need to make a drop down in my web site in a registration form. From the
</I>&gt;<i> drop down user can select the his desired time zone. My question is, I want
</I>&gt;<i> to capture user's timezone using javascript and it will be shown as slected
</I>&gt;<i> when at the time of registration. I got a javascript, it will capture 
</I>&gt;<i> only timezoneoffset.  Is anyrelation between timezone offset and name? 
</I>&gt;<i> Is ie available as table? Can anyne help me to d this or by suggest 
</I>&gt;<i> another method ?
</I>&gt;<i> 
</I>&gt;<i> regards
</I>&gt;<i> joseph
</I>&gt;<i> 
</I>
Some time ago I asked a similar question and someone on this list was so 
nice to provide me with the ECMAScript for the client side to pull out 
the time zone bias.

The general code is this one

       if(!isset($_COOKIE['GMT_bias'])) {
       ?&gt;
	     &lt;script type=&quot;text/javascript&quot;&gt;
	     var Cookies = {};
	     /***
	     * @name = string, name of cookie
	     * @value = string, value of cookie
	     * @days = int, number of days before cookie expires
	     ***/
	     Cookies.create = function (name, value, days) {
	          if (days) {
		    var date = new Date();
		    date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
		    var expires = &quot;; expires=&quot; + date.toGMTString();
	     } else {
		    var expires = &quot;&quot;;
	     }
	     document.cookie = name + &quot;=&quot; + value + expires + &quot;; path=/&quot;;
	     this[name] = value;
	     }
	     var now = new Date();
	     Cookies.create(&quot;GMT_bias&quot;,now.getTimezoneOffset(),7);
	     window.location = &quot;&lt;?php echo $_SERVER['PHP_SELF'];?&gt;&quot;;
	     &lt;/script&gt;
       &lt;?php
       } else {
	     echo $_COOKIE['GMT_bias'];
       }

It will simply echo the bias in minutes, which should be good enough to 
find out the client's time zone by name assuming you have some table for 
lookups or can pull that from the server system (no idea how that works, 
but other programming languages can do that. Since PHP can do anything 
including cooking breakfast, there should be some way).


At least it gets you started.

	David

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020759.html">[nycphp-talk] timezone dropdown help
</A></li>
	<LI>Next message: <A HREF="020778.html">[nycphp-talk] timezone dropdown help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20763">[ date ]</a>
              <a href="thread.html#20763">[ thread ]</a>
              <a href="subject.html#20763">[ subject ]</a>
              <a href="author.html#20763">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

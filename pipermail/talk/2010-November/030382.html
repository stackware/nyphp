<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] SPROCs in the MySQL/PostgreSQL + PHP crowd
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2010-November/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20SPROCs%20in%20the%20MySQL/PostgreSQL%20%2B%20PHP%20crowd&In-Reply-To=%3C4CDB181A.5060300%40devonianfarm.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030381.html">
   <LINK REL="Next"  HREF="030380.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] SPROCs in the MySQL/PostgreSQL + PHP crowd</H1>
    <B>Paul A Houle</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20SPROCs%20in%20the%20MySQL/PostgreSQL%20%2B%20PHP%20crowd&In-Reply-To=%3C4CDB181A.5060300%40devonianfarm.com%3E"
       TITLE="[nycphp-talk] SPROCs in the MySQL/PostgreSQL + PHP crowd">paul at devonianfarm.com
       </A><BR>
    <I>Wed Nov 10 17:09:30 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="030381.html">[nycphp-talk] SPROCs in the MySQL/PostgreSQL + PHP crowd
</A></li>
        <LI>Next message: <A HREF="030380.html">[nycphp-talk] SPROCs in the MySQL/PostgreSQL + PHP crowd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30382">[ date ]</a>
              <a href="thread.html#30382">[ thread ]</a>
              <a href="subject.html#30382">[ subject ]</a>
              <a href="author.html#30382">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  On 11/10/2010 4:48 PM, David Wang wrote:
&gt;<i> I'll second this.  The problem i've always had in the past with sprocs 
</I>&gt;<i> is that it adds another layer of abstraction to the business logic and 
</I>&gt;<i> difficult to manage changes for.  I've always told my developers to 
</I>&gt;<i> move it out of the sprocs and into the code so we see what's going on 
</I>&gt;<i> and can manage changes in a code repository.
</I>&gt;<i>
</I>&gt;<i> The only time i've bit the bullet and moved logic into sprocs was when 
</I>&gt;<i> there was a mixed language environment.  Instead of duplicating logic, 
</I>&gt;<i> we put the logic in the database using sprocs so that both languages 
</I>&gt;<i> had access and logic didn't have to be duplicated.
</I>     Most of the system I've worked on do not use sprocs,  or only use 
them in a minor way.  I have worked on two projects that were heavily 
sproc-based,  and it really wasn't that bad.

     We addressed the version control problem by using migration scripts 
that worked,  more or less,  like migrations in Ruby On Rails.  This 
gave us acceptable version control,  although of course we didn't get a 
complete change log from our VCS.  (It wouldn't be much effort to build 
some script that would help with this,  however)

     I've used sprocs quite a bit in MS SQL server to &quot;add commands&quot; to 
do things that are a pain to do in the SQL monitor,  for instance

<A HREF="http://gen5.info/q/2008/06/06/how-to-drop-a-primary-key-in-microsoft-sql-server/">http://gen5.info/q/2008/06/06/how-to-drop-a-primary-key-in-microsoft-sql-server/</A>

---

     Note that a possible architecture for a db app is to have a 
class/source code file/folder that has all of your SQL statements in 
it,  wrapped up in functions.  An app built like this looks a lot like 
one that's based on stored procedures,  but has the advantage that it's 
all written in one language.  It's also easy to make a system like this 
compatible with different database systems by swapping out different 
versions of this class.  (Wrappers like this are also logical to put 
around real sprocs too...)

     Of course,  this architecture and the sproc-based architecture is 
incompatible with the popular ORM-based architecture,  which takes it's 
own approach to the database abstraction problem.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030381.html">[nycphp-talk] SPROCs in the MySQL/PostgreSQL + PHP crowd
</A></li>
	<LI>Next message: <A HREF="030380.html">[nycphp-talk] SPROCs in the MySQL/PostgreSQL + PHP crowd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30382">[ date ]</a>
              <a href="thread.html#30382">[ thread ]</a>
              <a href="subject.html#30382">[ subject ]</a>
              <a href="author.html#30382">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

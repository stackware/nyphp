<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] can't change charset on Apache vhost
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2010-November/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20can%27t%20change%20charset%20on%20Apache%20vhost&In-Reply-To=%3CAANLkTimUWKJMSHS1HJ5eScQEJD04RgHZ-isgSS3ahuFj%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030435.html">
   <LINK REL="Next"  HREF="030439.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] can't change charset on Apache vhost</H1>
    <B>David Mintz</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20can%27t%20change%20charset%20on%20Apache%20vhost&In-Reply-To=%3CAANLkTimUWKJMSHS1HJ5eScQEJD04RgHZ-isgSS3ahuFj%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] can't change charset on Apache vhost">david at davidmintz.org
       </A><BR>
    <I>Tue Nov 30 15:19:07 EST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="030435.html">[nycphp-talk] Talk Proposal: Unit Testing
</A></li>
        <LI>Next message: <A HREF="030439.html">[nycphp-talk] can't change charset on Apache vhost
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30438">[ date ]</a>
              <a href="thread.html#30438">[ thread ]</a>
              <a href="subject.html#30438">[ subject ]</a>
              <a href="author.html#30438">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Running Apache/2.2.12 (Ubuntu) PHP/5.2.10 on my development machine, I have
a few vhosts and I need one of them to serve iso-8859-1 rather than UTF-8.
Try as I might, it remains UTF-8. I have added AddDefaultCharset ISO-8859-1
to the vhost definition. In desperation I have also tried adding the same
directive to httpd.conf and apache2.conf. Nothing works. Wondering if it had
to do with PHP rather than static html, I have tried accessing a file that
is indeed static:  same story.

Wondering if there was something peculiar about this particular vhost, I
have tried setting and resetting the same value in other vhosts and looking
at the response headers after reloading the modified config, and it works as
it's supposed to. So, the question is, what's different? Answer:  I don't
know. Is the charset getting overridden by a local .htaccess file? No. Am I
remembering to tell Apache to reload its config after changing its config?
Yes.

The offending host definition looks like this:

&lt;VirtualHost *:80&gt;
ServerAdmin <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">david_mintz at nysd.uscourts.gov</A>
Servername interps3
AddDefaultCharset ISO-8859-1
DocumentRoot /var/www/interps3
&lt;Directory /&gt;
Options FollowSymLinks
AllowOverride None
&lt;/Directory&gt;
&lt;Directory /var/www/interps3&gt;
Options Indexes FollowSymLinks MultiViews
AllowOverride All
Order allow,deny
allow from all
&lt;/Directory&gt;

 ErrorLog /var/log/apache2/interps3.error.log

# Possible values include: debug, info, notice, warn, error, crit,
# alert, emerg.
LogLevel warn
CustomLog /var/log/apache2/access.log combined
&lt;/VirtualHost&gt;

and yet...


<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">root at interps3</A>:/etc/apache2/sites-available# curl -I interps3/index.php

HTTP/1.1 200 OK
Date: Tue, 30 Nov 2010 20:13:27 GMT
Server: Apache/2.2.12 (Ubuntu) PHP/5.2.10-2ubuntu6.5 with Suhosin-Patch
X-Powered-By: PHP/5.2.10-2ubuntu6.5
Vary: Accept-Encoding
Content-Type: text/html; charset=utf-8

By the way, the reason I care is that there are MySQL tables defined as
latin1 with accented characters that aren't getting displayed correctly, and
I have been through this before and am reasonably certain that it's a
charset mismatch issue.


I am mystified. Any suggestions?

Gratefully,



-- 
David Mintz
<A HREF="http://davidmintz.org/">http://davidmintz.org/</A>
It ain't over:
<A HREF="http://www.healthcare-now.org/">http://www.healthcare-now.org/</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20101130/4c3cd38e/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20101130/4c3cd38e/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030435.html">[nycphp-talk] Talk Proposal: Unit Testing
</A></li>
	<LI>Next message: <A HREF="030439.html">[nycphp-talk] can't change charset on Apache vhost
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30438">[ date ]</a>
              <a href="thread.html#30438">[ thread ]</a>
              <a href="subject.html#30438">[ subject ]</a>
              <a href="author.html#30438">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

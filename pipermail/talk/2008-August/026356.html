<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] PHP Bcc Headers
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20Bcc%20Headers&In-Reply-To=%3C48977997.3010804%40omnistep.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026353.html">
   <LINK REL="Next"  HREF="026357.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] PHP Bcc Headers</H1>
    <B>Rolan Yang</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20Bcc%20Headers&In-Reply-To=%3C48977997.3010804%40omnistep.com%3E"
       TITLE="[nycphp-talk] PHP Bcc Headers">rolan at omnistep.com
       </A><BR>
    <I>Mon Aug  4 17:50:15 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026353.html">[nycphp-talk] PHP Bcc Headers
</A></li>
        <LI>Next message: <A HREF="026357.html">[nycphp-talk] PHP Bcc Headers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26356">[ date ]</a>
              <a href="thread.html#26356">[ thread ]</a>
              <a href="subject.html#26356">[ subject ]</a>
              <a href="author.html#26356">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Some mail servers will send out email using a default envelope like 
&quot;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">apache at localhost.com</A>&quot; (even though the email header reads 
&quot;From:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">member at sovsite.com</A>&quot;).
The receiving mail server will see this domain as bogus and reject the 
email as spam. If this is done at the start of the smtp session, the 
recipient will never even see it. Try adding this additional parameter 
to your mail function:

mail(&quot;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">greg at lioncube.com</A> &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">greg at lioncube.com</A>&gt;&quot;, &quot;test&quot;, &quot;test&quot;, 
$headers,'-f <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">member at sovsite.com</A>');

The &quot;-f&quot; passes the value to sendmail or postfix to use as the envelope 
sender.

~Rolan


(Margaret) Michele Waldman wrote:
&gt;<i>
</I>&gt;<i> I did resort to calling mail() twice. I hated doing it.
</I>&gt;<i>
</I>&gt;<i> Then he called me and said there was no from on the email and the 
</I>&gt;<i> client isn&#8217;t getting the email, which made me think it was a header 
</I>&gt;<i> issue again.
</I>&gt;<i>
</I>&gt;<i> However, My testing shows there is a from.
</I>&gt;<i>
</I>&gt;<i> I think the email in question has spam filters set too high.
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> *From:* <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A> 
</I>&gt;<i> [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>] *On Behalf Of *Patrick May
</I>&gt;<i> *Sent:* Monday, August 04, 2008 3:47 PM
</I>&gt;<i> *To:* NYPHP Talk
</I>&gt;<i> *Subject:* Re: [nycphp-talk] PHP Bcc Headers
</I>&gt;<i>
</I>&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> I recommend following bzcoder's suggestion of using PHP Mailer, or 
</I>&gt;<i> simply calling mail() twice:
</I>&gt;<i>
</I>&gt;<i> &lt;?php
</I>&gt;<i> $headers = &quot;From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">member at sovsite.com</A> &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">member at sovsite.com</A>&gt;&quot; . 
</I>&gt;<i> &quot;\r\n&quot;;
</I>&gt;<i> $headers .= &quot;X-Mailer: PHP/&quot; . phpversion() . &quot;\r\n&quot;;
</I>&gt;<i>
</I>&gt;<i> mail(&quot;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">greg at lioncube.com</A> &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">greg at lioncube.com</A>&gt;&quot;, &quot;test&quot;, &quot;test&quot;, 
</I>&gt;<i> $headers);
</I>&gt;<i> mail(&quot;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mmwaldman at optonline.net</A> &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mmwaldman at optonline.net</A>&gt;&quot;, 
</I>&gt;<i> &quot;test&quot;, &quot;test&quot;, $headers);
</I>&gt;<i> ?&gt;
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i>
</I>&gt;<i> Patrick
</I>&gt;<i>
</I>&gt;<i> On Mon, Aug 4, 2008 at 3:40 PM, (Margaret) Michele Waldman 
</I>&gt;<i> &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mmwaldman at optonline.net</A> &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mmwaldman at optonline.net</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> I have a test script already.
</I>&gt;<i>
</I>&gt;<i> Bcc doesn't work on either.
</I>&gt;<i>
</I>&gt;<i> &lt;?php
</I>&gt;<i> $headers = &quot;From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">member at sovsite.com</A> &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">member at sovsite.com</A>&gt;&quot; . 
</I>&gt;<i> &quot;\r\n&quot;;
</I>&gt;<i> $headers .= &quot;Bcc: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mmwaldman at optonline.net</A> 
</I>&gt;<i> &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mmwaldman at optonline.net</A>&gt;&quot; . &quot;\r\n&quot;;
</I>&gt;<i> $headers .= &quot;X-Mailer: PHP/&quot; . phpversion() . &quot;\r\n&quot;;
</I>&gt;<i>
</I>&gt;<i> mail(&quot;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">greg at lioncube.com</A> &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">greg at lioncube.com</A>&gt;&quot;, &quot;test&quot;, &quot;test&quot;, 
</I>&gt;<i> $headers);
</I>&gt;<i> ?&gt;
</I>&gt;<i>
</I>&gt;<i> And
</I>&gt;<i>
</I>&gt;<i> &lt;?php
</I>&gt;<i> $headers = &quot;From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">member at sovsite.com</A> &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">member at sovsite.com</A>&gt;&quot; . &quot;\n&quot;;
</I>&gt;<i> $headers .= &quot;Bcc: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mmwaldman at optonline.net</A> 
</I>&gt;<i> &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mmwaldman at optonline.net</A>&gt;&quot; . &quot;\n&quot;;
</I>&gt;<i> $headers .= &quot;X-Mailer: PHP/&quot; . phpversion() . &quot;\n&quot;;
</I>&gt;<i>
</I>&gt;<i> mail(&quot;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">greg at lioncube.com</A> &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">greg at lioncube.com</A>&gt;&quot;, &quot;test&quot;, &quot;test&quot;, 
</I>&gt;<i> $headers);
</I>&gt;<i> ?&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A> 
</I>&gt;<i> &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>&gt; 
</I>&gt;<i> [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A> 
</I>&gt;<i> &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>&gt;] On
</I>&gt;<i> Behalf Of csnyder
</I>&gt;<i>
</I>&gt;<i> Sent: Monday, August 04, 2008 3:37 PM
</I>&gt;<i> To: NYPHP Talk
</I>&gt;<i> Subject: Re: [nycphp-talk] PHP Bcc Headers
</I>&gt;<i>
</I>&gt;<i> On Mon, Aug 4, 2008 at 3:17 PM, (Margaret) Michele Waldman
</I>&gt;<i> &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mmwaldman at optonline.net</A> &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mmwaldman at optonline.net</A>&gt;&gt; wrote:
</I>&gt;<i> &gt; I'm using &quot;\r\n&quot; at the end of each line.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The headers are being completely ignored.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'll try switching. The did cross my mind before, but I wasn't sure what
</I>&gt;<i> to
</I>&gt;<i> &gt; test other than &quot;\r\n&quot;.
</I>&gt;<i>
</I>&gt;<i> Completely ignored is probably a bad sign, but you could try using just
</I>&gt;<i> &quot;\n&quot;.
</I>&gt;<i>
</I>&gt;<i> When that doesn't work, try setting just a single &quot;X-sent-by: php&quot;
</I>&gt;<i> header to avoid line-ending issues altogether. It may be worth
</I>&gt;<i> creating a test script that does nothing but send a simple email so
</I>&gt;<i> you can isolate the problem from other potential bugs, post the code
</I>&gt;<i> to this list for review, etc.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i>
</I>&gt;<i> Show Your Participation in New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i>
</I>&gt;<i> Show Your Participation in New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> Patrick May
</I>&gt;<i> 135 Oak Street
</I>&gt;<i> Brooklyn, NY 11222
</I>&gt;<i> +1 (347) 232-5208
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">patrick at hexane.org</A> &lt;mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">patrick at hexane.org</A>&gt;
</I>&gt;<i> <A HREF="http://www.hexane.org">http://www.hexane.org</A>
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i>
</I>&gt;<i> Show Your Participation in New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026353.html">[nycphp-talk] PHP Bcc Headers
</A></li>
	<LI>Next message: <A HREF="026357.html">[nycphp-talk] PHP Bcc Headers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26356">[ date ]</a>
              <a href="thread.html#26356">[ thread ]</a>
              <a href="subject.html#26356">[ subject ]</a>
              <a href="author.html#26356">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

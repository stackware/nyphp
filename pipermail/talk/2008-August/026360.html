<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] PHP Bcc Headers
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20Bcc%20Headers&In-Reply-To=%3C1217901130.8685%40coral.he.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026355.html">
   <LINK REL="Next"  HREF="026361.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] PHP Bcc Headers</H1>
    <B>Kristina Anderson</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20PHP%20Bcc%20Headers&In-Reply-To=%3C1217901130.8685%40coral.he.net%3E"
       TITLE="[nycphp-talk] PHP Bcc Headers">ka at kacomputerconsulting.com
       </A><BR>
    <I>Mon Aug  4 21:52:10 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026355.html">[nycphp-talk] PHP Bcc Headers
</A></li>
        <LI>Next message: <A HREF="026361.html">[nycphp-talk] &quot;Finally&quot; missing in PHP...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26360">[ date ]</a>
              <a href="thread.html#26360">[ thread ]</a>
              <a href="subject.html#26360">[ subject ]</a>
              <a href="author.html#26360">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We had severe problems with PHP mail() this spring on a project and 
ended up switching servers, and then having to work with sys admins for 
hours to figure out why certain stuff wasn't working quite right (we 
have code that sends emails including to bcc's and multi recipient 
lists).  

One thing we did discover was that between servers, and between 
different web hosts, there are some serious differences in 
configuration that can break mail() code.  Another thing we discovered 
is that when something with mail() is not working, it can be very 
difficult to figure out why.

Also someone mentioned to me a couple of months ago that when sending 
volume increases, mail() exhibits unexpected behaviors...i.e. cr*ps out 
without warning.

We are fine with mail() for the beta but will most definitely be 
switching to a more robust solution in the very near future.  

-- Kristina

&gt;<i> Sendmail has the right flags.  I had already checked that.
</I>&gt;<i> 
</I>&gt;<i> I found out the from is working, just not the bcc and the client isn't
</I>&gt;<i> receiving email at his preferred account, we're having to use a 
</I>secondary
&gt;<i> account.  I think that has something to do with his mail account 
</I>setup.
&gt;<i> 
</I>&gt;<i> I don't think I'm going to replace mail with an smtp mail because I 
</I>don't
&gt;<i> know what his email account is working and we would have to retest 
</I>and send
&gt;<i> the code.  If it was my app, I might, but it just isn't a good idea 
</I>in this
&gt;<i> case.  Plus, this is a website template which may be moved around from
</I>&gt;<i> server to server and possibly hosting company to hosting company.
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A> [mailto:talk-
</I><A HREF="http://lists.nyphp.org/mailman/listinfo/talk">bounces at lists.nyphp.org</A>] On
&gt;<i> Behalf Of bzcoder
</I>&gt;<i> Sent: Monday, August 04, 2008 5:59 PM
</I>&gt;<i> To: NYPHP Talk
</I>&gt;<i> Subject: Re: [nycphp-talk] PHP Bcc Headers
</I>&gt;<i> 
</I>&gt;<i> (Margaret) Michele Waldman wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I did resort to calling mail() twice. I hated doing it.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Then he called me and said there was no from on the email and the 
</I>&gt;<i> &gt; client isn't getting the email, which made me think it was a header 
</I>&gt;<i> &gt; issue again.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; However, My testing shows there is a from.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I think the email in question has spam filters set too high.
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> Ok, if you really want to troubleshoot this, first thing to do is to 
</I>do 
&gt;<i> a phpinfo(); on both systems and look for your mail settings.
</I>&gt;<i> 
</I>&gt;<i> For example,
</I>&gt;<i> Path to sendmail : /usr/sbin/sendmail -t -i
</I>&gt;<i> 
</I>&gt;<i> That means that when you use the mail() function, &quot;sendmail&quot; is 
</I>invoked 
&gt;<i> with the -t and -i parameters and then passed the rest of the email 
</I>&gt;<i> message from the command line.
</I>&gt;<i> 
</I>&gt;<i> So a complete command would be:
</I>&gt;<i> /usr/sbin/sendmail -t -i $fullmessage
</I>&gt;<i> 
</I>&gt;<i> The -t tells sendmail to extract the information for to, cc, and bcc 
</I>&gt;<i> from the header of the text message.
</I>&gt;<i> 
</I>&gt;<i> The -i tells sendmail not to treat a dot by itself as the end of the 
</I>&gt;<i> message(so if your message is
</I>&gt;<i> this is
</I>&gt;<i> .
</I>&gt;<i> my text
</I>&gt;<i> 
</I>&gt;<i> Sendmail doesn't truncate at the end of is).
</I>&gt;<i> 
</I>&gt;<i> A lot of times the -t is left off the command, which mucks you up.
</I>&gt;<i> 
</I>&gt;<i> Then there is running a non sendmail mail server which won't 
</I>accept /n/r 
&gt;<i> as end of line statements, so it treats the entire header as part of 
</I>the 
&gt;<i> body and makes up it's own header.
</I>&gt;<i> 
</I>&gt;<i> Then there is whether or not your mail server will stick it's own 
</I>from 
&gt;<i> on the message and ignore the form in the message itself.
</I>&gt;<i> 
</I>&gt;<i> And of course a lot of people stick their own sendmail command stub 
</I>in 
&gt;<i> place of the command line because they run into problems, and now 
</I>it's 
&gt;<i> not documented so a new programmer doesn't know the rules of that 
</I>road.
&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Plus it's just a really really bad idea, and a security hole, to 
</I>allow 
&gt;<i> programs to send email from the command line these days when it is so 
</I>&gt;<i> easy to just give a program a userid and password and have it send 
</I>via 
&gt;<i> authenticated SMTP(now, if you send out a few hundred thousand emails 
</I>at 
&gt;<i> a time, like I do with the mailling lists I support, suddenly that 
</I>&gt;<i> security whole seems less problematic than the added time for 
</I>&gt;<i> authentication and connection setup/teardown and moving it all to a 
</I>&gt;<i> server dedicated just to email processing of authenticated programs 
</I>is 
&gt;<i> not such a bad idea. :-))
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> 
</I>&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i> 
</I>&gt;<i> Show Your Participation in New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> 
</I>&gt;<i> NYPHPCon 2006 Presentations Online
</I>&gt;<i> <A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
</I>&gt;<i> 
</I>&gt;<i> Show Your Participation in New York PHP
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026355.html">[nycphp-talk] PHP Bcc Headers
</A></li>
	<LI>Next message: <A HREF="026361.html">[nycphp-talk] &quot;Finally&quot; missing in PHP...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26360">[ date ]</a>
              <a href="thread.html#26360">[ thread ]</a>
              <a href="subject.html#26360">[ subject ]</a>
              <a href="author.html#26360">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

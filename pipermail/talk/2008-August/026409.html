<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Switching Forth and Back Between HTTP and HTTPS
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Switching%20Forth%20and%20Back%20Between%20HTTP%20and%20HTTPS&In-Reply-To=%3Cp06240809c4c522e43da7%40%5B192.168.1.101%5D%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026418.html">
   <LINK REL="Next"  HREF="026406.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Switching Forth and Back Between HTTP and HTTPS</H1>
    <B>tedd</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Switching%20Forth%20and%20Back%20Between%20HTTP%20and%20HTTPS&In-Reply-To=%3Cp06240809c4c522e43da7%40%5B192.168.1.101%5D%3E"
       TITLE="[nycphp-talk] Switching Forth and Back Between HTTP and HTTPS">tedd at sperling.com
       </A><BR>
    <I>Sun Aug 10 19:10:45 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026418.html">[nycphp-talk] Switching Forth and Back Between HTTP and HTTPS
</A></li>
        <LI>Next message: <A HREF="026406.html">[nycphp-talk] [OT] notebook recommendations - time to retire	the	Thinkpad t42p... anyone know Lenovo's t61p?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26409">[ date ]</a>
              <a href="thread.html#26409">[ thread ]</a>
              <a href="subject.html#26409">[ subject ]</a>
              <a href="author.html#26409">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At 2:24 PM -0400 8/10/08, Michael B Allen wrote:
&gt;<i>Can someone share their best practices regarding transitioning between
</I>&gt;<i>HTTP and HTTPS protected resources?
</I>&gt;<i>
</I>&gt;<i>For example, consider a page with several tabs - one of which is
</I>&gt;<i>linked to a shopping cart. The shopping cart should be protected with
</I>&gt;<i>HTTPS whereas the other tabs should not.
</I>&gt;<i>
</I>&gt;<i>It's not hard to make the shopping cart link <A HREF="https://">https://</A> but once at the
</I>&gt;<i>shopping cart page, all links back to non-SSL protected resources
</I>&gt;<i>would need to be emitted (or rewritten) as full non-HTTPS URLs. And
</I>&gt;<i>that's not really desirable anyway since many browsers can flag such
</I>&gt;<i>pages as non-fully protected.
</I>&gt;<i>
</I>&gt;<i>One relatively simple solution is to maintain a list of protected
</I>&gt;<i>resources and then redirect the client to HTTPS if the target is to be
</I>&gt;<i>protected and the client is not already under HTTPS. If the route does
</I>&gt;<i>not match and the client is under HTTPS then they are redirected back.
</I>&gt;<i>The downside is that the redirection is not terribly efficient.
</I>&gt;<i>
</I>&gt;<i>How do you handle this scenario?
</I>&gt;<i>
</I>&gt;<i>Mike
</I>
Mike:

The way I do it, once you go https, you don't go back until the 
transaction is approved, denied, or canceled. In fact, when it's 
finished all data (i.e., session, post, get, whatever) is expunged 
except for the data that's legal to keep (i.e., the order), which is 
recorded in the dB. No data leaves.

That's a little hard on a shopping cart when people want to add stuff 
to their order, but if that's the case, then cookie their order 
before you go to https and reload the cookie when you leave.

Cheers,

tedd

-- 
-------
<A HREF="http://sperling.com">http://sperling.com</A>  <A HREF="http://ancientstones.com">http://ancientstones.com</A>  <A HREF="http://earthstones.com">http://earthstones.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026418.html">[nycphp-talk] Switching Forth and Back Between HTTP and HTTPS
</A></li>
	<LI>Next message: <A HREF="026406.html">[nycphp-talk] [OT] notebook recommendations - time to retire	the	Thinkpad t42p... anyone know Lenovo's t61p?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26409">[ date ]</a>
              <a href="thread.html#26409">[ thread ]</a>
              <a href="subject.html#26409">[ subject ]</a>
              <a href="author.html#26409">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Email Pain
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-August/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Email%20Pain&In-Reply-To=%3C0K5D00GH998C2YM0%40mta3.srv.hcvlny.cv.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026394.html">
   <LINK REL="Next"  HREF="026397.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Email Pain</H1>
    <B>(Margaret) Michele Waldman</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Email%20Pain&In-Reply-To=%3C0K5D00GH998C2YM0%40mta3.srv.hcvlny.cv.net%3E"
       TITLE="[nycphp-talk] Email Pain">mmwaldman at optonline.net
       </A><BR>
    <I>Sat Aug  9 23:48:12 EDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026394.html">[nycphp-talk] Email Pain
</A></li>
        <LI>Next message: <A HREF="026397.html">[nycphp-talk] Email Pain
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26396">[ date ]</a>
              <a href="thread.html#26396">[ thread ]</a>
              <a href="subject.html#26396">[ subject ]</a>
              <a href="author.html#26396">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>First thing I tried was \r\n.  Didn't fix the problem.

-----Original Message-----
From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A> [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>] On
Behalf Of Michael B Allen
Sent: Saturday, August 09, 2008 11:34 PM
To: NYPHP Talk
Subject: Re: [nycphp-talk] Email Pain

On Sat, Aug 9, 2008 at 10:38 PM, (Margaret) Michele Waldman
&lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mmwaldman at optonline.net</A>&gt; wrote:
&gt;<i> Folks,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I'm working with this mail function again.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Unhappily.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The mail message is created using data off of an html form using radio
</I>&gt;<i> buttons, selects, text input, etc.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The oddest thing is happening.  Sometimes newlines are ignored.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Where formated like this:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> $message = @&lt;&lt;&lt;END
</I>&gt;<i>
</I>&gt;<i> This is field 1: $field1
</I>&gt;<i>
</I>&gt;<i> This is field 2: $field2
</I>&gt;<i>
</I>&gt;<i> This is field 3: $field3
</I>&gt;<i>
</I>&gt;<i> This is field 4: $field4
</I>&gt;<i>
</I>&gt;<i> END;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Or like this:
</I>&gt;<i>
</I>&gt;<i> $message = &quot;This is field 1:&quot;.$field1.&quot;\n&quot;;
</I>&gt;<i>
</I>&gt;<i> $message .= &quot;This is field 2:&quot;.$field2.&quot;\n&quot;;
</I>&gt;<i>
</I>&gt;<i> $message .= &quot;This is field 3:&quot;.$field3.&quot;\n&quot;;
</I>&gt;<i>
</I>&gt;<i> $message .= &quot;This is field 4:&quot;.$field4.&quot;\n&quot;;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The message might look like this:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This is field 1: data
</I>&gt;<i>
</I>&gt;<i> This is field 2: data This is field 3: data
</I>&gt;<i>
</I>&gt;<i> This is field 4: $field4
</I>
What mail sending routines are you using?

If you're using the 'mail' function, first simplify your test case.
Try something like the following:

  $email = '<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">whomever at example.com</A>';
  $subject = 'This is the subject';
  $headers = &quot;From: $email\r\nReply-To: $email&quot;;
  $message = &quot;This is a message\nwith multiple\nlines\nof\ntext\n&quot;;
  mail($email, $subject, $message, $headers);

Note that the headers should use &quot;\r\n&quot; as opposed to just &quot;\n&quot;
(technically you should use the linebreak indicated by the server but
that's more involved).

If that works, then narrow down the difference with trial and error.

If it doesn't work, get a packet capture, open it with WireShark and
verify the content of the outgoing message. If the message is screwed
up going out that narrows down things quite a bit.

Mike

-- 
Michael B Allen
PHP Active Directory SPNEGO SSO
<A HREF="http://www.ioplex.com/">http://www.ioplex.com/</A>
_______________________________________________
New York PHP Community Talk Mailing List
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>

NYPHPCon 2006 Presentations Online
<A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>

Show Your Participation in New York PHP
<A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026394.html">[nycphp-talk] Email Pain
</A></li>
	<LI>Next message: <A HREF="026397.html">[nycphp-talk] Email Pain
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26396">[ date ]</a>
              <a href="thread.html#26396">[ thread ]</a>
              <a href="subject.html#26396">[ subject ]</a>
              <a href="author.html#26396">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

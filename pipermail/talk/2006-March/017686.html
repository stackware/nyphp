<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Bnner Rotation
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2006-March/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Bnner%20Rotation&In-Reply-To=%3Cp06230909c0328250179c%40%5B192.168.0.100%5D%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017685.html">
   <LINK REL="Next"  HREF="017682.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Bnner Rotation</H1>
    <B>tedd</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Bnner%20Rotation&In-Reply-To=%3Cp06230909c0328250179c%40%5B192.168.0.100%5D%3E"
       TITLE="[nycphp-talk] Bnner Rotation">tedd at sperling.com
       </A><BR>
    <I>Mon Mar  6 19:40:34 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017685.html">[nycphp-talk] Bnner Rotation
</A></li>
        <LI>Next message: <A HREF="017682.html">[nycphp-talk] Bnner Rotation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17686">[ date ]</a>
              <a href="thread.html#17686">[ thread ]</a>
              <a href="subject.html#17686">[ subject ]</a>
              <a href="author.html#17686">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>Hello,
</I>&gt;<i>This is a logic issue and may be considered Off-Topic, but since I'm 
</I>&gt;<i>using PHP for this project and I know this list is full of very 
</I>&gt;<i>smart people, there is no better place to ask for help.
</I>&gt;<i>
</I>&gt;<i>I have a page where three *different* banners ads should be 
</I>&gt;<i>displayed. I have a pool of tens of banner ads from which the 3 
</I>&gt;<i>banners should be picked.  Each banner in the pool has a *weight* 
</I>&gt;<i>value which indicates how often a banner should be displayed 
</I>&gt;<i>relatively to other banners within a period of one month  (i.e. a 
</I>&gt;<i>banner with weight = 2 should be displayed twice as often as a 
</I>&gt;<i>banner with weight = 1).
</I>&gt;<i>The set of three banners to be displayed should be rotated every 
</I>&gt;<i>hour (cron job). The amount of impressions is not important.  The 
</I>&gt;<i>banners in the pool and their weight values will be changed manually 
</I>&gt;<i>every month.
</I>&gt;<i>
</I>&gt;<i>Well this is how it should work. However I'm not too sure how to 
</I>&gt;<i>come up with an algorithm that will perform the hourly rotations.
</I>&gt;<i>I usually try to solve all my problems myself, but this time I have 
</I>&gt;<i>2 other deadlines by the end of today, I have a flu and this thing 
</I>&gt;<i>must be ready by Wednesday morning.
</I>&gt;<i>The stress and the sickness screw with my head and I can't come up 
</I>&gt;<i>with any logical solutions.
</I>&gt;<i>
</I>&gt;<i>Any suggestions and help are greatly appreciated!
</I>&gt;<i>Cheers,
</I>&gt;<i>Olaf
</I>
Olaf:

I'm not the smart one, but I got looks instead. Let's look at your problem.

A month has a finite value. The number of banners you have is also 
finite. You also have banners that have weight, which mean that they 
appear more often than those with less weight. However, a banner with 
a weight of two really can be thought of as two like-banners.

For example, banner A has a weight of 1 -- banner B has a weight of 2 
-- banner C has a weight of 4 -- banner D has a weight of 3. Now, how 
do you show them?

While you have 4 banners, you can look at it like you have ten banners, namely:

ABBCCCDDD

Now, take all the banners you need to show in one month (ten) and 
divide the month by that value.

The end result is that you have to show each banner for a duration of 
3 days. &quot;A&quot; get 3 days, &quot;B&quot; get 3 days, the next &quot;B&quot; gets 3 days and 
so on. You might want to mix it up, but I wouldn't use a rand 
function, nor chron -- but rather just schedule the banners display 
beforehand. If you need to use rand, then have their banner values in 
an array and remove them from selection as they are used. That way 
you KNOW that each banner has been shown the &quot;agreed&quot; amount of times.

In any event, that's what I would do, your mileage may vary.

tedd
-- 
--------------------------------------------------------------------------------
<A HREF="http://sperling.com">http://sperling.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017685.html">[nycphp-talk] Bnner Rotation
</A></li>
	<LI>Next message: <A HREF="017682.html">[nycphp-talk] Bnner Rotation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17686">[ date ]</a>
              <a href="thread.html#17686">[ thread ]</a>
              <a href="subject.html#17686">[ subject ]</a>
              <a href="author.html#17686">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

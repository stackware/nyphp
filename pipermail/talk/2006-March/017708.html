<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Session cookie expiration issue
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2006-March/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Session%20cookie%20expiration%20issue&In-Reply-To=%3CFD55744F-ECBC-423E-9AC9-3F2B42A6FA18%40musgrave.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017705.html">
   <LINK REL="Next"  HREF="017694.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Session cookie expiration issue</H1>
    <B>Stephen Musgrave</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Session%20cookie%20expiration%20issue&In-Reply-To=%3CFD55744F-ECBC-423E-9AC9-3F2B42A6FA18%40musgrave.org%3E"
       TITLE="[nycphp-talk] Session cookie expiration issue">stephen at musgrave.org
       </A><BR>
    <I>Thu Mar  9 10:47:43 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017705.html">[nycphp-talk] Session cookie expiration issue
</A></li>
        <LI>Next message: <A HREF="017694.html">[nycphp-talk] February Presentation.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17708">[ date ]</a>
              <a href="thread.html#17708">[ thread ]</a>
              <a href="subject.html#17708">[ subject ]</a>
              <a href="author.html#17708">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> Have you tried plain sessions sans adodb?  If not, you might want  
</I>&gt;<i> to check
</I>&gt;<i> to be sure sessions are working properly on your php setup before  
</I>&gt;<i> you put
</I>&gt;<i> too much time digging into the library.
</I>
I haven't brought myself to that point yet because I've been hoping  
it is something obvious.  It seems to me that it isn't so much  
session as it is the session ID cookie.  The expiration date on the  
cookie is always the original value when set - it never changes.   
Yes, maybe that is a problem with the manager (ADODB) but something  
this basic seems unlikely?  I'm still thinking that *I* have done  
something wrong in how I have set up the config.

&gt;<i> Check out your phpinfo().
</I>&gt;<i> Look for session.gc_maxlifetime.
</I>&gt;<i> It defaults at 1440 (in seconds = 24 minutes)
</I>
This looks good, in fact I am using
ini_set(&quot;session.gc_maxlifetime&quot;, 1800);
and php info shows that the override is being picked up.

&gt;<i> &quot;session.cookie_lifetime specifies the lifetime of the cookie in  
</I>&gt;<i> seconds
</I>&gt;<i> which is sent to the browser. The value 0 means &quot;until the browser is
</I>&gt;<i> closed.&quot; Defaults to 0. See also session_get_cookie_params() and
</I>&gt;<i> session_set_cookie_params(). &quot;
</I>
Ah, now we're onto something.  I found the problem.  I did something  
pretty lame and when using the session_set_cookie_params() function  
(so I could set secure cookies), I set the first parameter to the  
session time maxlifetime instead of 0.

Thank you all for your suggestions!

Thanks,

Stephen

&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;&#8230;
     email:    <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">stephen at musgrave.org</A>
     web:        <A HREF="http://stephen.musgrave.org/career">http://stephen.musgrave.org/career</A>
     office:       917.721.3378
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017705.html">[nycphp-talk] Session cookie expiration issue
</A></li>
	<LI>Next message: <A HREF="017694.html">[nycphp-talk] February Presentation.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17708">[ date ]</a>
              <a href="thread.html#17708">[ thread ]</a>
              <a href="subject.html#17708">[ subject ]</a>
              <a href="author.html#17708">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] A SQL Query Conundrum. I Need Your Assistance...
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2006-March/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20A%20SQL%20Query%20Conundrum.%20I%20Need%20Your%20Assistance...&In-Reply-To=%3CAA081BBF5AEED7118ADF00065B3929D90EE43D23%40ny1post.windows.thettgroup.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017652.html">
   <LINK REL="Next"  HREF="017656.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] A SQL Query Conundrum. I Need Your Assistance...</H1>
    <B>Halter, Shari</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20A%20SQL%20Query%20Conundrum.%20I%20Need%20Your%20Assistance...&In-Reply-To=%3CAA081BBF5AEED7118ADF00065B3929D90EE43D23%40ny1post.windows.thettgroup.com%3E"
       TITLE="[nycphp-talk] A SQL Query Conundrum. I Need Your Assistance...">SHalter at ThorntonTomasetti.com
       </A><BR>
    <I>Thu Mar  2 08:54:36 EST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017652.html">[nycphp-talk] February Presentation
</A></li>
        <LI>Next message: <A HREF="017656.html">[nycphp-talk] A SQL Query Conundrum. I Need Your Assistance...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17655">[ date ]</a>
              <a href="thread.html#17655">[ thread ]</a>
              <a href="subject.html#17655">[ subject ]</a>
              <a href="author.html#17655">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Speaking of MySQL questions, can anyone recommend a good list for MySQL? 

Thanks,
Shari Halter



We've Moved!

Our new address is 51 Madison Avenue, New York, NY 10010.
Our telephone and fax numbers remain the same.


Shari L. Halter
Web Programmer
Thornton Tomasetti
51 Madison Avenue
New York, NY  10010
T 917.661.7800  F 917.661.7801  
D 917.661.7970  
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">SHalter at ThorntonTomasetti.com</A>



-----Original Message-----
From: Peter Sawczynec [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">ps at pswebcode.com</A>] 
Sent: Wednesday, March 01, 2006 10:30 PM
To: 'Org, <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">Talk at Nyphp.</A>'
Subject: [nycphp-talk] A SQL Query Conundrum. I Need Your Assistance...

Sorry, another MySQL question on the PHP list, but there are so many great
users here...

I need to get all the active users email and name for personalization.

I need the correct SELECT query addressing two tables that have a one to
many relationship linked by &quot;user_id&quot; like the relationship shown below:

Table: Users
Fields: id   user_id 


Table: User_Attributes
Fields: id   user_id   attribute_name   attribute_value

So in User_Attributes table you see data like so:
89 78 email <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">joe at joe.com</A>
90 78 name joe
91 78 active yes
92 78 title CEO
93 79 email <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">sal at sal.com</A>
94 79 name sal
...
...


I need to get the email and name of all the users where:
attribute_name &quot;active&quot;  = attribute_value &quot;yes&quot;


I'm using this query so far:

SELECT a.user_id, b.attribute_name, b.attribute_value FROM users AS a LEFT
JOIN User_Attributes AS b ON a.user_id = b.user_id WHERE b.attribute_name IN
('active', 'email', 'salutation', 'first_name', 'last_name') ORDER BY
a.user_id 


...but this returns a rowset where each user has four rows with an attribute
value in each row.

I need all four attributes from each user to be returned in one neat row.

Additionally, I could use all the non-active users filtered out by the SQL.

Any help here?

Warmest regards,

Peter Sawczynec,
Technology Director
PSWebcode
_Design &amp; Interface
_Ecommerce
_Database Management
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">ps at pswebcode.com</A>
718.796.1951
www.pswebcode.com

_______________________________________________
New York PHP Community Talk Mailing List
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
New York PHP Conference and Expo 2006
<A HREF="http://www.nyphpcon.com">http://www.nyphpcon.com</A>
Show Your Participation in New York PHP
<A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>

&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;
The information in this email and any attachments may contain
confidential information that is intended solely for the
attention and use of the named addressee(s).  This message or
any part thereof must not be disclosed, copied, distributed or
retained by any person without authorization from the addressee.
If you are not the intended addressee, please notify the sender
immediately, and delete this message. 
&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017652.html">[nycphp-talk] February Presentation
</A></li>
	<LI>Next message: <A HREF="017656.html">[nycphp-talk] A SQL Query Conundrum. I Need Your Assistance...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17655">[ date ]</a>
              <a href="thread.html#17655">[ thread ]</a>
              <a href="subject.html#17655">[ subject ]</a>
              <a href="author.html#17655">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

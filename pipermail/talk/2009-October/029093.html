<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] manipulating an IMAP account
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20manipulating%20an%20IMAP%20account&In-Reply-To=%3C8f0676b40910020904g7f7f8b41i1825c67c40e73f57%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029092.html">
   <LINK REL="Next"  HREF="029094.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] manipulating an IMAP account</H1>
    <B>John Campbell</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20manipulating%20an%20IMAP%20account&In-Reply-To=%3C8f0676b40910020904g7f7f8b41i1825c67c40e73f57%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] manipulating an IMAP account">jcampbell1 at gmail.com
       </A><BR>
    <I>Fri Oct  2 12:04:25 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="029092.html">[nycphp-talk] manipulating an IMAP account
</A></li>
        <LI>Next message: <A HREF="029094.html">[nycphp-talk] manipulating an IMAP account
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29093">[ date ]</a>
              <a href="thread.html#29093">[ thread ]</a>
              <a href="subject.html#29093">[ subject ]</a>
              <a href="author.html#29093">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Oct 2, 2009 at 11:21 AM, David Mintz &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">david at davidmintz.org</A>&gt; wrote:
&gt;<i> If you were working on a Zend Framework application, and if you were writing
</I>&gt;<i> a simple script to log into an IMAP email account, fetch messages, iterate
</I>&gt;<i> through them finding ones matching particular criteria, do something with
</I>&gt;<i> the information in each of those messages, delete the message, and call it a
</I>&gt;<i> day... And if you found that Zend_Mail_Storage_Imap has a flawed
</I>&gt;<i> implementation of removeMessage(), because it sends an EXPUNGE command on
</I>&gt;<i> every invocation and thereby screws up the class'&#160; ArrayAccess
</I>&gt;<i> implementation by disrupting the mapping between message numbers and
</I>&gt;<i> messages... then what would you do?
</I>
So, let me make sure I understand this correctly.  Expunge, iirc,
deletes everything marked for deletion, and ZEND calls expunge
immediately after you mark something for deletion, which is not quite
right (but, makes imap behave more like pop).  It is unlikely the
class maintainers are going to change that.

How is the ArrayAccess broken?  The key=&gt;message mapping should change
every time you call delete.

Regards,
John Campbell

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029092.html">[nycphp-talk] manipulating an IMAP account
</A></li>
	<LI>Next message: <A HREF="029094.html">[nycphp-talk] manipulating an IMAP account
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29093">[ date ]</a>
              <a href="thread.html#29093">[ thread ]</a>
              <a href="subject.html#29093">[ subject ]</a>
              <a href="author.html#29093">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

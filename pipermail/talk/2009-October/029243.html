<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] using PHP to import large-ish SQL into mysql
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20using%20PHP%20to%20import%20large-ish%20SQL%20into%20mysql&In-Reply-To=%3Cc5949a380910211755h5706f9dby994e05fe199697a5%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029304.html">
   <LINK REL="Next"  HREF="029211.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] using PHP to import large-ish SQL into mysql</H1>
    <B>Edward Potter</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20using%20PHP%20to%20import%20large-ish%20SQL%20into%20mysql&In-Reply-To=%3Cc5949a380910211755h5706f9dby994e05fe199697a5%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] using PHP to import large-ish SQL into mysql">edwardpotter at gmail.com
       </A><BR>
    <I>Wed Oct 21 20:55:41 EDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="029304.html">[nycphp-talk] using PHP to import large-ish SQL into mysql
</A></li>
        <LI>Next message: <A HREF="029211.html">[nycphp-talk] developer's machine specs -- recomendations?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29243">[ date ]</a>
              <a href="thread.html#29243">[ thread ]</a>
              <a href="subject.html#29243">[ subject ]</a>
              <a href="author.html#29243">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I think the post about the command line maybe the way to go. People suck
into terabytes of sql files into mysql tables. At that level you want to go
hardcore and get as close to raw inputs as possible.

The command line and VI are your friends. Really!  :-)  That's about as
hardcore as you can go.




On Tue, Oct 20, 2009 at 5:57 PM, Marc Antony Vose &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">suzerain at suzerain.com</A>&gt;wrote:

&gt;<i> Hi there:
</I>&gt;<i>
</I>&gt;<i> I'm on a shared machine, and trying to get some 15 MB or so SQL files into
</I>&gt;<i> MySQL.  No problem doing this at the command line, of course, but I have
</I>&gt;<i> several SQL files that need to be imported a few times a month. So, ideally,
</I>&gt;<i> I'd like to FTP them to a directory and go to a web page and hit a button to
</I>&gt;<i> do the import.
</I>&gt;<i>
</I>&gt;<i> Problem is, the PHP script is terminating with a PHP error; server's
</I>&gt;<i> support thinks it's out of memory.  According to phpinfo(), the script can
</I>&gt;<i> use 90M, so the question is why a 20M sql import would use up 90M?
</I>&gt;<i>
</I>&gt;<i> I'm doing it like this:
</I>&gt;<i>
</I>&gt;<i> $cmd = &quot;/path/to/mysql -h hostname -u username --password=password db_name
</I>&gt;<i> &lt; sqlfile.sql&quot;;
</I>&gt;<i> exec( $cmd );
</I>&gt;<i>
</I>&gt;<i> I had thought that using this command-line command would prevent PHP from
</I>&gt;<i> dealing with the memory footprint of the operation, but apparently this is
</I>&gt;<i> not the case.
</I>&gt;<i>
</I>&gt;<i> So...doable in PHP without an approach like busting apart the file into
</I>&gt;<i> small chunks?  Or better to use another language on the server for this...?
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Marc
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP Users Group Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.nyphp.org/Show-Participation">http://www.nyphp.org/Show-Participation</A>
</I>&gt;<i>
</I>


-- 
IM/iChat: ejpusa
Links: <A HREF="http://del.icio.us/ejpusa">http://del.icio.us/ejpusa</A>
Follow me: <A HREF="http://www.twitter.com/ejpusa">http://www.twitter.com/ejpusa</A>
Karma: <A HREF="http://www.coderswithconscience.com">http://www.coderswithconscience.com</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20091021/dfac164b/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20091021/dfac164b/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029304.html">[nycphp-talk] using PHP to import large-ish SQL into mysql
</A></li>
	<LI>Next message: <A HREF="029211.html">[nycphp-talk] developer's machine specs -- recomendations?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29243">[ date ]</a>
              <a href="thread.html#29243">[ thread ]</a>
              <a href="subject.html#29243">[ subject ]</a>
              <a href="author.html#29243">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

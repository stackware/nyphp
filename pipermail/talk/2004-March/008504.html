<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] multiple classes writing to a common container
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2004-March/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20multiple%20classes%20writing%20to%20a%20common%20container&In-Reply-To=%3CC0CDB9F5E81C234FBB42D84E7853125DC1B92E%40intamail1.inta%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008513.html">
   <LINK REL="Next"  HREF="008505.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] multiple classes writing to a common container</H1>
    <B>Chris Bielanski</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20multiple%20classes%20writing%20to%20a%20common%20container&In-Reply-To=%3CC0CDB9F5E81C234FBB42D84E7853125DC1B92E%40intamail1.inta%3E"
       TITLE="[nycphp-talk] multiple classes writing to a common container">Cbielanski at inta.org
       </A><BR>
    <I>Fri Mar 19 14:26:22 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008513.html">[nycphp-talk] multiple classes writing to a common container
</A></li>
        <LI>Next message: <A HREF="008505.html">[nycphp-talk] more about SUSE ( 9.1 will support Linux 2.6 	kernel)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8504">[ date ]</a>
              <a href="thread.html#8504">[ thread ]</a>
              <a href="subject.html#8504">[ subject ]</a>
              <a href="author.html#8504">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I wonder if it would be possible for the classes to receive a handle to a
debug object (since you have a debug class) then each class on which you'd
want to report merely calls a method on it's &quot;localized&quot; debugger.
Instantiate a single debug object, hand its reference to the constructor in
each class, set it &quot;on&quot; or &quot;off&quot; and let the debug object itself control how
and when it dumps to the screen.

On paper, it sounds like it should play nicely. Please apprise me of the
situation if it doesn't. I'd love to know how it turns out.

~Chris

&gt;<i> I spent a bunch of time spinning around on this, until I 
</I>&gt;<i> changed how I 
</I>&gt;<i> was passing the reference of the collector to the working classes.
</I>&gt;<i> 
</I>&gt;<i> Here's the (working) code:
</I>&gt;<i> &lt;?php
</I>&gt;<i> 
</I>&gt;<i> /**
</I>&gt;<i> * various tests
</I>&gt;<i> */
</I>&gt;<i> 
</I>&gt;<i> class Collector
</I>&gt;<i> {
</I>&gt;<i>     var $collection;
</I>&gt;<i>    
</I>&gt;<i>     function addItem($item)
</I>&gt;<i>     {
</I>&gt;<i>         $this-&gt;collection[] = $item;
</I>&gt;<i>         return TRUE;
</I>&gt;<i>     }
</I>&gt;<i>    
</I>&gt;<i>     function getCollection()
</I>&gt;<i>     {
</I>&gt;<i>         echo &quot;&lt;pre&gt;&quot;;
</I>&gt;<i>         print_r($this-&gt;collection);
</I>&gt;<i>         echo &quot;&lt;/pre&gt;&quot;;
</I>&gt;<i>         //return TRUE;
</I>&gt;<i>     }
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> class testA
</I>&gt;<i> {
</I>&gt;<i>     /*
</I>&gt;<i>     * this class takes three numbers and checks to see
</I>&gt;<i>     * if the first two add up to the last one
</I>&gt;<i>     */
</I>&gt;<i>     var $collection;
</I>&gt;<i>    
</I>&gt;<i>     function testA($a)
</I>&gt;<i>     {
</I>&gt;<i>        
</I>&gt;<i>         /* $a is the reference to the Collector object */
</I>&gt;<i>         $this-&gt;collection =&amp; $a;
</I>&gt;<i>     }
</I>&gt;<i>    
</I>&gt;<i>     function test($a, $b, $c)
</I>&gt;<i>     {
</I>&gt;<i>         if ($c == ($a + $b))
</I>&gt;<i>         {
</I>&gt;<i>             echo &quot; testA is true&lt;br&gt;&quot;;
</I>&gt;<i>             return TRUE;
</I>&gt;<i>         }else{
</I>&gt;<i>             echo &quot; testA is false&lt;br&gt;&quot;;
</I>&gt;<i>             $this-&gt;error($a .&quot; + &quot;. $b .&quot; != &quot;. $c);
</I>&gt;<i>             return FALSE;
</I>&gt;<i>         }
</I>&gt;<i>     }
</I>&gt;<i> 
</I>&gt;<i>     function error($text)
</I>&gt;<i>     {
</I>&gt;<i>         /* adds the text to the common collection */
</I>&gt;<i>         $tmp = $this-&gt;collection-&gt;addItem($text);
</I>&gt;<i>         return TRUE;
</I>&gt;<i>     }
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> class testB
</I>&gt;<i> {
</I>&gt;<i>     /*
</I>&gt;<i>     * this class takes three numbers and checks to see
</I>&gt;<i>     * if subtracting the first from the second equals
</I>&gt;<i>     * the last one
</I>&gt;<i>     */
</I>&gt;<i>     var $collection;
</I>&gt;<i> 
</I>&gt;<i>     function testB($a)
</I>&gt;<i>     {
</I>&gt;<i>         /* $a is the reference to the Collector object */
</I>&gt;<i>         $this-&gt;collection =&amp; $a;
</I>&gt;<i>     }
</I>&gt;<i> 
</I>&gt;<i>     function test($a, $b, $c)
</I>&gt;<i>     {
</I>&gt;<i>         if ($c == ($a - $b))
</I>&gt;<i>         {
</I>&gt;<i>             echo &quot; testB is true&lt;br&gt;&quot;;
</I>&gt;<i>             return TRUE;
</I>&gt;<i>         }else{
</I>&gt;<i>             echo &quot; testB is false&lt;br&gt;&quot;;
</I>&gt;<i>             $this-&gt;error($a .&quot; - &quot;. $b .&quot; != &quot;. $c);
</I>&gt;<i>             return FALSE;
</I>&gt;<i>         }
</I>&gt;<i>     }
</I>&gt;<i> 
</I>&gt;<i>     function error($text)
</I>&gt;<i>     {
</I>&gt;<i>         /* adds the text to the common collection */
</I>&gt;<i>         $tmp = $this-&gt;collection-&gt;addItem($text);
</I>&gt;<i>         return TRUE;
</I>&gt;<i>     }
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> $coll = new Collector();  // create a new collection
</I>&gt;<i> $testA = new testA(&amp;$coll);  // pass the reference to the 
</I>&gt;<i> common collection
</I>&gt;<i> $testB = new testB(&amp;$coll);  // pass the same collection reference to 
</I>&gt;<i> this class
</I>&gt;<i> 
</I>&gt;<i> /* create an array of test data */
</I>&gt;<i> $tests = array (
</I>&gt;<i> 0 =&gt; array(1, 1, 2), 1 =&gt; array (1, 2, 3), 2 =&gt; array(1, 3, 4),
</I>&gt;<i> 3 =&gt; array(1, 3, 2), 4 =&gt; array (1, 4, 3), 5 =&gt; array(7, 3, 4)
</I>&gt;<i> );
</I>&gt;<i> 
</I>&gt;<i> $count = count($tests);
</I>&gt;<i> 
</I>&gt;<i> $msg = 0;
</I>&gt;<i> 
</I>&gt;<i> /* run through the tests */
</I>&gt;<i> for ($x=0; $x&lt;$count; $x++)
</I>&gt;<i> {
</I>&gt;<i>     if (!$testA-&gt;test($tests[$x][0],$tests[$x][1],$tests[$x][2])) // 
</I>&gt;<i> addition test
</I>&gt;<i>     {
</I>&gt;<i>         $msg++;  // if the test fails then increment the flag, so we 
</I>&gt;<i> know to display the collection
</I>&gt;<i>     }
</I>&gt;<i>     if (!$testB-&gt;test($tests[$x][0],$tests[$x][1],$tests[$x][2])) // 
</I>&gt;<i> subtraction test
</I>&gt;<i>     {
</I>&gt;<i>         $msg++; // if the test fails then increment the flag, 
</I>&gt;<i> so we know 
</I>&gt;<i> to display the collection
</I>&gt;<i>     }
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> if ($msg &gt; 0)
</I>&gt;<i> {
</I>&gt;<i>     echo $coll-&gt;getCollection();
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> ?&gt;
</I>&gt;<i> 
</I>&gt;<i> This code outputs:
</I>&gt;<i> testA is true
</I>&gt;<i> testB is false
</I>&gt;<i> testA is true
</I>&gt;<i> testB is false
</I>&gt;<i> testA is true
</I>&gt;<i> testB is false
</I>&gt;<i> testA is false
</I>&gt;<i> testB is false
</I>&gt;<i> testA is false
</I>&gt;<i> testB is false
</I>&gt;<i> testA is false
</I>&gt;<i> testB is true
</I>&gt;<i> 
</I>&gt;<i> Array
</I>&gt;<i> (
</I>&gt;<i>     [0] =&gt; 1 - 1 != 2
</I>&gt;<i>     [1] =&gt; 1 - 2 != 3
</I>&gt;<i>     [2] =&gt; 1 - 3 != 4
</I>&gt;<i>     [3] =&gt; 1 + 3 != 2
</I>&gt;<i>     [4] =&gt; 1 - 3 != 2
</I>&gt;<i>     [5] =&gt; 1 + 4 != 3
</I>&gt;<i>     [6] =&gt; 1 - 4 != 3
</I>&gt;<i>     [7] =&gt; 7 + 3 != 4
</I>&gt;<i> )
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> Chris Hubbard
</I>&gt;<i> Sr Software Developer
</I>&gt;<i> Next Online
</I>&gt;<i> 425 563 4153
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> talk mailing list
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk at lists.nyphp.org</A>
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008513.html">[nycphp-talk] multiple classes writing to a common container
</A></li>
	<LI>Next message: <A HREF="008505.html">[nycphp-talk] more about SUSE ( 9.1 will support Linux 2.6 	kernel)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8504">[ date ]</a>
              <a href="thread.html#8504">[ thread ]</a>
              <a href="subject.html#8504">[ subject ]</a>
              <a href="author.html#8504">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] when MySQL &quot;rollback&quot; doesn't
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2004-March/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20when%20MySQL%20%22rollback%22%20doesn%27t&In-Reply-To=%3CPine.BSF.4.58.0403250932180.15404%40emra.pair.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008543.html">
   <LINK REL="Next"  HREF="008540.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] when MySQL &quot;rollback&quot; doesn't</H1>
    <B>David Mintz</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20when%20MySQL%20%22rollback%22%20doesn%27t&In-Reply-To=%3CPine.BSF.4.58.0403250932180.15404%40emra.pair.com%3E"
       TITLE="[nycphp-talk] when MySQL &quot;rollback&quot; doesn't">dmintz at davidmintz.org
       </A><BR>
    <I>Thu Mar 25 09:46:13 EST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008543.html">[nycphp-talk] when MySQL &quot;rollback&quot; doesn't
</A></li>
        <LI>Next message: <A HREF="008540.html">[nycphp-talk] Best OO PHP book
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8577">[ date ]</a>
              <a href="thread.html#8577">[ thread ]</a>
              <a href="subject.html#8577">[ subject ]</a>
              <a href="author.html#8577">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I figured out what was going on and thought I'd follow up, if only for the
sake of someone else who encounters this down the road and searches the
list archives for help.

It appears -- according to my experiments -- that if you lock and unlock
table X inside a transaction and then try to roll back an update to table
X, it will won't roll back. Evidently you need to roll back before you
unlock.

Perhaps this is obvious to those who are more knowledgeable, but to me it
wasn't, and I didn't find any relevant clues from RTFM. books, or google.
My several hours of head-banging may have been inefficient, but not
completely unproductive (-:


On Tue, 23 Mar 2004, Daniel Convissor wrote:

&gt;<i> Hi David:
</I>&gt;<i>
</I>&gt;<i> On Tue, Mar 23, 2004 at 04:04:30PM -0500, David Mintz wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; classes and objects in PHP4 that I'm running into? I'm working with 4.3.4
</I>&gt;<i> &gt; and Win2K and MySQL 4.0.13-max-nt-log.
</I>&gt;<i> ... snip ...
</I>&gt;<i> &gt; btw I have run little tests where I do stuff with the same tables, and
</I>&gt;<i> &gt; roll it back, but without using these objects/classes, and it works. So it
</I>&gt;<i> &gt; isn't something stupid like wrong table type.
</I>&gt;<i>
</I>&gt;<i> Not to doubt you, but, uh, I guess I will, you're using innodb tables,
</I>&gt;<i> right?  Okay, you are.  So, you've got a bug in your code.  Echo out each
</I>&gt;<i> query before you execute it.  Make sure the scripts/queries are executing
</I>&gt;<i> in the order you expect.  Then, if that doesn't get you no love, go to the
</I>&gt;<i> length of copying/pasting the queries in the same order into a MySQL
</I>&gt;<i> command line shell.
</I>


---
David Mintz
<A HREF="http://davidmintz.org/">http://davidmintz.org/</A>

        &quot;Anybody else got a problem with Webistics?&quot; -- Sopranos 24:17

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008543.html">[nycphp-talk] when MySQL &quot;rollback&quot; doesn't
</A></li>
	<LI>Next message: <A HREF="008540.html">[nycphp-talk] Best OO PHP book
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8577">[ date ]</a>
              <a href="thread.html#8577">[ thread ]</a>
              <a href="subject.html#8577">[ subject ]</a>
              <a href="author.html#8577">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

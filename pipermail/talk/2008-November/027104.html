<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] User Input Data scrubbing
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-November/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20User%20Input%20Data%20scrubbing&In-Reply-To=%3C20081128221507.JURQ10245.hrndva-omta03.mail.rr.com%40DeJaVu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027101.html">
   <LINK REL="Next"  HREF="027105.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] User Input Data scrubbing</H1>
    <B>Michele Waldman</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20User%20Input%20Data%20scrubbing&In-Reply-To=%3C20081128221507.JURQ10245.hrndva-omta03.mail.rr.com%40DeJaVu%3E"
       TITLE="[nycphp-talk] User Input Data scrubbing">mmwaldman at nyc.rr.com
       </A><BR>
    <I>Fri Nov 28 17:15:11 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027101.html">[nycphp-talk] User Input Data scrubbing
</A></li>
        <LI>Next message: <A HREF="027105.html">[nycphp-talk] User Input Data scrubbing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27104">[ date ]</a>
              <a href="thread.html#27104">[ thread ]</a>
              <a href="subject.html#27104">[ subject ]</a>
              <a href="author.html#27104">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>But if I replace ' with &amp;#39;, there aren't two passes that need to be made.

 

Michele

 

  _____  

From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A> [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>] On
Behalf Of Elijah Insua
Sent: Friday, November 28, 2008 5:09 PM
To: NYPHP Talk
Subject: Re: [nycphp-talk] User Input Data scrubbing

 

Michelle,

you should clean the data in 2 different ways.  first, get rid of all of the
xss stuff.  Then before you insert the cleaned data into the database, clean
out any attempts at SQL injection.

There are tons of frameworks and libraries out there that handle exactly
this.


-- Elijah

On Fri, Nov 28, 2008 at 4:59 PM, Michele Waldman &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mmwaldman at nyc.rr.com</A>&gt;
wrote:

What about inserting a comment

 

&lt;script&gt;alert('hi');&lt;/script&gt;'; delete from users;

 

Like I'm going to name my table users?

 

With that one statement about they have performed a sql injection and html
injection in one stroke.

 

Bada bing bada bang bada boom

 

Next time I display their comment out of the database they are popping up an
alert to every user and my users are gone.

 

Michele

 

 

  _____  

From: <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A> [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">talk-bounces at lists.nyphp.org</A>] On
Behalf Of Elijah Insua
Sent: Friday, November 28, 2008 3:27 PM
To: NYPHP Talk


Subject: Re: [nycphp-talk] User Input Data scrubbing

 

Michele,




SQL injection and Html injection are two separate issues.  

SQL injection is something like a user posting ';DELETE FROM users;  where
it deletes all of your user accounts.

Html/Cross Site Scripting is more along the lines of what you are talking
about.  There are tons of libraries out there
that attempt to kill off as many of these as possible.

As far as your 255 character theory, it is not completely true.  There are
other character sets such as UTF-8 which allow
for 65 thousand characters.  I would seriously invest some time into finding
a library that you can integrate.

- Elijah

On Fri, Nov 28, 2008 at 3:04 PM, Michele Waldman &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mmwaldman at nyc.rr.com</A>&gt;
wrote:

Could ya'll repost any responses to this.  Apparently, my new email address
wasn't subscribed to the mailing list.

 

  _____  

From: Michele Waldman [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mmwaldman at nyc.rr.com</A>] 
Sent: Friday, November 28, 2008 2:06 PM
To: 'NYPHP Talk'
Subject: User Input Data scrubbing

 

I'm trying to scrub data input to insert into a database which I will later
display on the website.

 

In order to prevent sql injections and html injections into the code, I
figured I'd just replace non alphanumeric characters with their html special
character codes and remove any control characters all together except
carriage return.

 

The ascii character codes only go up to 255.

 

However, there are lots more characters in html.

 

If the user creates a string from which was generated using html using
characters outside of the ascii character codes, what do those get
translated to in the string?  A garage character?

 

Is that a concern?  Or is my only concern those 255 characters in the ascii
chart?  I'm thinking the 255 characters covers it all.  The characters are a
finite set which were long ago predefined, unless that changes in the
future, right?  This means scrubbing the data is a short function.

 

I'm not using mysql_real_escape_string, because I replace all ' and &quot; with
their html character code.

 

I'm not using htmlspecialchars, because it wasn't thorough enough.  I simply
wrote a function that replaces just about every character with it's html
character code.

 

I'm doing this in php after the data is passed to me.

 

Now, in the case of ajax, I just need to come up with a good approach for
checking the data received from php, which may vary depending on the type of
ajax used.

 

Michele


_______________________________________________
New York PHP User Group Community Talk Mailing List
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>

<A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>

 


_______________________________________________
New York PHP User Group Community Talk Mailing List
<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>

<A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20081128/5f62df90/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20081128/5f62df90/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027101.html">[nycphp-talk] User Input Data scrubbing
</A></li>
	<LI>Next message: <A HREF="027105.html">[nycphp-talk] User Input Data scrubbing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27104">[ date ]</a>
              <a href="thread.html#27104">[ thread ]</a>
              <a href="subject.html#27104">[ subject ]</a>
              <a href="author.html#27104">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] Disappearing $_SESSION variables after using header ()
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-November/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Disappearing%20%24_SESSION%20variables%20after%20using%0A%20header%20%28%29&In-Reply-To=%3C492BE53D.1090707%40gmx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027056.html">
   <LINK REL="Next"  HREF="027060.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] Disappearing $_SESSION variables after using header ()</H1>
    <B>David Krings</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20Disappearing%20%24_SESSION%20variables%20after%20using%0A%20header%20%28%29&In-Reply-To=%3C492BE53D.1090707%40gmx.net%3E"
       TITLE="[nycphp-talk] Disappearing $_SESSION variables after using header ()">ramons at gmx.net
       </A><BR>
    <I>Tue Nov 25 06:45:01 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027056.html">[nycphp-talk] Disappearing $_SESSION variables after using	header ()
</A></li>
        <LI>Next message: <A HREF="027060.html">[nycphp-talk] Disappearing $_SESSION variables after using	header ()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27057">[ date ]</a>
              <a href="thread.html#27057">[ thread ]</a>
              <a href="subject.html#27057">[ subject ]</a>
              <a href="author.html#27057">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Tony Furnivall wrote:
&gt;<i> I now have that part of things working fine. However, because there is 
</I>&gt;<i> an implicit exit; after issuing the call to header (), I'm uncertain if 
</I>&gt;<i> the $_SESSION variables are being set properly.
</I>&gt;<i> 
</I>&gt;<i> When I trace them at the end of one page they are all there 
</I>&gt;<i> ($_SESSION['userid'] = $userid; $_SESSION['badgename']=$badgename;), but 
</I>&gt;<i> when I examine the $_SESSION array at the start of the next page, the 
</I>&gt;<i> variables do not exist. My guess is that by short-circuiting any nrmal 
</I>&gt;<i> end-of-script processing, I may be bypassing the write of the $_SESSION 
</I>&gt;<i> array to the temporary file. This feels like forcing a buffer-flush when 
</I>&gt;<i> working with low-level disc IO. Is there any known reason for $_SESSION 
</I>&gt;<i> variables to disappear in such circumstances?
</I>&gt;<i> 
</I>&gt;<i> Does anyone have any other ideas?
</I>
I use the header() redirect frequently in combination with sessions. What I 
found to be a mandatory must at all times is to execute session_start(); at 
the very beginning of any script working with the session variable. Do that 
before including any files, setting anything, or executing any code. That 
always did the trick for me. Doing it a few lines further down when it would 
make logical sense often caused that the session was gone, even when 
referencing the session_ID.
Also, and I think that is in one of the annotations on php.net for header(), 
when using the header() redirect explicitly write the values to the session 
(of course I forgot the command for that). At times the redirect is completed 
before the session is written out and with a new request coming in the PHP 
interpreter gets confused as to what belongs where.

David

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027056.html">[nycphp-talk] Disappearing $_SESSION variables after using	header ()
</A></li>
	<LI>Next message: <A HREF="027060.html">[nycphp-talk] Disappearing $_SESSION variables after using	header ()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27057">[ date ]</a>
              <a href="thread.html#27057">[ thread ]</a>
              <a href="subject.html#27057">[ subject ]</a>
              <a href="author.html#27057">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>

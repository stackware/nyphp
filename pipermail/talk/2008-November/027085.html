<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-51353372-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-51353372-3');
</script>
   <TITLE> [nycphp-talk] HTTP_REFERER
   </TITLE>
   <LINK REL="Index" HREF="http://nyphp.org/pipermail/talk/2008-November/index.html" >
   <LINK REL="made" HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20HTTP_REFERER&In-Reply-To=%3C2b4feca10811281222j4e5cd68do368bf5295fdcd172%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027081.html">
   <LINK REL="Next"  HREF="027089.html">
 <meta name="description" content="PHP jobs stackware web application support and development forums for Mongo LAMP MySQL SQL Windows IIS Linux." />
<meta name="author" content="Stackware Web Development - http://stackware.com" />
<meta name="verify-v1" content="zWMoPwMn/dolscLkjLXTpRqgr9K8bzlzL1vM9WTjpHc=" />
<meta name="msvalidate.01" content="F85F81C1D0BAB5C349E8395628845E27" />
<meta name="y_key" content="265502be3db4fb6e" />
</HEAD>
         <BODY BGCOLOR="#ffffff">
<h1 style="float: right; margin: 0; padding: 0 0 0 15px;"><a href="https://www.meetup.com/new-york-php/">NYCPHP Meetup</a></h1><h1><a href="http://www.nyphp.org">NYPHP.org</a></h1>
   <H1>[nycphp-talk] HTTP_REFERER</H1>
    <B>Elijah Insua</B> 
    <A HREF="mailto:talk%40lists.nyphp.org?Subject=Re:%20Re%3A%20%5Bnyphp-talk%5D%20HTTP_REFERER&In-Reply-To=%3C2b4feca10811281222j4e5cd68do368bf5295fdcd172%40mail.gmail.com%3E"
       TITLE="[nycphp-talk] HTTP_REFERER">tmpvar at gmail.com
       </A><BR>
    <I>Fri Nov 28 15:22:34 EST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027081.html">[nycphp-talk] HTTP_REFERER
</A></li>
        <LI>Next message: <A HREF="027089.html">[nycphp-talk] HTTP_REFERER
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27085">[ date ]</a>
              <a href="thread.html#27085">[ thread ]</a>
              <a href="subject.html#27085">[ subject ]</a>
              <a href="author.html#27085">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Oh! sorry to be so short with my other mail.

Generally when you request a php file on a php enabled web server the code
is executed and output is returned.

In essence this means that if you are returning text ie: &lt;?php echo &quot;hello
world&quot; ?&gt; instead of the execution result ie: hello world
you quite a serious problem on your hands (especially if you include your
passwords and such in a web accessible directory).

A way around this would to do something like (in .htaccess) ...

&lt;IfModule !php_module&gt;
    Deny from all
&lt;/IfModule&gt;

Which basically says, if the php module is not installed.. throw a &quot;Access
Denied&quot; error to the requestor.

-------

As far as locking the user into a specific domain, I would reccommend you
use php sessions.  In which
case you can force a cookie to work for a specific domain.  If the user
attempts to create a cookie manually
it wont work as they would have to guess an active session id.

This breaches on the topic of Cross Site Scripting, but sessions should be
good enough for your needs.

-- Elijah


On Fri, Nov 28, 2008 at 3:04 PM, Michele Waldman &lt;<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mmwaldman at nyc.rr.com</A>&gt;wrote:

&gt;<i>  Could ya'll repost any responses to this.  Apparently, my new email
</I>&gt;<i> address wasn't subscribed to the mailing list.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  ------------------------------
</I>&gt;<i>
</I>&gt;<i> *From:* Michele Waldman [mailto:<A HREF="http://lists.nyphp.org/mailman/listinfo/talk">mmwaldman at nyc.rr.com</A>]
</I>&gt;<i> *Sent:* Friday, November 28, 2008 2:19 PM
</I>&gt;<i> *To:* 'NYPHP Talk'
</I>&gt;<i> *Subject:* HTTP_REFERER
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I once had a problem with my server executing php and the code was dumped
</I>&gt;<i> out to the screen.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> So, php isn't that terribly secure if your server has a glitch.  So many
</I>&gt;<i> folks put their passwords right there in a file that can be dumped to the
</I>&gt;<i> screen.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> In my current case I am using ajax because xmlhttp doesn't cross domains, I
</I>&gt;<i> didn't have a real security risk I believe from users call the php file
</I>&gt;<i> directly with data.  There would have to be a function call to execute the
</I>&gt;<i> php.  Without someone calling a function, nothing would happen.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> If someone remotely embedded my php file remotely in their app, they could
</I>&gt;<i> have made a function call if they knew the name?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> What does anyone know about linking a php file from another server?  I
</I>&gt;<i> haven't really tried it.  I don't think.  That would be my real concern.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The php.org docs say the http_referer can not be trusted.  Plus, I didn't
</I>&gt;<i> even see it defined in my phpinfo.  I don't know if it's only defined if
</I>&gt;<i> there is an explicit statement to do so.  Do you know another way of
</I>&gt;<i> requiring that some php files are only called by an app in the same domain?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I'd like to either prevent a remote call to my php file in htaccess.  I was
</I>&gt;<i> thinking something like:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> RewriteEngine On
</I>&gt;<i>
</I>&gt;<i> RewriteCond %{HTTP_REFERER} !^<A HREF="http://(.+\.">http://(.+\.</A>)?wantedgaming\.com/ [NC]
</I>&gt;<i>
</I>&gt;<i> RewriteCond %{HTTP_REFERER} !^$
</I>&gt;<i>
</I>&gt;<i> RewriteRule .myfile\.php$ stub.php [L]
</I>&gt;<i>
</I>&gt;<i> RewriteRule .myfile2\.php$ stub.php [L]
</I>&gt;<i>
</I>&gt;<i> RewriteRule .myfile3\.php$ stub.php [L]
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I was thinking I wanted to reinforce this inside the php file, but if
</I>&gt;<i> htaccess has it covered, it's probably a non-issue.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Does this look right?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Michele
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> New York PHP User Group Community Talk Mailing List
</I>&gt;<i> <A HREF="http://lists.nyphp.org/mailman/listinfo/talk">http://lists.nyphp.org/mailman/listinfo/talk</A>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.nyphp.org/show_participation.php">http://www.nyphp.org/show_participation.php</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.nyphp.org/pipermail/talk/attachments/20081128/fd708e9c/attachment.html">http://lists.nyphp.org/pipermail/talk/attachments/20081128/fd708e9c/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027081.html">[nycphp-talk] HTTP_REFERER
</A></li>
	<LI>Next message: <A HREF="027089.html">[nycphp-talk] HTTP_REFERER
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27085">[ date ]</a>
              <a href="thread.html#27085">[ thread ]</a>
              <a href="subject.html#27085">[ subject ]</a>
              <a href="author.html#27085">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.nyphp.org/mailman/listinfo/talk">More information about the talk
mailing list</a><br>
</body></html>
